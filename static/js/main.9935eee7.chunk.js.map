{"version":3,"sources":["utils/serviceWorker.js","imgs/books.png","imgs/sparkLink.jpg","imgs/sparkLink.png","imgs/metamask.png","imgs/mathwallet.png","utils/isMobile.js","components/LanguageBtn.js","utils/web3.js","global/globalsString.js","components/TopBar.js","imgs/TP.png","App.js","utils/contract.js","view/Publish.js","imgs/poster.png","imgs/imgloading.png","components/Poster.js","components/MaskLayer.js","global/config.js","view/NFTInfo.js","view/SellSingle.js","view/BuySingle.js","view/Collections.js","view/NFTSpark.js","view/IntroPublish.js","view/EncryptedPublish.js","view/Buy.js","router/Router.js","utils/i18n.js","index.js","project.secret.js"],"names":["Boolean","window","location","hostname","match","userAgent","navigator","toLowerCase","isMobile","test","tokenId","options","lngOptions","LanguageBtn","web3","fontColor","userProfile","reactLocalStorage","getObject","language","i18next","indexInit","useState","selectedIndex","setSelectedIndex","React","anchorEl","setAnchorEl","handleCloseProfile","index","a","changeLanguage","setObject","Button","onClick","event","currentTarget","style","color","toUpperCase","Menu","id","keepMounted","open","onClose","map","option","MenuItem","selected","value","TOKENPOCKET","METAMASK","LASTCONNECT","MATHWALLET","Web3","currentProvider","error","tp","require","mathwallet","TopBar","state","isConnected","userAddress","accountInfo","dialogOpen","wallet","checkMetaMask","givenProvider","eth","getAccounts","accounts","console","log","length","setState","account","substring","localStorage","setItem","checkTokenPocket","getCurrentWallet","then","data","address","checkMathWallet","handleSelectTokenPockect","getTokenPocketAccount","handleSelectMetaMask","getMetaMaskAccount","handleSelectMathWallet","getMathWalletAccount","handleDialogOpen","handleDialogClose","sleep","ms","Promise","resolve","setTimeout","request","method","alert","debug","getWallet","walletTypes","switch","handleTokenButtonOnClick","getItem","disconnect","removeItem","lastConnect","this","classes","props","t","Dialog","className","dialog","DialogTitle","title","Typography","component","noWrap","DialogContent","Grid","container","spacing","size","btnWallet","btnImg","src","metamaskpic","mathwalletpic","textAlign","Toolbar","direction","justifyContent","wrap","item","titleGrid","href","logo","btnGrid","btn","target","GithubOutlined","icon","variant","btnUser","titleToken","Component","withTranslation","withStyles","theme","breakpoints","down","fontSize","up","marginTop","marginBottom","fontFamily","between","minWidth","display","alignItems","flexWrap","width","borderColor","height","objectFit","content","fullLogo","sLogo","withTheme","createTheme","palette","primary","main","secondary","App","ThemeProvider","page","Container","paper","title2","title3","xs","books","btnMain","btnSecond","marginRight","titleFont","borderWidth","borderRadius","maxWidth","Contract","inputs","stateMutability","type","anonymous","indexed","internalType","name","outputs","pinata_api_key","pinata_secret_api_key","FormData","bs58","Option","Select","abi","Publish","bonusFee","price","buffer","ipfsHashCover","ipfsMeta","fileIpfs","description","shareTimes","onLoading","rootNFTId","userAccount","sig","fileType","finished","coverURL","token_addr","token_symbol","decimal","handleGetPubName","handleGetBonusFee","handleGetPrice","handleGetShareTimes","handleGetDescription","e","handleSearch","values","tokens_list","tokens","matched_data","reg","RegExp","token","symbol_lower_case","symbol","showed_text","info","text","includes","push","handleSelectChange","token_decimal","decimals","undefined","token_contract","methods","call","message","submit","obj","img_url","trimmed_des","replace","ethereum","file_url","JSONBody","image","attributes","display_type","trait_type","axios","post","headers","response","IpfsHash","bytes","decode","bytesToContract","toString","price_with_decimal","ipfsToContract","getGasPrice","gasPrice","new_gas_price","Math","floor","parseInt","contract","publish","send","from","on","receipt","returned_values","events","returnValues","root_nft_id","issue_id","issueId","success","warning","checkDetail","new_url","params","chainId","TextArea","Input","d","prop","action","beforeUpload","file","reject","reader","FileReader","readAsArrayBuffer","onload","b","result","append","onChange","status","onDrop","dataTransfer","files","propFile","file_type","split","file_suffix","spinning","titleCon","Paper","paperImg","button","titlePub","form","noValidate","placeholder","allowClear","input","defaultValue","min","max","formatter","parser","inputNum","showSearch","defaultActiveFirstOption","showArrow","filterOption","onSearch","notFoundContent","rows","minHeight","accept","InboxOutlined","startIcon","CloudUploadOutlined","backgroundColor","marginLeft","flexDirection","avatar","margin","blue","fileBtn","padding","background","border","boxShadow","Poster","str","share","coverImg","coverHeight","coverWidth","splited","currency","imgRef","useRef","useEffect","draw","ctx","dataUrl","qrcode","Image","drawImage","crossOrigin","h","w","ratio","standardRatio","preWidth","preHeight","getImgPos","bg","bgImg","font","fillText","strokeRect","QRCode","toDataURL","errorCorrectionLevel","quality","canvas","document","createElement","getContext","globalCompositeOperation","dataURL","current","alt","ref","loading","MaskLayer","position","left","top","children","config","gateway","backend","sparkAddr","FileSaver","CryptoJS","NFTInfo","showDecryptProgress","decryptPercentage","showProgress","percentage","Profit","loadItem","Cover","Name","Description","BonusFee","childrenNum","encrypted","isEncrypt","spark","tokenAddr","tokenSymbol","return","reload","claim","claimProfit","downloadIPFS","dataSplits","dataHash","cipher_config","url","onDownloadProgress","progress","round","loaded","total","ciphertext","signDataAndDecrypt","open_config","responseType","URL","createObjectURL","Blob","link","suffix","fileName","download","body","appendChild","click","removeChild","revokeObjectURL","signer","nft_id","json_str","JSON","stringify","personal","sign","payload","signature","payload_str","req_key_url","res","key","AES","decrypt","plainText","enc","Utf8","wordArray","Hex","parse","BaText","wordArrayToByteArray","blob","saveAs","error_msg","wordToByteArray","word","lengthBefore","addedLength","Object","prototype","hasOwnProperty","sigBytes","words","bytesAdded","current_bytes","i","added_info","percent","Uint8Array","flag","downloadPoster","getShillPriceByNFTId","ownerOf","owner","utils","toChecksumAddress","getTokenAddrByNFTId","getProfitByNFTId","profit","price_poster","tokenURI","meta","hash","getIssueIdByNFTId","issue","getRoyaltyFeeByIssueId","royalty","file_hash","request_url","timeout","bouns","fileAddr","leafUrl","get","children_num","children_count","catch","gutterBottom","ArrowLeftOutlined","alignContent","cbutton","MoneyCollectOutlined","DollarCircleOutlined","Skeleton","animation","imagePapaer","imageStyle","content2","align","paragraph","cbutton2","DownloadOutlined","FireOutlined","toUrl","host","coverRef","getElementById","sell_info","SellSingle","ipfsHashMeta","toAddress","NFTId","onSale","copied","currentAcc","handleClickOpen","handleClose","handleGetAddr","handleClickLink","sell","determinePriceAndApprove","metadata","bonus","name_holder","getTransferPriceByNFTId","child_url","showSellBtn","btnSell","disabled","img","imgPaper","DialogContentText","DialogActions","onCopy","IconButton","CopyOutlined","BuySingle","handleBuy","safeTransferFrom","handleApprove","approve","approved","priceString","approvedAddr","getApproved","allowance","buyButton","btnDisable","Collections","getMetadata","ids","all","ipfs_link","ipfs_hash_arr","ipfs_hash","getNft","nft","checksum_address","onloading","SkeletoNumber","renderDescription","isLogin","user_address","viewable","cards","noNFT","setProvider","providers","HttpProvider","balanceOf","nft_number","metadatas","element","reversed_cards","reverse","_chainId","cardGrid","Array","card","sm","md","Card","CardMedia","cardMedia","CardContent","cardContent","CardActions","showCard","heroContent","paddingTop","paddingBottom","flexGrow","NFTSpark","remainShillTimes","maxShillTimes","recommendNFT","shill","acceptShill","remain_shill_times","max_shill_times","shill_times","suggest_next_nft","showRecommend","imagePaper","Link","textDecoration","IntroPublish","shouldKnow","lineHeight","EncryptedPublish","allowSubmitPDF","usedAcc","jumped","handleGetNFTId","String","jump","submitWork","setURI","SetURI","secret_key","lib","WordArray","create","cipher_text","encrypt","myblob","btnPub","Buy","BasicRoute","exact","path","Spark","use","XHR","LanguageDetector","initReactI18next","init","loadPath","react","useSuspense","fallbackLng","preload","keySeparator","interpolation","escapeValue","ReactDOM","render","Router","serviceWorker","ready","registration","unregister","module","exports"],"mappings":"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","file":"static/js/main.9935eee7.chunk.js","sourcesContent":["// This optional code is used to register a service worker.\r\n// register() is not called by default.\r\n\r\n// This lets the app load faster on subsequent visits in production, and gives\r\n// it offline capabilities. However, it also means that developers (and users)\r\n// will only see deployed updates on subsequent visits to a page, after all the\r\n// existing tabs open on the page have been closed, since previously cached\r\n// resources are updated in the background.\r\n\r\n// To learn more about the benefits of this model and instructions on how to\r\n// opt-in, read https://bit.ly/CRA-PWA\r\n\r\nconst isLocalhost = Boolean(\r\n\twindow.location.hostname === 'localhost' ||\r\n\t\t// [::1] is the IPv6 localhost address.\r\n\t\twindow.location.hostname === '[::1]' ||\r\n\t\t// 127.0.0.0/8 are considered localhost for IPv4.\r\n\t\twindow.location.hostname.match(/^127(?:\\.(?:25[0-5]|2[0-4][0-9]|[01]?[0-9][0-9]?)){3}$/)\r\n)\r\n\r\nexport function register(config) {\r\n\tif (process.env.NODE_ENV === 'production' && 'serviceWorker' in navigator) {\r\n\t\t// The URL constructor is available in all browsers that support SW.\r\n\t\tconst publicUrl = new URL(process.env.PUBLIC_URL, window.location.href)\r\n\t\tif (publicUrl.origin !== window.location.origin) {\r\n\t\t\t// Our service worker won't work if PUBLIC_URL is on a different origin\r\n\t\t\t// from what our page is served on. This might happen if a CDN is used to\r\n\t\t\t// serve assets; see https://github.com/facebook/create-react-app/issues/2374\r\n\t\t\treturn\r\n\t\t}\r\n\r\n\t\twindow.addEventListener('load', () => {\r\n\t\t\tconst swUrl = `${process.env.PUBLIC_URL}/service-worker.js`\r\n\r\n\t\t\tif (isLocalhost) {\r\n\t\t\t\t// This is running on localhost. Let's check if a service worker still exists or not.\r\n\t\t\t\tcheckValidServiceWorker(swUrl, config)\r\n\r\n\t\t\t\t// Add some additional logging to localhost, pointing developers to the\r\n\t\t\t\t// service worker/PWA documentation.\r\n\t\t\t\tnavigator.serviceWorker.ready.then(() => {\r\n\t\t\t\t\tconsole.log(\r\n\t\t\t\t\t\t'This web app is being served cache-first by a service ' +\r\n\t\t\t\t\t\t\t'worker. To learn more, visit https://bit.ly/CRA-PWA'\r\n\t\t\t\t\t)\r\n\t\t\t\t})\r\n\t\t\t} else {\r\n\t\t\t\t// Is not localhost. Just register service worker\r\n\t\t\t\tregisterValidSW(swUrl, config)\r\n\t\t\t}\r\n\t\t})\r\n\t}\r\n}\r\n\r\nfunction registerValidSW(swUrl, config) {\r\n\tnavigator.serviceWorker\r\n\t\t.register(swUrl)\r\n\t\t.then((registration) => {\r\n\t\t\tregistration.onupdatefound = () => {\r\n\t\t\t\tconst installingWorker = registration.installing\r\n\t\t\t\tif (installingWorker == null) {\r\n\t\t\t\t\treturn\r\n\t\t\t\t}\r\n\t\t\t\tinstallingWorker.onstatechange = () => {\r\n\t\t\t\t\tif (installingWorker.state === 'installed') {\r\n\t\t\t\t\t\tif (navigator.serviceWorker.controller) {\r\n\t\t\t\t\t\t\t// At this point, the updated precached content has been fetched,\r\n\t\t\t\t\t\t\t// but the previous service worker will still serve the older\r\n\t\t\t\t\t\t\t// content until all client tabs are closed.\r\n\t\t\t\t\t\t\tconsole.log(\r\n\t\t\t\t\t\t\t\t'New content is available and will be used when all ' +\r\n\t\t\t\t\t\t\t\t\t'tabs for this page are closed. See https://bit.ly/CRA-PWA.'\r\n\t\t\t\t\t\t\t)\r\n\r\n\t\t\t\t\t\t\t// Execute callback\r\n\t\t\t\t\t\t\tif (config && config.onUpdate) {\r\n\t\t\t\t\t\t\t\tconfig.onUpdate(registration)\r\n\t\t\t\t\t\t\t}\r\n\t\t\t\t\t\t} else {\r\n\t\t\t\t\t\t\t// At this point, everything has been precached.\r\n\t\t\t\t\t\t\t// It's the perfect time to display a\r\n\t\t\t\t\t\t\t// \"Content is cached for offline use.\" message.\r\n\t\t\t\t\t\t\tconsole.log('Content is cached for offline use.')\r\n\r\n\t\t\t\t\t\t\t// Execute callback\r\n\t\t\t\t\t\t\tif (config && config.onSuccess) {\r\n\t\t\t\t\t\t\t\tconfig.onSuccess(registration)\r\n\t\t\t\t\t\t\t}\r\n\t\t\t\t\t\t}\r\n\t\t\t\t\t}\r\n\t\t\t\t}\r\n\t\t\t}\r\n\t\t})\r\n\t\t.catch((error) => {\r\n\t\t\tconsole.error('Error during service worker registration:', error)\r\n\t\t})\r\n}\r\n\r\nfunction checkValidServiceWorker(swUrl, config) {\r\n\t// Check if the service worker can be found. If it can't reload the page.\r\n\tfetch(swUrl, {\r\n\t\theaders: { 'Service-Worker': 'script' },\r\n\t})\r\n\t\t.then((response) => {\r\n\t\t\t// Ensure service worker exists, and that we really are getting a JS file.\r\n\t\t\tconst contentType = response.headers.get('content-type')\r\n\t\t\tif (response.status === 404 || (contentType != null && contentType.indexOf('javascript') === -1)) {\r\n\t\t\t\t// No service worker found. Probably a different app. Reload the page.\r\n\t\t\t\tnavigator.serviceWorker.ready.then((registration) => {\r\n\t\t\t\t\tregistration.unregister().then(() => {\r\n\t\t\t\t\t\twindow.location.reload()\r\n\t\t\t\t\t})\r\n\t\t\t\t})\r\n\t\t\t} else {\r\n\t\t\t\t// Service worker found. Proceed as normal.\r\n\t\t\t\tregisterValidSW(swUrl, config)\r\n\t\t\t}\r\n\t\t})\r\n\t\t.catch(() => {\r\n\t\t\tconsole.log('No internet connection found. App is running in offline mode.')\r\n\t\t})\r\n}\r\n\r\nexport function unregister() {\r\n\tif ('serviceWorker' in navigator) {\r\n\t\tnavigator.serviceWorker.ready.then((registration) => {\r\n\t\t\tregistration.unregister()\r\n\t\t})\r\n\t}\r\n}\r\n//todo\r\n","export default __webpack_public_path__ + \"static/media/books.6e483aa8.png\";","export default __webpack_public_path__ + \"static/media/sparkLink.e9f284b5.jpg\";","export default __webpack_public_path__ + \"static/media/sparkLink.250e0a02.png\";","export default __webpack_public_path__ + \"static/media/metamask.31c2d1d3.png\";","export default __webpack_public_path__ + \"static/media/mathwallet.9618316e.png\";","//\r\nvar isMobile;\r\nlet userAgent = navigator.userAgent.toLowerCase();\r\nif (/ipad|iphone|midp|rv:1.2.3.4|ucweb|android|windows ce|windows mobile/.test(userAgent)) {\r\n\tisMobile = true;\r\n} else {\r\n\tisMobile = false;\r\n}\r\nexport default isMobile;\r\n","import React, { useState } from 'react'\r\nimport TranslateIcon from '@material-ui/icons/Translate'\r\nimport DownIcon from '@material-ui/icons/KeyboardArrowDown'\r\nimport MenuItem from '@material-ui/core/MenuItem'\r\nimport Button from '@material-ui/core/Button'\r\nimport Menu from '@material-ui/core/Menu'\r\nimport PropTypes from 'prop-types'\r\nimport { reactLocalStorage } from 'reactjs-localstorage'\r\nimport i18next from 'i18next'\r\n\r\nconst tokenId = 'multilanguage_demo'\r\nconst options = ['English', '']\r\nconst lngOptions = ['en', 'zh']\r\n\r\nfunction LanguageBtn({ fontColor }) {\r\n\tlet userProfile = reactLocalStorage.getObject(tokenId) || {}\r\n\tconst language = userProfile['lng'] || i18next.language\r\n\tconst indexInit = language === 'zh' || language === 'zh-CN' || language === 'zh-cn' ? 1 : 0\r\n\tconst [selectedIndex, setSelectedIndex] = useState(indexInit)\r\n\tconst [anchorEl, setAnchorEl] = React.useState(null)\r\n\r\n\tconst handleClick = (event) => {\r\n\t\tsetAnchorEl(event.currentTarget)\r\n\t}\r\n\tconst handleClose = () => {\r\n\t\tsetAnchorEl(null)\r\n\t}\r\n\tconst handleCloseProfile = (index) => async () => {\r\n\t\tif (index === selectedIndex) {\r\n\t\t\treturn\r\n\t\t}\r\n\t\tsetAnchorEl(null)\r\n\t\tawait i18next.changeLanguage(lngOptions[index])\r\n\t\tuserProfile['lng'] = lngOptions[index]\r\n\t\treactLocalStorage.setObject(tokenId, userProfile)\r\n\t\tsetSelectedIndex(index)\r\n\t}\r\n\r\n\treturn (\r\n\t\t<>\r\n\t\t\t<Button aria-haspopup=\"true\" onClick={handleClick}>\r\n\t\t\t\t<TranslateIcon style={{ color: fontColor }} />\r\n\t\t\t\t<p style={{ color: fontColor }}>{options[selectedIndex].toUpperCase()}</p>\r\n\t\t\t\t<DownIcon style={{ color: fontColor }} />\r\n\t\t\t</Button>\r\n\t\t\t<Menu id=\"simple-menu\" anchorEl={anchorEl} keepMounted open={Boolean(anchorEl)} onClose={handleClose}>\r\n\t\t\t\t{options.map((option, index) => (\r\n\t\t\t\t\t<MenuItem key={option} selected={index === selectedIndex} onClick={handleCloseProfile(index)} value={index}>\r\n\t\t\t\t\t\t{option}\r\n\t\t\t\t\t</MenuItem>\r\n\t\t\t\t))}\r\n\t\t\t</Menu>\r\n\t\t</>\r\n\t)\r\n}\r\n\r\nLanguageBtn.propTypes = {\r\n\tclasses: PropTypes.object,\r\n}\r\n\r\nexport default LanguageBtn\r\n","import Web3 from 'web3';\r\nvar web3;\r\ntry {\r\n\t//web3 = new Web3(window.ethereum);\r\n\tweb3 = new Web3(window.web3.currentProvider);\r\n\t// web3 = new Web3(new Web3.providers.HttpProvider('https://matic-mainnet--jsonrpc.datahub.figment.io/apikey/e84b63fff0e37deb30837101f20eb793/'))\r\n} catch (error) {\r\n\tweb3 = new Web3('ws://localhost:8546');\r\n}\r\nexport default web3;","//\r\nconst TOKENPOCKET = 'TokenPocket';\r\nconst METAMASK = 'MetaMask';\r\nconst LASTCONNECT = 'lastConnect';\r\nconst USERADDRESS = 'userAddress';\r\nconst MATHWALLET = 'MathWallet';\r\n\r\nexport {TOKENPOCKET, METAMASK, LASTCONNECT ,USERADDRESS, MATHWALLET}; ","import React, { Component } from 'react'\r\nimport fullLogo from '../imgs/sparkLink.jpg'\r\nimport sLogo from '../imgs/sparkLink.png'\r\nimport TPpic from '../imgs/TP.png'\r\nimport metamaskpic from '../imgs/metamask.png'\r\nimport mathwalletpic from '../imgs/mathwallet.png'\r\nimport '../App.css'\r\nimport Button from '@material-ui/core/Button'\r\nimport Grid from '@material-ui/core/Grid'\r\nimport { withStyles } from '@material-ui/core/styles'\r\nimport Toolbar from '@material-ui/core/Toolbar'\r\nimport Typography from '@material-ui/core/Typography'\r\n//import ChooseWalletDialog from './ChooseWalletDialog'\r\nimport { Dialog, DialogContent, DialogTitle } from '@material-ui/core'\r\nimport { GithubOutlined } from '@ant-design/icons'\r\nimport Web3 from 'web3'\r\nimport isMobile from '../utils/isMobile'\r\nimport LanguageBtn from './LanguageBtn'\r\nimport { withTranslation } from 'react-i18next'\r\nimport { TOKENPOCKET, METAMASK, LASTCONNECT,  MATHWALLET } from '../global/globalsString'\r\nimport web3 from '../utils/web3';\r\n\r\n\r\n//TP\r\nconst tp = require('tp-js-sdk')\r\n//\r\nconst mathwallet = require('math-js-sdk');\r\n\r\n// const theme = createTheme({\r\n// \tbreakpoints: {\r\n// \t\tvalues: {\r\n// \t\t\txs: 0,\r\n// \t\t\tsm: 600,\r\n// \t\t\tmd: 900,\r\n// \t\t\tlg: 1200,\r\n// \t\t\txl: 1536,\r\n// \t\t},\r\n// \t},\r\n// \tpalette: {\r\n// \t\tprimary: {\r\n// \t\t\tmain: '#2196f3',\r\n// \t\t},\r\n// \t\tsecondary: {\r\n// \t\t\tmain: '#FDFEFE',\r\n// \t\t},\r\n// \t},\r\n// })\r\n\r\n//todo theme\r\nconst styles = (theme) => ({\r\n\ticon: {\r\n\t\t[theme.breakpoints.down('xl')]: {\r\n\t\t\tfontSize: 19,\r\n\t\t},\r\n\t\t[theme.breakpoints.up('xl')]: {\r\n\t\t\tfontSize: 27,\r\n\t\t},\r\n\t},\r\n\ttitleGrid: {\r\n\t\tmarginTop: 25,\r\n\t\tmarginBottom: 10\r\n\t},\r\n\ttitleToken: {\r\n\t\tfontSize: 22,\r\n\t\tfontFamily: 'Teko',\r\n\t\t[theme.breakpoints.between('xs', 'sm')]: {\r\n\t\t\tfontSize: 15,\r\n\t\t},\r\n\t\t[theme.breakpoints.between('sm', 'md')]: {\r\n\t\t\tfontSize: 15,\r\n\t\t},\r\n\t\t[theme.breakpoints.between('md', 'lg')]: {\r\n\t\t\tfontSize: 22,\r\n\t\t},\r\n\t\t[theme.breakpoints.between('lg', 'xl')]: {\r\n\t\t\tfontSize: 25,\r\n\t\t},\r\n\t\t[theme.breakpoints.up('xl')]: {\r\n\t\t\tfontSize: 25,\r\n\t\t},\r\n\t},\r\n\ttitle: {\r\n\t\tminWidth: 100,\r\n\t\tfontSize: 25,\r\n\t\tfontFamily: 'Teko',\r\n\t\t[theme.breakpoints.between('xs', 'sm')]: {\r\n\t\t\tfontSize: 25,\r\n\t\t},\r\n\t\t[theme.breakpoints.between('sm', 'md')]: {\r\n\t\t\tfontSize: 25,\r\n\t\t},\r\n\t\t[theme.breakpoints.between('md', 'lg')]: {\r\n\t\t\tfontSize: 35,\r\n\t\t},\r\n\t\t[theme.breakpoints.between('lg', 'xl')]: {\r\n\t\t\tfontSize: 35,\r\n\t\t},\r\n\t\t[theme.breakpoints.up('xl')]: {\r\n\t\t\tfontSize: 45,\r\n\t\t},\r\n\t},\r\n\tbtnGrid: {\r\n\t\t// marginTop: 25,\r\n\t\tmarginBottom: 10,\r\n\t\tminWidth: 400,\r\n\t\tmarginTop: 30,\r\n\t\tdisplay: 'flex',\r\n\t\talignItems: 'center',\r\n\t\tjustifyContent: 'flex-end',\r\n\t\tflexWrap: 'nowrap'\r\n\t\t// backgroundColor: '#e3f2fd',\r\n\t},\r\n\tdialog: {\r\n\t\ttextAlign: 'center',\r\n\t},\r\n\tbtnImg: {\r\n\t\t[theme.breakpoints.between('xs', 'sm')]: {\r\n\t\t\tfontSize: 20,\r\n\t\t\twidth: 100,\r\n\t\t},\r\n\t\t[theme.breakpoints.between('sm', 'md')]: {\r\n\t\t\twidth: 150,\r\n\t\t},\r\n\t\t[theme.breakpoints.between('md', 'lg')]: {\r\n\t\t\twidth: 150,\r\n\t\t},\r\n\t\t[theme.breakpoints.up('xl')]: {\r\n\t\t\twidth: 150,\r\n\t\t},\r\n\t},\r\n\tbtnWallet: {\r\n\t\tcolor: '#424949',\r\n\t\tborderColor: '#e3f2fd',\r\n\t\ttextAlign: 'center',\r\n\t\tfontSize: 15,\r\n\t\t[theme.breakpoints.between('xs', 'sm')]: {\r\n\t\t\tfontSize: 20,\r\n\t\t\twidth: 100,\r\n\t\t\theight: 100,\r\n\t\t},\r\n\t\t[theme.breakpoints.between('sm', 'md')]: {\r\n\t\t\tfontSize: 22,\r\n\t\t\twidth: 155,\r\n\t\t\theight: 155,\r\n\t\t},\r\n\t\t[theme.breakpoints.between('md', 'lg')]: {\r\n\t\t\tfontSize: 22,\r\n\t\t\twidth: 155,\r\n\t\t\theight: 155,\r\n\t\t},\r\n\t\t[theme.breakpoints.up('xl')]: {\r\n\t\t\tfontSize: 28,\r\n\t\t\twidth: 155,\r\n\t\t\theight: 155,\r\n\t\t},\r\n\t},\r\n\tbtnUser: {\r\n\t\tcolor: '#424949',\r\n\t\tborderColor: '#e3f2fd',\r\n\t\tfontSize: 15,\r\n\t\tfontFamily: 'Teko',\r\n\t\t[theme.breakpoints.between('xs', 'sm')]: {\r\n\t\t\tfontSize: 15,\r\n\t\t\twidth: 80,\r\n\t\t\theight: 40,\r\n\t\t},\r\n\t\t[theme.breakpoints.between('sm', 'md')]: {\r\n\t\t\tfontSize: 15,\r\n\t\t\twidth: 100,\r\n\t\t},\r\n\t\t[theme.breakpoints.between('md', 'lg')]: {\r\n\t\t\tfontSize: 15,\r\n\t\t\twidth: 200,\r\n\t\t},\r\n\t\t[theme.breakpoints.up('xl')]: {\r\n\t\t\tfontSize: 22,\r\n\t\t},\r\n\t},\r\n\tbtn: {\r\n\t\tcolor: '#424949',\r\n\t\tborderColor: '#e3f2fd',\r\n\t\tfontSize: 22,\r\n\t\t[theme.breakpoints.between('xs', 'sm')]: {\r\n\t\t\tfontSize: 12,\r\n\t\t},\r\n\t\t[theme.breakpoints.between('sm', 'md')]: {\r\n\t\t\tfontSize: 12,\r\n\t\t}\r\n\t},\r\n\tlogo: {\r\n\t\tobjectFit: 'contain',\r\n\t\tcontent: 'url('+fullLogo+')',\r\n\t\twidth: '200px',\r\n\t\theight: '40px',\r\n\t\t[theme.breakpoints.down('sm')]: {\r\n\t\t\twidth: '30px',\r\n\t\t\tcontent: 'url('+sLogo+')'\r\n\t\t}\r\n\t},\r\n})\r\n\r\nclass TopBar extends Component {\r\n\tstate = {\r\n\t\tisConnected: '',\r\n\t\tuserAddress: '',\r\n\t\taccountInfo: '',\r\n\t\tdialogOpen: false,\r\n\t\twallet: '',\r\n\t}\r\n\r\n\t// eslint-disable-next-line react/no-deprecated\r\n\tasync componentDidMount() {\r\n\t\t//todo \r\n\t\tlet lastConnect = localStorage.getItem(LASTCONNECT)\r\n\t\tconsole.log('lastconnect:  '+ lastConnect)\r\n\t\tswitch (lastConnect) {\r\n\t\tcase METAMASK:\r\n\t\t\tthis.checkMetaMask();\r\n\t\t\tbreak;\r\n\t\tcase TOKENPOCKET:\r\n\t\t\tthis.checkTokenPocket();\r\n\t\t\tbreak;\r\n\t\tcase MATHWALLET:\r\n\t\t\tthis.checkMathWallet();\r\n\t\t\tbreak;\r\n\t\tcase null:\r\n\t\t\tthis.setState({\r\n\t\t\t\tisConnected: false,\r\n\t\t\t});\r\n\t\t\tbreak;\r\n\t\tdefault:\r\n\t\t\tbreak;\r\n\t\t}\r\n\r\n\t}\r\n\r\n\t// //Web\r\n\t// if (!isMobile) {\r\n\t//   this.checkMetaMask()\r\n\t// }\r\n\t// //TP\r\n\t// else {\r\n\t//   tp.getCurrentWallet().then(value => {\r\n\t//     const account = await value.data.address;\r\n\t//     if (account.length == 0) {\r\n\t//       this.setState({\r\n\t//         isConnected: true\r\n\t//       });\r\n\t//     } else {\r\n\t//       console.log(accounts)\r\n\r\n\t//       this.setState({ accountInfo: account.substring(0, 5), });\r\n\t//       this.setState({\r\n\t//         isConnected: true\r\n\t//       });\r\n\t//       localStorage.setItem(USERADDRESS, account);\r\n\t//     }\r\n\r\n\t//     // })\r\n\r\n\t//   })\r\n\t// }\r\n\r\n\t// if (Web3.givenProvider) {\r\n\t//   //console.log(Web3.givenProvider)\r\n\t//   //let web3 = new Web3(window.ethereum);\r\n\t//   let web3 = new Web3(window.web3.currentProvider);\r\n\t//   const accounts = await web3.eth.getAccounts();\r\n\t//   if (accounts.length == 0) {\r\n\t//     this.setState({\r\n\t//       isConnected: false\r\n\t//     });\r\n\t//   } else {\r\n\t//     console.log(accounts)\r\n\t//     var account = accounts[0]\r\n\t//     this.setState({ accountInfo: account.substring(0, 5), });\r\n\t//     this.setState({\r\n\t//       isConnected: true\r\n\t//     });\r\n\t//     localStorage.setItem(\"userAddress\", account);\r\n\t//   }\r\n\t//   console.log(Web3.givenProvider);\r\n\t//   console.log(this.state.isConnected)\r\n\t// }\r\n\r\n\r\n\t//check\r\n\tcheckMetaMask = async () => {\r\n\t\tif (Web3.givenProvider) {\r\n\t\t\t//console.log(Web3.givenProvider)\r\n\t\t\t//let web3 = new Web3(window.ethereum);\r\n\t\t\t//let web3 = new Web3(window.web3.currentProvider)\r\n\t\t\tconst accounts = await web3.eth.getAccounts()\r\n\t\t\tconsole.log('accounts: ' + accounts)\r\n\t\t\tif (accounts.length == 0) {\r\n\t\t\t\tthis.setState({\r\n\t\t\t\t\tisConnected: false,\r\n\t\t\t\t})\r\n\t\t\t} else {\r\n\t\t\t\tconst account = accounts[0]\r\n\t\t\t\tconsole.log('account: ' + account)\r\n\t\t\t\tthis.setState({ accountInfo: account.substring(0, 5) })\r\n\t\t\t\tthis.setState({\r\n\t\t\t\t\tisConnected: true,\r\n\t\t\t\t})\r\n\t\t\t\tthis.setState({ userAddress: account })\r\n\t\t\t\t//localStorage.setItem(USERADDRESS, account);\r\n\t\t\t\tlocalStorage.setItem(LASTCONNECT, METAMASK)\r\n\t\t\t}\r\n\t\t\tconsole.log(Web3.givenProvider)\r\n\t\t\tconsole.log(this.state.isConnected)\r\n\t\t}\r\n\t}\r\n\r\n\t//check TP\r\n\tcheckTokenPocket = async () => {\r\n\t\tawait tp.getCurrentWallet().then((value) => {\r\n\t\t\tconst account = value.data.address\r\n\t\t\tif (account.length == 0) {\r\n\t\t\t\tthis.setState({\r\n\t\t\t\t\tisConnected: false,\r\n\t\t\t\t})\r\n\t\t\t} else {\r\n\t\t\t\t//console.log(accounts)\r\n\t\t\t\tthis.setState({ accountInfo: account.substring(0, 5) })\r\n\t\t\t\tthis.setState({\r\n\t\t\t\t\tisConnected: true,\r\n\t\t\t\t})\r\n\t\t\t\t//localStorage.setItem(USERADDRESS, account);\r\n\t\t\t\tthis.setState({ userAddress: account })\r\n\t\t\t\tlocalStorage.setItem(LASTCONNECT, TOKENPOCKET)\r\n\t\t\t}\r\n\r\n\t\t\t// })\r\n\t\t})\r\n\t}\r\n\r\n\t//check \r\n\tcheckMathWallet = async () => {\r\n\t\tawait mathwallet.getCurrentWallet().then(\r\n\t\t\tvalue => {\r\n\t\t\t\tconst account = value.address;\r\n\t\t\t\tif (account.length == 0) {\r\n\t\t\t\t\tthis.setState({\r\n\t\t\t\t\t\tisConnected: false\r\n\t\t\t\t\t});\r\n\t\t\t\t}\r\n\t\t\t\telse {\r\n\t\t\t\t\t//console.log(accounts)\r\n\t\t\t\t\tthis.setState({ accountInfo: account.substring(0, 5), });\r\n\t\t\t\t\tthis.setState({\r\n\t\t\t\t\t\tisConnected: true\r\n\t\t\t\t\t});\r\n\t\t\t\t\t//localStorage.setItem(USERADDRESS, account);\r\n\t\t\t\t\tthis.setState({ userAddress: account });\r\n\t\t\t\t\tlocalStorage.setItem(LASTCONNECT, MATHWALLET);\r\n\t\t\t\t}\r\n\t\t\t})\r\n\t}\r\n\r\n\t//tokenpocket\r\n\thandleSelectTokenPockect = () => {\r\n\t\tthis.getTokenPocketAccount()\r\n\t\tthis.setState({\r\n\t\t\tdialogOpen: false,\r\n\t\t})\r\n\t}\r\n\r\n\t//MetaMask\r\n\thandleSelectMetaMask = () => {\r\n\t\tthis.getMetaMaskAccount()\r\n\t\tthis.setState({\r\n\t\t\tdialogOpen: false,\r\n\t\t})\r\n\t}\r\n\r\n\t//MathWallet\r\n\thandleSelectMathWallet = () => {\r\n\t\tthis.getMathWalletAccount();\r\n\t\tthis.setState({\r\n\t\t\tdialogOpen: false,\r\n\t\t})\r\n\t}\r\n\r\n\thandleDialogOpen = () => {\r\n\t\tthis.setState({\r\n\t\t\tdialogOpen: true,\r\n\t\t})\r\n\t}\r\n\r\n\thandleDialogClose = () => {\r\n\t\tthis.setState({\r\n\t\t\tdialogOpen: false,\r\n\t\t})\r\n\t}\r\n\r\n\tsleep = async (ms) => {\r\n\t\treturn new Promise((resolve) => setTimeout(resolve, ms))\r\n\t}\r\n\r\n\t//MetaMask\r\n\tgetMetaMaskAccount = async () => {\r\n\t\ttry {\r\n\t\t\t//const accounts = await window.ethereum.request({ method: 'eth_requestAccounts' })\r\n\t\t\tconst accounts = await window.web3.currentProvider.request({\r\n\t\t\t\tmethod: 'eth_requestAccounts',\r\n\t\t\t})\r\n\t\t\tconst account = accounts[0]\r\n\t\t\talert('metamask,  ' + account)\r\n\t\t\tthis.setState({ isConnected: true })\r\n\t\t\tthis.setState({ userAddress: account })\r\n\t\t\t//localStorage.setItem(USERADDRESS, account);\r\n\t\t\tlocalStorage.setItem(LASTCONNECT, METAMASK)\r\n\t\t} catch (error) {\r\n\t\t\tconsole.debug(error)\r\n\t\t\tthis.setState({ isConnected: false })\r\n\t\t}\r\n\t}\r\n\r\n\t//TokenPocket\r\n\tgetTokenPocketAccount = async () => {\r\n\t\tif (this.state.isConnected) {\r\n\t\t\talert('tokenpocket,  ' + this.state.userAddress)\r\n\t\t} else {\r\n\t\t\ttry {\r\n\t\t\t\t//todo TP\r\n\t\t\t\tlet account\r\n\t\t\t\tawait tp.getWallet({ walletTypes: ['matic'], switch: false }).then((value) => {\r\n\t\t\t\t\taccount = value.data.address\r\n\t\t\t\t})\r\n\t\t\t\talert('tokenpocket,  ' + account)\r\n\t\t\t\tthis.setState({ isConnected: true })\r\n\t\t\t\tthis.setState({ userAddress: account })\r\n\t\t\t\t//localStorage.setItem(USERADDRESS, account); //address\r\n\t\t\t\tlocalStorage.setItem(LASTCONNECT, TOKENPOCKET) //\r\n\t\t\t} catch (error) {\r\n\t\t\t\tconsole.debug(error)\r\n\t\t\t\tthis.setState({ isConnected: false })\r\n\t\t\t}\r\n\t\t}\r\n\t}\r\n\r\n\t//MathWallet\r\n\tgetMathWalletAccount = async () => {\r\n\t\tif (this.state.isConnected) {\r\n\t\t\talert('MathWallet,  ' + this.state.userAddress)\r\n\t\t}\r\n\t\telse {\r\n\t\t\ttry {\r\n\t\t\t\t//todo TP\r\n\t\t\t\tlet account;\r\n\t\t\t\tawait mathwallet.getCurrentWallet().then(\r\n\t\t\t\t\tvalue => {\r\n\t\t\t\t\t\taccount = value.address;\r\n\t\t\t\t\t}\r\n\t\t\t\t)\r\n\t\t\t\talert('MathWallet,  ' + account)\r\n\t\t\t\tthis.setState({ isConnected: true, });\r\n\t\t\t\tthis.setState({ userAddress: account });\r\n\t\t\t\t//localStorage.setItem(USERADDRESS, account); //address\r\n\t\t\t\tlocalStorage.setItem(LASTCONNECT, MATHWALLET); //\r\n\t\t\t} catch (error) {\r\n\t\t\t\tconsole.debug(error);\r\n\t\t\t\tthis.setState({ isConnected: false });\r\n\t\t\t}\r\n\t\t}\r\n\t}\r\n\r\n\t//token\r\n\thandleTokenButtonOnClick = () => {\r\n\t\tswitch (localStorage.getItem(LASTCONNECT)) {\r\n\t\tcase METAMASK:\r\n\t\t\tthis.getMetaMaskAccount();\r\n\t\t\tbreak;\r\n\t\tcase TOKENPOCKET:\r\n\t\t\tthis.getTokenPocketAccount()\r\n\t\t\tbreak;\r\n\t\tcase MATHWALLET:\r\n\t\t\tthis.getMathWalletAccount();\r\n\t\t\tbreak;\r\n\t\tdefault:\r\n\t\t\tbreak;\r\n\t\t}\r\n\t}\r\n\r\n\t//logout\r\n\t//todo \r\n\tdisconnect = () => {\r\n\t\tthis.setState({ isConnected: false })\r\n\t\t//localStorage.removeItem(USERADDRESS);\r\n\t\tlocalStorage.removeItem(LASTCONNECT)\r\n\t}\r\n\r\n\trender() {\r\n\t\tconst { classes } = this.props\r\n\t\tconst { t } = this.props\r\n\t\treturn (\r\n\t\t\t<div>\r\n\t\t\t\t<Dialog className={classes.dialog} onClose={this.handleDialogClose} open={this.state.dialogOpen}>\r\n\t\t\t\t\t<DialogTitle className={console.title}>\r\n\t\t\t\t\t\t<Typography component=\"h1\" color=\"inherit\" noWrap className={classes.title}>\r\n\t\t\t\t\t\t\tConnect Wallet\r\n\t\t\t\t\t\t</Typography>\r\n\t\t\t\t\t</DialogTitle>\r\n\t\t\t\t\t<DialogContent>\r\n\t\t\t\t\t\t<Grid container spacing={1}>\r\n\t\t\t\t\t\t\t<Button size=\"large\" className={classes.btnWallet} id=\"MetaMask\" onClick={this.handleSelectMetaMask}>\r\n\t\t\t\t\t\t\t\t<img className={classes.btnImg} src={metamaskpic}></img>\r\n\t\t\t\t\t\t\t</Button>\r\n\t\t\t\t\t\t\t<Button\r\n\t\t\t\t\t\t\t\tsize=\"large\"\r\n\t\t\t\t\t\t\t\tclassName={classes.btnWallet}\r\n\t\t\t\t\t\t\t\tonClick={!isMobile ? this.handleSelectMetaMask : this.handleSelectTokenPockect}\r\n\t\t\t\t\t\t\t>\r\n\t\t\t\t\t\t\t\t<img className={classes.btnImg} src={TPpic}></img>\r\n\t\t\t\t\t\t\t</Button>\r\n\t\t\t\t\t\t\t<Button size=\"large\"\r\n\t\t\t\t\t\t\t\tclassName={classes.btnWallet}\r\n\t\t\t\t\t\t\t\tonClick={!isMobile ? this.handleSelectMetaMask : this.handleSelectMathWallet}\r\n\t\t\t\t\t\t\t>\r\n\t\t\t\t\t\t\t\t<img className={classes.btnImg} src={mathwalletpic}></img>\r\n\t\t\t\t\t\t\t</Button>\r\n\t\t\t\t\t\t</Grid>\r\n\t\t\t\t\t\t<Grid>\r\n\t\t\t\t\t\t\t<Typography\r\n\t\t\t\t\t\t\t\tcomponent=\"h1\"\r\n\t\t\t\t\t\t\t\tcolor=\"inherit\"\r\n\t\t\t\t\t\t\t\tstyle={{ textAlign: 'center' }}\r\n\t\t\t\t\t\t\t\tnoWrap\r\n\t\t\t\t\t\t\t\tclassName={classes.title}\r\n\t\t\t\t\t\t\t>\r\n\t\t\t\t\t\t\t\t. . .\r\n\t\t\t\t\t\t\t</Typography>\r\n\t\t\t\t\t\t</Grid>\r\n\t\t\t\t\t</DialogContent>\r\n\t\t\t\t</Dialog>\r\n\r\n\t\t\t\t<Toolbar>\r\n\t\t\t\t\t<Grid container direction=\"row\" justifyContent=\"space-between\" wrap=\"nowrap\">\r\n\t\t\t\t\t\t<Grid item className={classes.titleGrid}>\r\n\t\t\t\t\t\t\t<a href=\"/#/\" className={classes.logo} />\r\n\t\t\t\t\t\t</Grid>\r\n\t\t\t\t\t\t<Grid item className={classes.btnGrid}>\r\n\t\t\t\t\t\t\t<Button size=\"medium\" className={classes.btn} href=\"/#/\">\r\n\t\t\t\t\t\t\t\t<b>{t('index')}</b>\r\n\t\t\t\t\t\t\t</Button>\r\n\t\t\t\t\t\t\t<Button size=\"medium\" className={classes.btn} href=\"/#/introPublish\">\r\n\t\t\t\t\t\t\t\t<b>{t('publish')}</b>\r\n\t\t\t\t\t\t\t</Button>\r\n\t\t\t\t\t\t\t<Button size=\"medium\" className={classes.btn} href=\"/#/collections\">\r\n\t\t\t\t\t\t\t\t<b>{t('collection')}</b>\r\n\t\t\t\t\t\t\t</Button>\r\n\t\t\t\t\t\t\t<Button size=\"small\" href=\"https://github.com/SparkNFT\" target=\"_blank\">\r\n\t\t\t\t\t\t\t\t<GithubOutlined className={classes.icon} />\r\n\t\t\t\t\t\t\t</Button>\r\n\t\t\t\t\t\t\t<LanguageBtn />\r\n\t\t\t\t\t\t\t{this.state.isConnected ? (\r\n\t\t\t\t\t\t\t\t// <Button onClick={this.getAccount}>\r\n\t\t\t\t\t\t\t\t//   <WalletTwoTone className={classes.icon} />\r\n\t\t\t\t\t\t\t\t// </Button>\r\n\t\t\t\t\t\t\t\t<Button\r\n\t\t\t\t\t\t\t\t\tsize=\"small\"\r\n\t\t\t\t\t\t\t\t\tvariant=\"contained\"\r\n\t\t\t\t\t\t\t\t\tclassName={classes.btnUser}\r\n\t\t\t\t\t\t\t\t\tonClick={this.handleTokenButtonOnClick}\r\n\t\t\t\t\t\t\t\t>\r\n\t\t\t\t\t\t\t\t\t<Typography component=\"\" color=\"inherit\" noWrap className={classes.titleToken}>\r\n\t\t\t\t\t\t\t\t\t\t{this.state.userAddress.substring(0, 6)}...\r\n\t\t\t\t\t\t\t\t\t\t{this.state.userAddress.substring(this.state.userAddress.length - 5, this.state.userAddress.length)}\r\n\t\t\t\t\t\t\t\t\t</Typography>\r\n\t\t\t\t\t\t\t\t</Button>\r\n\t\t\t\t\t\t\t) : (\r\n\t\t\t\t\t\t\t\t// <Button onClick={this.getAccount}>\r\n\t\t\t\t\t\t\t\t//   <WalletFilled className={classes.icon} />\r\n\t\t\t\t\t\t\t\t// </Button>\r\n\t\t\t\t\t\t\t\t<Button variant=\"contained\" className={classes.btnUser} onClick={this.handleDialogOpen}>\r\n\t\t\t\t\t\t\t\t\t<Typography component=\"\" color=\"inherit\" noWrap className={classes.titleToken}>\r\n\t\t\t\t\t\t\t\t\t\t<b> Connect Wallet</b>\r\n\t\t\t\t\t\t\t\t\t</Typography>\r\n\t\t\t\t\t\t\t\t</Button>\r\n\t\t\t\t\t\t\t)}\r\n\t\t\t\t\t\t\t{/* <Button onClick={this.disconnect}> akdalk</Button> */}\r\n\t\t\t\t\t\t</Grid>\r\n\t\t\t\t\t</Grid>\r\n\t\t\t\t</Toolbar>\r\n\t\t\t</div>\r\n\t\t)\r\n\t}\r\n}\r\n\r\n\r\nexport default withTranslation()(withStyles(styles, { withTheme: true })(TopBar))\r\n/*\r\ntodo\r\nTPTopBarTP\r\nlogoutdisconnect\r\nconnect WalletUI\r\n*/\r\n","export default \"data:image/png;base64,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\"","import books from './imgs/books.png'\r\nimport './App.css'\r\nimport React, { Component } from 'react'\r\nimport Button from '@material-ui/core/Button'\r\nimport Grid from '@material-ui/core/Grid'\r\nimport { createTheme, ThemeProvider, withStyles } from '@material-ui/core/styles'\r\nimport Typography from '@material-ui/core/Typography'\r\nimport Container from '@material-ui/core/Container'\r\nimport TopBar from './components/TopBar'\r\nimport { withTranslation } from 'react-i18next'\r\nconst styles = (theme) => ({\r\n\ttitle: {\r\n\t\tfontFamily: 'Teko',\r\n\t\tmarginTop: '25%',\r\n\t\t[theme.breakpoints.between('xs', 'sm')]: {\r\n\t\t\tfontSize: 25,\r\n\t\t},\r\n\t\t[theme.breakpoints.between('sm', 'md')]: {\r\n\t\t\tfontSize: 25,\r\n\t\t},\r\n\t\t[theme.breakpoints.between('md', 'lg')]: {\r\n\t\t\tfontSize: 35,\r\n\t\t},\r\n\t\t[theme.breakpoints.between('lg', 'xl')]: {\r\n\t\t\tfontSize: 100,\r\n\t\t},\r\n\t\t[theme.breakpoints.up('xl')]: {\r\n\t\t\tfontSize: 150,\r\n\t\t},\r\n\t},\r\n\ttitle2: {\r\n\t\tfontFamily: 'Teko',\r\n\t\t[theme.breakpoints.between('xs', 'sm')]: {\r\n\t\t\tfontSize: 10,\r\n\t\t},\r\n\t\t[theme.breakpoints.between('sm', 'md')]: {\r\n\t\t\tfontSize: 15,\r\n\t\t},\r\n\t\t[theme.breakpoints.between('md', 'lg')]: {\r\n\t\t\tfontSize: 25,\r\n\t\t},\r\n\t\t[theme.breakpoints.between('lg', 'xl')]: {\r\n\t\t\tfontSize: 35,\r\n\t\t},\r\n\t\t[theme.breakpoints.up('xl')]: {\r\n\t\t\tfontSize: 55,\r\n\t\t},\r\n\t},\r\n\ttitle3: {\r\n\t\tfontFamily: 'Teko',\r\n\t\t[theme.breakpoints.between('xs', 'sm')]: {\r\n\t\t\tfontSize: 8,\r\n\t\t},\r\n\t\t[theme.breakpoints.between('sm', 'md')]: {\r\n\t\t\tfontSize: 10,\r\n\t\t},\r\n\t\t[theme.breakpoints.between('md', 'lg')]: {\r\n\t\t\tfontSize: 15,\r\n\t\t},\r\n\t\t[theme.breakpoints.between('lg', 'xl')]: {\r\n\t\t\tfontSize: 25,\r\n\t\t},\r\n\t\t[theme.breakpoints.up('xl')]: {\r\n\t\t\tfontSize: 45,\r\n\t\t},\r\n\t},\r\n\ticon: {\r\n\t\tmarginRight: theme.spacing(2),\r\n\t},\r\n\ttitleFont: {\r\n\t\tfontFamily: 'Teko',\r\n\t},\r\n\tbtnMain: {\r\n\t\t// marginTop: theme.spacing(3),\r\n\t\tcolor: '#FFFFFF',\r\n\t\tborderColor: '#e3f2fd',\r\n\t\tborderWidth: 2,\r\n\t\tborderRadius: 25,\r\n\t\t[theme.breakpoints.between('xs', 'sm')]: {\r\n\t\t\tfontSize: 5,\r\n\t\t},\r\n\t\t[theme.breakpoints.between('sm', 'md')]: {\r\n\t\t\tfontSize: 10,\r\n\t\t},\r\n\t\t[theme.breakpoints.between('md', 'lg')]: {\r\n\t\t\tfontSize: 16,\r\n\t\t},\r\n\t\t[theme.breakpoints.between('lg', 'xl')]: {\r\n\t\t\tfontSize: 16,\r\n\t\t\twidth: 150,\r\n\t\t},\r\n\t\t[theme.breakpoints.up('xl')]: {\r\n\t\t\tfontSize: 30,\r\n\t\t\twidth: 300,\r\n\t\t\theight: 70,\r\n\t\t},\r\n\t},\r\n\tbtnSecond: {\r\n\t\t// marginTop: theme.spacing(3),\r\n\t\tcolor: '#03A9F4',\r\n\t\tborderColor: '#03A9F4',\r\n\t\tborderWidth: 2,\r\n\t\tborderRadius: 25,\r\n\t\t[theme.breakpoints.between('xs', 'sm')]: {\r\n\t\t\tfontSize: 5,\r\n\t\t},\r\n\t\t[theme.breakpoints.between('sm', 'md')]: {\r\n\t\t\tfontSize: 10,\r\n\t\t},\r\n\t\t[theme.breakpoints.between('md', 'lg')]: {\r\n\t\t\tfontSize: 16,\r\n\t\t},\r\n\t\t[theme.breakpoints.between('lg', 'xl')]: {\r\n\t\t\tfontSize: 16,\r\n\t\t\twidth: 150,\r\n\t\t},\r\n\t\t[theme.breakpoints.up('xl')]: {\r\n\t\t\tfontSize: 30,\r\n\t\t\twidth: 300,\r\n\t\t\theight: 70,\r\n\t\t},\r\n\t},\r\n\tpaper: {\r\n\t\tmarginTop: theme.spacing(7),\r\n\t\ttextAlign: 'center',\r\n\t},\r\n\tcontainer: {\r\n\t\tmaxWidth: '100%',\r\n\t},\r\n\tbooks: {\r\n\t\twidth: '90%',\r\n\t\theight: 'auto',\r\n\t},\r\n})\r\n\r\nconst theme = createTheme({\r\n\tpalette: {\r\n\t\tprimary: {\r\n\t\t\tmain: '#FDFEFE',\r\n\t\t},\r\n\t\tsecondary: {\r\n\t\t\tmain: '#2196f3',\r\n\t\t},\r\n\t},\r\n})\r\n\r\nclass App extends Component {\r\n\trender() {\r\n\t\tconst { t } = this.props\r\n\t\tconst { classes } = this.props\r\n\t\treturn (\r\n\t\t\t<div>\r\n\t\t\t\t<ThemeProvider theme={theme}>\r\n\t\t\t\t\t<div className={classes.page}>\r\n\t\t\t\t\t\t<TopBar />\r\n\t\t\t\t\t\t<Container component=\"main\" className={classes.container}>\r\n\t\t\t\t\t\t\t<div className={classes.paper}>\r\n\t\t\t\t\t\t\t\t<Grid container justifyContent=\"center\">\r\n\t\t\t\t\t\t\t\t\t<Grid item style={{ minWidth: '50%' }}>\r\n\t\t\t\t\t\t\t\t\t\t<Typography color=\"inherit\" noWrap className={classes.title}>\r\n\t\t\t\t\t\t\t\t\t\t\t<b>SparkLink</b>\r\n\t\t\t\t\t\t\t\t\t\t</Typography>\r\n\t\t\t\t\t\t\t\t\t\t<Typography color=\"inherit\" noWrap className={classes.title2}>\r\n\t\t\t\t\t\t\t\t\t\t\t<b>{t('index_slogan')}</b>\r\n\t\t\t\t\t\t\t\t\t\t</Typography>\r\n\t\t\t\t\t\t\t\t\t\t<Typography color=\"inherit\" noWrap className={classes.title3}>\r\n\t\t\t\t\t\t\t\t\t\t\t{t('index_slogan_bottom')}\r\n\t\t\t\t\t\t\t\t\t\t</Typography>\r\n\t\t\t\t\t\t\t\t\t</Grid>\r\n\t\t\t\t\t\t\t\t\t<Grid item xs={5}>\r\n\t\t\t\t\t\t\t\t\t\t<img src={books} className={classes.books} />\r\n\t\t\t\t\t\t\t\t\t</Grid>\r\n\t\t\t\t\t\t\t\t\t<Grid container justifyContent=\"center\" spacing={5}>\r\n\t\t\t\t\t\t\t\t\t\t<Grid item>\r\n\t\t\t\t\t\t\t\t\t\t\t<Button\r\n\t\t\t\t\t\t\t\t\t\t\t\tsize=\"large\"\r\n\t\t\t\t\t\t\t\t\t\t\t\tvariant=\"contained\"\r\n\t\t\t\t\t\t\t\t\t\t\t\tcolor=\"secondary\"\r\n\t\t\t\t\t\t\t\t\t\t\t\tclassName={classes.btnMain}\r\n\t\t\t\t\t\t\t\t\t\t\t\thref=\"/#/introPublish\"\r\n\t\t\t\t\t\t\t\t\t\t\t>\r\n\t\t\t\t\t\t\t\t\t\t\t\t<b>{t('go_publish')}</b>\r\n\t\t\t\t\t\t\t\t\t\t\t</Button>\r\n\t\t\t\t\t\t\t\t\t\t</Grid>\r\n\t\t\t\t\t\t\t\t\t\t<Grid item>\r\n\t\t\t\t\t\t\t\t\t\t\t<Button\r\n\t\t\t\t\t\t\t\t\t\t\t\tsize=\"large\"\r\n\t\t\t\t\t\t\t\t\t\t\t\tvariant=\"outlined\"\r\n\t\t\t\t\t\t\t\t\t\t\t\tcolor=\"secondary\"\r\n\t\t\t\t\t\t\t\t\t\t\t\tclassName={classes.btnSecond}\r\n\t\t\t\t\t\t\t\t\t\t\t\thref=\"/#/buy\"\r\n\t\t\t\t\t\t\t\t\t\t\t>\r\n\t\t\t\t\t\t\t\t\t\t\t\t<b>{t('go_buy')}</b>\r\n\t\t\t\t\t\t\t\t\t\t\t</Button>\r\n\t\t\t\t\t\t\t\t\t\t</Grid>\r\n\t\t\t\t\t\t\t\t\t</Grid>\r\n\t\t\t\t\t\t\t\t</Grid>\r\n\t\t\t\t\t\t\t</div>\r\n\t\t\t\t\t\t</Container>\r\n\t\t\t\t\t</div>\r\n\t\t\t\t</ThemeProvider>\r\n\t\t\t</div>\r\n\t\t)\r\n\t}\r\n}\r\n\r\nexport default withTranslation()(withStyles(styles, { withTheme: true })(App))\r\n","import web3 from './web3';\r\n\r\nconst address = '0xb42d4525841008A69E427026DF354067fD6A524f'; // rinkeby 0x7B5B92B0eD1DfeafdbD724b177A7733Bda67497F\r\nconst abi = [\r\n\t{\r\n\t\tinputs: [],\r\n\t\tstateMutability: 'nonpayable',\r\n\t\ttype: 'constructor'\r\n\t},\r\n\t{\r\n\t\tanonymous: false,\r\n\t\tinputs: [\r\n\t\t\t{\r\n\t\t\t\tindexed: true,\r\n\t\t\t\tinternalType: 'address',\r\n\t\t\t\tname: 'owner',\r\n\t\t\t\ttype: 'address'\r\n\t\t\t},\r\n\t\t\t{\r\n\t\t\t\tindexed: true,\r\n\t\t\t\tinternalType: 'address',\r\n\t\t\t\tname: 'approved',\r\n\t\t\t\ttype: 'address'\r\n\t\t\t},\r\n\t\t\t{\r\n\t\t\t\tindexed: true,\r\n\t\t\t\tinternalType: 'uint256',\r\n\t\t\t\tname: 'tokenId',\r\n\t\t\t\ttype: 'uint256'\r\n\t\t\t}\r\n\t\t],\r\n\t\tname: 'Approval',\r\n\t\ttype: 'event'\r\n\t},\r\n\t{\r\n\t\tanonymous: false,\r\n\t\tinputs: [\r\n\t\t\t{\r\n\t\t\t\tindexed: true,\r\n\t\t\t\tinternalType: 'address',\r\n\t\t\t\tname: 'owner',\r\n\t\t\t\ttype: 'address'\r\n\t\t\t},\r\n\t\t\t{\r\n\t\t\t\tindexed: true,\r\n\t\t\t\tinternalType: 'address',\r\n\t\t\t\tname: 'operator',\r\n\t\t\t\ttype: 'address'\r\n\t\t\t},\r\n\t\t\t{\r\n\t\t\t\tindexed: false,\r\n\t\t\t\tinternalType: 'bool',\r\n\t\t\t\tname: 'approved',\r\n\t\t\t\ttype: 'bool'\r\n\t\t\t}\r\n\t\t],\r\n\t\tname: 'ApprovalForAll',\r\n\t\ttype: 'event'\r\n\t},\r\n\t{\r\n\t\tanonymous: false,\r\n\t\tinputs: [\r\n\t\t\t{\r\n\t\t\t\tindexed: true,\r\n\t\t\t\tinternalType: 'uint64',\r\n\t\t\t\tname: 'NFT_id',\r\n\t\t\t\ttype: 'uint64'\r\n\t\t\t},\r\n\t\t\t{\r\n\t\t\t\tindexed: true,\r\n\t\t\t\tinternalType: 'address',\r\n\t\t\t\tname: 'receiver',\r\n\t\t\t\ttype: 'address'\r\n\t\t\t},\r\n\t\t\t{\r\n\t\t\t\tindexed: false,\r\n\t\t\t\tinternalType: 'uint128',\r\n\t\t\t\tname: 'amount',\r\n\t\t\t\ttype: 'uint128'\r\n\t\t\t}\r\n\t\t],\r\n\t\tname: 'Claim',\r\n\t\ttype: 'event'\r\n\t},\r\n\t{\r\n\t\tanonymous: false,\r\n\t\tinputs: [\r\n\t\t\t{\r\n\t\t\t\tindexed: true,\r\n\t\t\t\tinternalType: 'uint64',\r\n\t\t\t\tname: 'NFT_id',\r\n\t\t\t\ttype: 'uint64'\r\n\t\t\t},\r\n\t\t\t{\r\n\t\t\t\tindexed: false,\r\n\t\t\t\tinternalType: 'uint128',\r\n\t\t\t\tname: 'transfer_price',\r\n\t\t\t\ttype: 'uint128'\r\n\t\t\t}\r\n\t\t],\r\n\t\tname: 'DeterminePrice',\r\n\t\ttype: 'event'\r\n\t},\r\n\t{\r\n\t\tanonymous: false,\r\n\t\tinputs: [\r\n\t\t\t{\r\n\t\t\t\tindexed: true,\r\n\t\t\t\tinternalType: 'uint64',\r\n\t\t\t\tname: 'NFT_id',\r\n\t\t\t\ttype: 'uint64'\r\n\t\t\t},\r\n\t\t\t{\r\n\t\t\t\tindexed: false,\r\n\t\t\t\tinternalType: 'uint128',\r\n\t\t\t\tname: 'transfer_price',\r\n\t\t\t\ttype: 'uint128'\r\n\t\t\t},\r\n\t\t\t{\r\n\t\t\t\tindexed: true,\r\n\t\t\t\tinternalType: 'address',\r\n\t\t\t\tname: 'to',\r\n\t\t\t\ttype: 'address'\r\n\t\t\t}\r\n\t\t],\r\n\t\tname: 'DeterminePriceAndApprove',\r\n\t\ttype: 'event'\r\n\t},\r\n\t{\r\n\t\tanonymous: false,\r\n\t\tinputs: [\r\n\t\t\t{\r\n\t\t\t\tindexed: true,\r\n\t\t\t\tinternalType: 'uint64',\r\n\t\t\t\tname: 'NFT_id',\r\n\t\t\t\ttype: 'uint64'\r\n\t\t\t},\r\n\t\t\t{\r\n\t\t\t\tindexed: false,\r\n\t\t\t\tinternalType: 'string',\r\n\t\t\t\tname: 'content',\r\n\t\t\t\ttype: 'string'\r\n\t\t\t}\r\n\t\t],\r\n\t\tname: 'Label',\r\n\t\ttype: 'event'\r\n\t},\r\n\t{\r\n\t\tanonymous: false,\r\n\t\tinputs: [\r\n\t\t\t{\r\n\t\t\t\tindexed: true,\r\n\t\t\t\tinternalType: 'uint32',\r\n\t\t\t\tname: 'issue_id',\r\n\t\t\t\ttype: 'uint32'\r\n\t\t\t},\r\n\t\t\t{\r\n\t\t\t\tindexed: true,\r\n\t\t\t\tinternalType: 'address',\r\n\t\t\t\tname: 'publisher',\r\n\t\t\t\ttype: 'address'\r\n\t\t\t},\r\n\t\t\t{\r\n\t\t\t\tindexed: false,\r\n\t\t\t\tinternalType: 'uint64',\r\n\t\t\t\tname: 'rootNFTId',\r\n\t\t\t\ttype: 'uint64'\r\n\t\t\t},\r\n\t\t\t{\r\n\t\t\t\tindexed: false,\r\n\t\t\t\tinternalType: 'address',\r\n\t\t\t\tname: 'token_addr',\r\n\t\t\t\ttype: 'address'\r\n\t\t\t}\r\n\t\t],\r\n\t\tname: 'Publish',\r\n\t\ttype: 'event'\r\n\t},\r\n\t{\r\n\t\tanonymous: false,\r\n\t\tinputs: [\r\n\t\t\t{\r\n\t\t\t\tindexed: true,\r\n\t\t\t\tinternalType: 'uint64',\r\n\t\t\t\tname: 'NFT_id',\r\n\t\t\t\ttype: 'uint64'\r\n\t\t\t},\r\n\t\t\t{\r\n\t\t\t\tindexed: false,\r\n\t\t\t\tinternalType: 'bytes32',\r\n\t\t\t\tname: 'old_URI',\r\n\t\t\t\ttype: 'bytes32'\r\n\t\t\t},\r\n\t\t\t{\r\n\t\t\t\tindexed: false,\r\n\t\t\t\tinternalType: 'bytes32',\r\n\t\t\t\tname: 'new_URI',\r\n\t\t\t\ttype: 'bytes32'\r\n\t\t\t}\r\n\t\t],\r\n\t\tname: 'SetURI',\r\n\t\ttype: 'event'\r\n\t},\r\n\t{\r\n\t\tanonymous: false,\r\n\t\tinputs: [\r\n\t\t\t{\r\n\t\t\t\tindexed: true,\r\n\t\t\t\tinternalType: 'address',\r\n\t\t\t\tname: 'from',\r\n\t\t\t\ttype: 'address'\r\n\t\t\t},\r\n\t\t\t{\r\n\t\t\t\tindexed: true,\r\n\t\t\t\tinternalType: 'address',\r\n\t\t\t\tname: 'to',\r\n\t\t\t\ttype: 'address'\r\n\t\t\t},\r\n\t\t\t{\r\n\t\t\t\tindexed: true,\r\n\t\t\t\tinternalType: 'uint256',\r\n\t\t\t\tname: 'tokenId',\r\n\t\t\t\ttype: 'uint256'\r\n\t\t\t}\r\n\t\t],\r\n\t\tname: 'Transfer',\r\n\t\ttype: 'event'\r\n\t},\r\n\t{\r\n\t\tinputs: [\r\n\t\t\t{\r\n\t\t\t\tinternalType: 'uint64',\r\n\t\t\t\tname: '_NFT_id',\r\n\t\t\t\ttype: 'uint64'\r\n\t\t\t}\r\n\t\t],\r\n\t\tname: 'acceptShill',\r\n\t\toutputs: [],\r\n\t\tstateMutability: 'payable',\r\n\t\ttype: 'function'\r\n\t},\r\n\t{\r\n\t\tinputs: [\r\n\t\t\t{\r\n\t\t\t\tinternalType: 'address',\r\n\t\t\t\tname: 'to',\r\n\t\t\t\ttype: 'address'\r\n\t\t\t},\r\n\t\t\t{\r\n\t\t\t\tinternalType: 'uint256',\r\n\t\t\t\tname: 'tokenId',\r\n\t\t\t\ttype: 'uint256'\r\n\t\t\t}\r\n\t\t],\r\n\t\tname: 'approve',\r\n\t\toutputs: [],\r\n\t\tstateMutability: 'nonpayable',\r\n\t\ttype: 'function'\r\n\t},\r\n\t{\r\n\t\tinputs: [\r\n\t\t\t{\r\n\t\t\t\tinternalType: 'address',\r\n\t\t\t\tname: 'owner',\r\n\t\t\t\ttype: 'address'\r\n\t\t\t}\r\n\t\t],\r\n\t\tname: 'balanceOf',\r\n\t\toutputs: [\r\n\t\t\t{\r\n\t\t\t\tinternalType: 'uint256',\r\n\t\t\t\tname: '',\r\n\t\t\t\ttype: 'uint256'\r\n\t\t\t}\r\n\t\t],\r\n\t\tstateMutability: 'view',\r\n\t\ttype: 'function'\r\n\t},\r\n\t{\r\n\t\tinputs: [\r\n\t\t\t{\r\n\t\t\t\tinternalType: 'uint64',\r\n\t\t\t\tname: '_NFT_id',\r\n\t\t\t\ttype: 'uint64'\r\n\t\t\t}\r\n\t\t],\r\n\t\tname: 'claimProfit',\r\n\t\toutputs: [],\r\n\t\tstateMutability: 'nonpayable',\r\n\t\ttype: 'function'\r\n\t},\r\n\t{\r\n\t\tinputs: [\r\n\t\t\t{\r\n\t\t\t\tinternalType: 'uint64',\r\n\t\t\t\tname: '_NFT_id',\r\n\t\t\t\ttype: 'uint64'\r\n\t\t\t},\r\n\t\t\t{\r\n\t\t\t\tinternalType: 'uint128',\r\n\t\t\t\tname: '_price',\r\n\t\t\t\ttype: 'uint128'\r\n\t\t\t}\r\n\t\t],\r\n\t\tname: 'determinePrice',\r\n\t\toutputs: [],\r\n\t\tstateMutability: 'nonpayable',\r\n\t\ttype: 'function'\r\n\t},\r\n\t{\r\n\t\tinputs: [\r\n\t\t\t{\r\n\t\t\t\tinternalType: 'uint64',\r\n\t\t\t\tname: '_NFT_id',\r\n\t\t\t\ttype: 'uint64'\r\n\t\t\t},\r\n\t\t\t{\r\n\t\t\t\tinternalType: 'uint128',\r\n\t\t\t\tname: '_price',\r\n\t\t\t\ttype: 'uint128'\r\n\t\t\t},\r\n\t\t\t{\r\n\t\t\t\tinternalType: 'address',\r\n\t\t\t\tname: '_to',\r\n\t\t\t\ttype: 'address'\r\n\t\t\t}\r\n\t\t],\r\n\t\tname: 'determinePriceAndApprove',\r\n\t\toutputs: [],\r\n\t\tstateMutability: 'nonpayable',\r\n\t\ttype: 'function'\r\n\t},\r\n\t{\r\n\t\tinputs: [\r\n\t\t\t{\r\n\t\t\t\tinternalType: 'uint256',\r\n\t\t\t\tname: 'tokenId',\r\n\t\t\t\ttype: 'uint256'\r\n\t\t\t}\r\n\t\t],\r\n\t\tname: 'getApproved',\r\n\t\toutputs: [\r\n\t\t\t{\r\n\t\t\t\tinternalType: 'address',\r\n\t\t\t\tname: '',\r\n\t\t\t\ttype: 'address'\r\n\t\t\t}\r\n\t\t],\r\n\t\tstateMutability: 'view',\r\n\t\ttype: 'function'\r\n\t},\r\n\t{\r\n\t\tinputs: [\r\n\t\t\t{\r\n\t\t\t\tinternalType: 'uint64',\r\n\t\t\t\tname: '_NFT_id',\r\n\t\t\t\ttype: 'uint64'\r\n\t\t\t}\r\n\t\t],\r\n\t\tname: 'getDepthByNFTId',\r\n\t\toutputs: [\r\n\t\t\t{\r\n\t\t\t\tinternalType: 'uint64',\r\n\t\t\t\tname: '',\r\n\t\t\t\ttype: 'uint64'\r\n\t\t\t}\r\n\t\t],\r\n\t\tstateMutability: 'view',\r\n\t\ttype: 'function'\r\n\t},\r\n\t{\r\n\t\tinputs: [\r\n\t\t\t{\r\n\t\t\t\tinternalType: 'uint64',\r\n\t\t\t\tname: '_NFT_id',\r\n\t\t\t\ttype: 'uint64'\r\n\t\t\t}\r\n\t\t],\r\n\t\tname: 'getEditionIdByNFTId',\r\n\t\toutputs: [\r\n\t\t\t{\r\n\t\t\t\tinternalType: 'uint32',\r\n\t\t\t\tname: '',\r\n\t\t\t\ttype: 'uint32'\r\n\t\t\t}\r\n\t\t],\r\n\t\tstateMutability: 'pure',\r\n\t\ttype: 'function'\r\n\t},\r\n\t{\r\n\t\tinputs: [\r\n\t\t\t{\r\n\t\t\t\tinternalType: 'uint64',\r\n\t\t\t\tname: '_NFT_id',\r\n\t\t\t\ttype: 'uint64'\r\n\t\t\t}\r\n\t\t],\r\n\t\tname: 'getFatherByNFTId',\r\n\t\toutputs: [\r\n\t\t\t{\r\n\t\t\t\tinternalType: 'uint64',\r\n\t\t\t\tname: '',\r\n\t\t\t\ttype: 'uint64'\r\n\t\t\t}\r\n\t\t],\r\n\t\tstateMutability: 'view',\r\n\t\ttype: 'function'\r\n\t},\r\n\t{\r\n\t\tinputs: [\r\n\t\t\t{\r\n\t\t\t\tinternalType: 'uint64',\r\n\t\t\t\tname: '_NFT_id',\r\n\t\t\t\ttype: 'uint64'\r\n\t\t\t}\r\n\t\t],\r\n\t\tname: 'getIssueIdByNFTId',\r\n\t\toutputs: [\r\n\t\t\t{\r\n\t\t\t\tinternalType: 'uint32',\r\n\t\t\t\tname: '',\r\n\t\t\t\ttype: 'uint32'\r\n\t\t\t}\r\n\t\t],\r\n\t\tstateMutability: 'pure',\r\n\t\ttype: 'function'\r\n\t},\r\n\t{\r\n\t\tinputs: [],\r\n\t\tname: 'getLossRatio',\r\n\t\toutputs: [\r\n\t\t\t{\r\n\t\t\t\tinternalType: 'uint8',\r\n\t\t\t\tname: '',\r\n\t\t\t\ttype: 'uint8'\r\n\t\t\t}\r\n\t\t],\r\n\t\tstateMutability: 'pure',\r\n\t\ttype: 'function'\r\n\t},\r\n\t{\r\n\t\tinputs: [\r\n\t\t\t{\r\n\t\t\t\tinternalType: 'uint64',\r\n\t\t\t\tname: '_NFT_id',\r\n\t\t\t\ttype: 'uint64'\r\n\t\t\t}\r\n\t\t],\r\n\t\tname: 'getProfitByNFTId',\r\n\t\toutputs: [\r\n\t\t\t{\r\n\t\t\t\tinternalType: 'uint128',\r\n\t\t\t\tname: '',\r\n\t\t\t\ttype: 'uint128'\r\n\t\t\t}\r\n\t\t],\r\n\t\tstateMutability: 'view',\r\n\t\ttype: 'function'\r\n\t},\r\n\t{\r\n\t\tinputs: [\r\n\t\t\t{\r\n\t\t\t\tinternalType: 'uint64',\r\n\t\t\t\tname: '_NFT_id',\r\n\t\t\t\ttype: 'uint64'\r\n\t\t\t}\r\n\t\t],\r\n\t\tname: 'getRemainShillTimesByNFTId',\r\n\t\toutputs: [\r\n\t\t\t{\r\n\t\t\t\tinternalType: 'uint16',\r\n\t\t\t\tname: '',\r\n\t\t\t\ttype: 'uint16'\r\n\t\t\t}\r\n\t\t],\r\n\t\tstateMutability: 'view',\r\n\t\ttype: 'function'\r\n\t},\r\n\t{\r\n\t\tinputs: [\r\n\t\t\t{\r\n\t\t\t\tinternalType: 'uint32',\r\n\t\t\t\tname: '_issue_id',\r\n\t\t\t\ttype: 'uint32'\r\n\t\t\t}\r\n\t\t],\r\n\t\tname: 'getRootNFTIdByIssueId',\r\n\t\toutputs: [\r\n\t\t\t{\r\n\t\t\t\tinternalType: 'uint64',\r\n\t\t\t\tname: '',\r\n\t\t\t\ttype: 'uint64'\r\n\t\t\t}\r\n\t\t],\r\n\t\tstateMutability: 'pure',\r\n\t\ttype: 'function'\r\n\t},\r\n\t{\r\n\t\tinputs: [\r\n\t\t\t{\r\n\t\t\t\tinternalType: 'uint32',\r\n\t\t\t\tname: '_issue_id',\r\n\t\t\t\ttype: 'uint32'\r\n\t\t\t}\r\n\t\t],\r\n\t\tname: 'getRoyaltyFeeByIssueId',\r\n\t\toutputs: [\r\n\t\t\t{\r\n\t\t\t\tinternalType: 'uint8',\r\n\t\t\t\tname: '',\r\n\t\t\t\ttype: 'uint8'\r\n\t\t\t}\r\n\t\t],\r\n\t\tstateMutability: 'view',\r\n\t\ttype: 'function'\r\n\t},\r\n\t{\r\n\t\tinputs: [\r\n\t\t\t{\r\n\t\t\t\tinternalType: 'uint64',\r\n\t\t\t\tname: '_NFT_id',\r\n\t\t\t\ttype: 'uint64'\r\n\t\t\t}\r\n\t\t],\r\n\t\tname: 'getShillPriceByNFTId',\r\n\t\toutputs: [\r\n\t\t\t{\r\n\t\t\t\tinternalType: 'uint128',\r\n\t\t\t\tname: '',\r\n\t\t\t\ttype: 'uint128'\r\n\t\t\t}\r\n\t\t],\r\n\t\tstateMutability: 'view',\r\n\t\ttype: 'function'\r\n\t},\r\n\t{\r\n\t\tinputs: [\r\n\t\t\t{\r\n\t\t\t\tinternalType: 'uint32',\r\n\t\t\t\tname: '_issue_id',\r\n\t\t\t\ttype: 'uint32'\r\n\t\t\t}\r\n\t\t],\r\n\t\tname: 'getShillTimesByIssueId',\r\n\t\toutputs: [\r\n\t\t\t{\r\n\t\t\t\tinternalType: 'uint16',\r\n\t\t\t\tname: '',\r\n\t\t\t\ttype: 'uint16'\r\n\t\t\t}\r\n\t\t],\r\n\t\tstateMutability: 'view',\r\n\t\ttype: 'function'\r\n\t},\r\n\t{\r\n\t\tinputs: [\r\n\t\t\t{\r\n\t\t\t\tinternalType: 'uint32',\r\n\t\t\t\tname: '_issue_id',\r\n\t\t\t\ttype: 'uint32'\r\n\t\t\t}\r\n\t\t],\r\n\t\tname: 'getTokenAddrByIssueId',\r\n\t\toutputs: [\r\n\t\t\t{\r\n\t\t\t\tinternalType: 'address',\r\n\t\t\t\tname: '',\r\n\t\t\t\ttype: 'address'\r\n\t\t\t}\r\n\t\t],\r\n\t\tstateMutability: 'view',\r\n\t\ttype: 'function'\r\n\t},\r\n\t{\r\n\t\tinputs: [\r\n\t\t\t{\r\n\t\t\t\tinternalType: 'uint64',\r\n\t\t\t\tname: '_NFT_id',\r\n\t\t\t\ttype: 'uint64'\r\n\t\t\t}\r\n\t\t],\r\n\t\tname: 'getTokenAddrByNFTId',\r\n\t\toutputs: [\r\n\t\t\t{\r\n\t\t\t\tinternalType: 'address',\r\n\t\t\t\tname: '',\r\n\t\t\t\ttype: 'address'\r\n\t\t\t}\r\n\t\t],\r\n\t\tstateMutability: 'view',\r\n\t\ttype: 'function'\r\n\t},\r\n\t{\r\n\t\tinputs: [\r\n\t\t\t{\r\n\t\t\t\tinternalType: 'uint32',\r\n\t\t\t\tname: '_issue_id',\r\n\t\t\t\ttype: 'uint32'\r\n\t\t\t}\r\n\t\t],\r\n\t\tname: 'getTotalAmountByIssueId',\r\n\t\toutputs: [\r\n\t\t\t{\r\n\t\t\t\tinternalType: 'uint32',\r\n\t\t\t\tname: '',\r\n\t\t\t\ttype: 'uint32'\r\n\t\t\t}\r\n\t\t],\r\n\t\tstateMutability: 'view',\r\n\t\ttype: 'function'\r\n\t},\r\n\t{\r\n\t\tinputs: [\r\n\t\t\t{\r\n\t\t\t\tinternalType: 'uint64',\r\n\t\t\t\tname: '_NFT_id',\r\n\t\t\t\ttype: 'uint64'\r\n\t\t\t}\r\n\t\t],\r\n\t\tname: 'getTransferPriceByNFTId',\r\n\t\toutputs: [\r\n\t\t\t{\r\n\t\t\t\tinternalType: 'uint128',\r\n\t\t\t\tname: '',\r\n\t\t\t\ttype: 'uint128'\r\n\t\t\t}\r\n\t\t],\r\n\t\tstateMutability: 'view',\r\n\t\ttype: 'function'\r\n\t},\r\n\t{\r\n\t\tinputs: [\r\n\t\t\t{\r\n\t\t\t\tinternalType: 'address',\r\n\t\t\t\tname: 'owner',\r\n\t\t\t\ttype: 'address'\r\n\t\t\t},\r\n\t\t\t{\r\n\t\t\t\tinternalType: 'address',\r\n\t\t\t\tname: 'operator',\r\n\t\t\t\ttype: 'address'\r\n\t\t\t}\r\n\t\t],\r\n\t\tname: 'isApprovedForAll',\r\n\t\toutputs: [\r\n\t\t\t{\r\n\t\t\t\tinternalType: 'bool',\r\n\t\t\t\tname: '',\r\n\t\t\t\ttype: 'bool'\r\n\t\t\t}\r\n\t\t],\r\n\t\tstateMutability: 'view',\r\n\t\ttype: 'function'\r\n\t},\r\n\t{\r\n\t\tinputs: [\r\n\t\t\t{\r\n\t\t\t\tinternalType: 'uint64',\r\n\t\t\t\tname: '_NFT_id',\r\n\t\t\t\ttype: 'uint64'\r\n\t\t\t}\r\n\t\t],\r\n\t\tname: 'isEditionExisting',\r\n\t\toutputs: [\r\n\t\t\t{\r\n\t\t\t\tinternalType: 'bool',\r\n\t\t\t\tname: '',\r\n\t\t\t\ttype: 'bool'\r\n\t\t\t}\r\n\t\t],\r\n\t\tstateMutability: 'view',\r\n\t\ttype: 'function'\r\n\t},\r\n\t{\r\n\t\tinputs: [\r\n\t\t\t{\r\n\t\t\t\tinternalType: 'uint32',\r\n\t\t\t\tname: '_issue_id',\r\n\t\t\t\ttype: 'uint32'\r\n\t\t\t}\r\n\t\t],\r\n\t\tname: 'isIssueExisting',\r\n\t\toutputs: [\r\n\t\t\t{\r\n\t\t\t\tinternalType: 'bool',\r\n\t\t\t\tname: '',\r\n\t\t\t\ttype: 'bool'\r\n\t\t\t}\r\n\t\t],\r\n\t\tstateMutability: 'view',\r\n\t\ttype: 'function'\r\n\t},\r\n\t{\r\n\t\tinputs: [\r\n\t\t\t{\r\n\t\t\t\tinternalType: 'uint64',\r\n\t\t\t\tname: '_NFT_id',\r\n\t\t\t\ttype: 'uint64'\r\n\t\t\t}\r\n\t\t],\r\n\t\tname: 'isRootNFT',\r\n\t\toutputs: [\r\n\t\t\t{\r\n\t\t\t\tinternalType: 'bool',\r\n\t\t\t\tname: '',\r\n\t\t\t\ttype: 'bool'\r\n\t\t\t}\r\n\t\t],\r\n\t\tstateMutability: 'pure',\r\n\t\ttype: 'function'\r\n\t},\r\n\t{\r\n\t\tinputs: [\r\n\t\t\t{\r\n\t\t\t\tinternalType: 'uint64',\r\n\t\t\t\tname: '_NFT_id',\r\n\t\t\t\ttype: 'uint64'\r\n\t\t\t},\r\n\t\t\t{\r\n\t\t\t\tinternalType: 'string',\r\n\t\t\t\tname: 'content',\r\n\t\t\t\ttype: 'string'\r\n\t\t\t}\r\n\t\t],\r\n\t\tname: 'label',\r\n\t\toutputs: [],\r\n\t\tstateMutability: 'nonpayable',\r\n\t\ttype: 'function'\r\n\t},\r\n\t{\r\n\t\tinputs: [],\r\n\t\tname: 'name',\r\n\t\toutputs: [\r\n\t\t\t{\r\n\t\t\t\tinternalType: 'string',\r\n\t\t\t\tname: '',\r\n\t\t\t\ttype: 'string'\r\n\t\t\t}\r\n\t\t],\r\n\t\tstateMutability: 'view',\r\n\t\ttype: 'function'\r\n\t},\r\n\t{\r\n\t\tinputs: [\r\n\t\t\t{\r\n\t\t\t\tinternalType: 'uint256',\r\n\t\t\t\tname: 'tokenId',\r\n\t\t\t\ttype: 'uint256'\r\n\t\t\t}\r\n\t\t],\r\n\t\tname: 'ownerOf',\r\n\t\toutputs: [\r\n\t\t\t{\r\n\t\t\t\tinternalType: 'address',\r\n\t\t\t\tname: '',\r\n\t\t\t\ttype: 'address'\r\n\t\t\t}\r\n\t\t],\r\n\t\tstateMutability: 'view',\r\n\t\ttype: 'function'\r\n\t},\r\n\t{\r\n\t\tinputs: [\r\n\t\t\t{\r\n\t\t\t\tinternalType: 'uint128',\r\n\t\t\t\tname: '_first_sell_price',\r\n\t\t\t\ttype: 'uint128'\r\n\t\t\t},\r\n\t\t\t{\r\n\t\t\t\tinternalType: 'uint8',\r\n\t\t\t\tname: '_royalty_fee',\r\n\t\t\t\ttype: 'uint8'\r\n\t\t\t},\r\n\t\t\t{\r\n\t\t\t\tinternalType: 'uint16',\r\n\t\t\t\tname: '_shill_times',\r\n\t\t\t\ttype: 'uint16'\r\n\t\t\t},\r\n\t\t\t{\r\n\t\t\t\tinternalType: 'bytes32',\r\n\t\t\t\tname: '_ipfs_hash',\r\n\t\t\t\ttype: 'bytes32'\r\n\t\t\t},\r\n\t\t\t{\r\n\t\t\t\tinternalType: 'address',\r\n\t\t\t\tname: '_token_addr',\r\n\t\t\t\ttype: 'address'\r\n\t\t\t}\r\n\t\t],\r\n\t\tname: 'publish',\r\n\t\toutputs: [],\r\n\t\tstateMutability: 'nonpayable',\r\n\t\ttype: 'function'\r\n\t},\r\n\t{\r\n\t\tinputs: [\r\n\t\t\t{\r\n\t\t\t\tinternalType: 'address',\r\n\t\t\t\tname: 'from',\r\n\t\t\t\ttype: 'address'\r\n\t\t\t},\r\n\t\t\t{\r\n\t\t\t\tinternalType: 'address',\r\n\t\t\t\tname: 'to',\r\n\t\t\t\ttype: 'address'\r\n\t\t\t},\r\n\t\t\t{\r\n\t\t\t\tinternalType: 'uint256',\r\n\t\t\t\tname: 'tokenId',\r\n\t\t\t\ttype: 'uint256'\r\n\t\t\t}\r\n\t\t],\r\n\t\tname: 'safeTransferFrom',\r\n\t\toutputs: [],\r\n\t\tstateMutability: 'payable',\r\n\t\ttype: 'function'\r\n\t},\r\n\t{\r\n\t\tinputs: [\r\n\t\t\t{\r\n\t\t\t\tinternalType: 'address',\r\n\t\t\t\tname: 'from',\r\n\t\t\t\ttype: 'address'\r\n\t\t\t},\r\n\t\t\t{\r\n\t\t\t\tinternalType: 'address',\r\n\t\t\t\tname: 'to',\r\n\t\t\t\ttype: 'address'\r\n\t\t\t},\r\n\t\t\t{\r\n\t\t\t\tinternalType: 'uint256',\r\n\t\t\t\tname: 'tokenId',\r\n\t\t\t\ttype: 'uint256'\r\n\t\t\t},\r\n\t\t\t{\r\n\t\t\t\tinternalType: 'bytes',\r\n\t\t\t\tname: '_data',\r\n\t\t\t\ttype: 'bytes'\r\n\t\t\t}\r\n\t\t],\r\n\t\tname: 'safeTransferFrom',\r\n\t\toutputs: [],\r\n\t\tstateMutability: 'payable',\r\n\t\ttype: 'function'\r\n\t},\r\n\t{\r\n\t\tinputs: [\r\n\t\t\t{\r\n\t\t\t\tinternalType: 'address',\r\n\t\t\t\tname: 'operator',\r\n\t\t\t\ttype: 'address'\r\n\t\t\t},\r\n\t\t\t{\r\n\t\t\t\tinternalType: 'bool',\r\n\t\t\t\tname: 'approved',\r\n\t\t\t\ttype: 'bool'\r\n\t\t\t}\r\n\t\t],\r\n\t\tname: 'setApprovalForAll',\r\n\t\toutputs: [],\r\n\t\tstateMutability: 'nonpayable',\r\n\t\ttype: 'function'\r\n\t},\r\n\t{\r\n\t\tinputs: [\r\n\t\t\t{\r\n\t\t\t\tinternalType: 'uint64',\r\n\t\t\t\tname: '_NFT_id',\r\n\t\t\t\ttype: 'uint64'\r\n\t\t\t},\r\n\t\t\t{\r\n\t\t\t\tinternalType: 'bytes32',\r\n\t\t\t\tname: 'ipfs_hash',\r\n\t\t\t\ttype: 'bytes32'\r\n\t\t\t}\r\n\t\t],\r\n\t\tname: 'setURI',\r\n\t\toutputs: [],\r\n\t\tstateMutability: 'nonpayable',\r\n\t\ttype: 'function'\r\n\t},\r\n\t{\r\n\t\tinputs: [\r\n\t\t\t{\r\n\t\t\t\tinternalType: 'bytes4',\r\n\t\t\t\tname: 'interfaceId',\r\n\t\t\t\ttype: 'bytes4'\r\n\t\t\t}\r\n\t\t],\r\n\t\tname: 'supportsInterface',\r\n\t\toutputs: [\r\n\t\t\t{\r\n\t\t\t\tinternalType: 'bool',\r\n\t\t\t\tname: '',\r\n\t\t\t\ttype: 'bool'\r\n\t\t\t}\r\n\t\t],\r\n\t\tstateMutability: 'view',\r\n\t\ttype: 'function'\r\n\t},\r\n\t{\r\n\t\tinputs: [],\r\n\t\tname: 'symbol',\r\n\t\toutputs: [\r\n\t\t\t{\r\n\t\t\t\tinternalType: 'string',\r\n\t\t\t\tname: '',\r\n\t\t\t\ttype: 'string'\r\n\t\t\t}\r\n\t\t],\r\n\t\tstateMutability: 'view',\r\n\t\ttype: 'function'\r\n\t},\r\n\t{\r\n\t\tinputs: [\r\n\t\t\t{\r\n\t\t\t\tinternalType: 'uint256',\r\n\t\t\t\tname: 'tokenId',\r\n\t\t\t\ttype: 'uint256'\r\n\t\t\t}\r\n\t\t],\r\n\t\tname: 'tokenURI',\r\n\t\toutputs: [\r\n\t\t\t{\r\n\t\t\t\tinternalType: 'string',\r\n\t\t\t\tname: '',\r\n\t\t\t\ttype: 'string'\r\n\t\t\t}\r\n\t\t],\r\n\t\tstateMutability: 'view',\r\n\t\ttype: 'function'\r\n\t},\r\n\t{\r\n\t\tinputs: [\r\n\t\t\t{\r\n\t\t\t\tinternalType: 'address',\r\n\t\t\t\tname: 'from',\r\n\t\t\t\ttype: 'address'\r\n\t\t\t},\r\n\t\t\t{\r\n\t\t\t\tinternalType: 'address',\r\n\t\t\t\tname: 'to',\r\n\t\t\t\ttype: 'address'\r\n\t\t\t},\r\n\t\t\t{\r\n\t\t\t\tinternalType: 'uint256',\r\n\t\t\t\tname: 'tokenId',\r\n\t\t\t\ttype: 'uint256'\r\n\t\t\t}\r\n\t\t],\r\n\t\tname: 'transferFrom',\r\n\t\toutputs: [],\r\n\t\tstateMutability: 'payable',\r\n\t\ttype: 'function'\r\n\t}\r\n];\r\n\r\nexport default new web3.eth.Contract(abi, address);\r\n","import React, { Component } from 'react'\r\nimport '../App.css'\r\nimport Button from '@material-ui/core/Button'\r\nimport { createTheme, ThemeProvider, withStyles } from '@material-ui/core/styles'\r\nimport { blue } from '@material-ui/core/colors'\r\nimport Typography from '@material-ui/core/Typography'\r\nimport Container from '@material-ui/core/Container'\r\nimport Grid from '@material-ui/core/Grid'\r\nimport { message } from 'antd'\r\nimport { InboxOutlined } from '@ant-design/icons'\r\nimport Dragger from 'antd/lib/upload/Dragger'\r\nimport { CloudUploadOutlined } from '@ant-design/icons'\r\n// import CloudUploadIcon from '@material-ui/icons/CloudUpload'\r\nimport { Input, InputNumber, Select, Spin } from 'antd'\r\nimport 'antd/dist/antd.css'\r\nimport TopBar from '../components/TopBar'\r\nimport axios from 'axios'\r\nimport contract from '../utils/contract'\r\nimport web3 from '../utils/web3'\r\nimport Paper from '@material-ui/core/Paper'\r\nimport * as tokens from '../global/tokens_list.json'\r\nimport { withTranslation } from 'react-i18next'\r\nimport { TOKENPOCKET, METAMASK, LASTCONNECT, MATHWALLET } from '../global/globalsString'\r\n\r\nconst mathwallet = require('math-js-sdk');\r\nconst tp = require('tp-js-sdk');\r\nconst { pinata_api_key, pinata_secret_api_key } = require('../project.secret.js')\r\n\r\nconst FormData = require('form-data')\r\nconst bs58 = require('bs58')\r\nconst { Option } = Select\r\nconst abi = require('erc-20-abi')\r\n\r\nconst theme = createTheme({\r\n\tpalette: {\r\n\t\tprimary: {\r\n\t\t\tmain: '#2196f3',\r\n\t\t},\r\n\t\tsecondary: {\r\n\t\t\tmain: '#FDFEFE',\r\n\t\t},\r\n\t},\r\n})\r\n\r\nconst styles = (theme) => ({\r\n\tmain: {\r\n\t\t[theme.breakpoints.between('xs', 'sm')]: {\r\n\t\t\twidth: '60%',\r\n\t\t},\r\n\t\t[theme.breakpoints.up('sm')]: {\r\n\t\t\twidth: 500,\r\n\t\t},\r\n\t},\r\n\ttitleCon: {\r\n\t\tmarginTop: 50,\r\n\t\tfontFamily: 'Ubuntu',\r\n\t\t[theme.breakpoints.between('xs', 'sm')]: {\r\n\t\t\tfontSize: 30,\r\n\t\t},\r\n\t\t[theme.breakpoints.up('sm')]: {\r\n\t\t\tfontSize: 40,\r\n\t\t},\r\n\t},\r\n\tpaperImg: {\r\n\t\tbackgroundColor: '#EFEBE9',\r\n\t\twidth: 330,\r\n\t\t[theme.breakpoints.between('xs', 'sm')]: {\r\n\t\t\tmarginLeft: '5%',\r\n\t\t\tmarginTop: 30,\r\n\t\t},\r\n\t\t[theme.breakpoints.between('sm', 'md')]: {\r\n\t\t\tmarginLeft: '30%',\r\n\t\t\tmarginTop: 30,\r\n\t\t},\r\n\t\t[theme.breakpoints.between('md', 'lg')]: {\r\n\t\t\tmarginLeft: '30%',\r\n\t\t\tmarginTop: 30,\r\n\t\t},\r\n\t\t[theme.breakpoints.between('lg', 'xl')]: {\r\n\t\t\tmarginLeft: '40%',\r\n\t\t\tmarginTop: 30,\r\n\t\t},\r\n\t\t[theme.breakpoints.up('xl')]: {\r\n\t\t\tmarginLeft: '45%',\r\n\t\t\tmarginTop: 30,\r\n\t\t},\r\n\t},\r\n\ttitlePub: {\r\n\t\tmarginTop: '3%',\r\n\t\tfontFamily: 'Ubuntu',\r\n\t\t[theme.breakpoints.between('xs', 'sm')]: {\r\n\t\t\tfontSize: 30,\r\n\t\t},\r\n\t\t[theme.breakpoints.up('sm')]: {\r\n\t\t\tfontSize: 40,\r\n\t\t},\r\n\t},\r\n\tbtn: {\r\n\t\tcolor: '#424949',\r\n\t\tborderWidth: 2,\r\n\t\tborderColor: '#e3f2fd',\r\n\t\tfontSize: 16,\r\n\t},\r\n\tpaper: {\r\n\t\tmarginTop: theme.spacing(8),\r\n\t\tdisplay: 'flex',\r\n\t\tflexDirection: 'column',\r\n\t\talignItems: 'center',\r\n\t},\r\n\tavatar: {\r\n\t\tmargin: theme.spacing(1),\r\n\t\tbackgroundColor: blue[500],\r\n\t\twidth: 60,\r\n\t\theight: 60,\r\n\t},\r\n\tform: {\r\n\t\twidth: '150%',\r\n\t\tmarginTop: theme.spacing(7),\r\n\t},\r\n\tsubmit: {\r\n\t\tmargin: theme.spacing(3, 0, 2),\r\n\t},\r\n\tfileBtn: {\r\n\t\tpadding: '10px 30px 10px 30px',\r\n\t\tbackground: '#66C1E4',\r\n\t\tborder: 'none',\r\n\t\tcolor: '#FFF',\r\n\t\tboxShadow: '1px 1px 1px #4C6E91',\r\n\t},\r\n\tbutton: {\r\n\t\tmargin: theme.spacing(1),\r\n\t\tfontSize: 20,\r\n\t\tborderRadius: 25,\r\n\t\tcolor: '#FFFFFF',\r\n\t\tbackgroundColor: '#2196f3',\r\n\t},\r\n\tinput: {\r\n\t\theight: 40,\r\n\t\tborderRadius: 3,\r\n\t\twidth: '100%',\r\n\t},\r\n\tinputNum: {\r\n\t\theight: 40,\r\n\t\tborderRadius: 3,\r\n\t\twidth: '100%',\r\n\t\tfontSize: 20,\r\n\t},\r\n})\r\n\r\nclass Publish extends Component {\r\n\tstate = {\r\n\t\tname: '',\r\n\t\tbonusFee: 0,\r\n\t\tprice: 0,\r\n\t\tbuffer: null,\r\n\t\tipfsHashCover: '',\r\n\t\tipfsMeta: '',\r\n\t\tfileIpfs: '',\r\n\t\tdescription: '',\r\n\t\tshareTimes: 0,\r\n\t\tonLoading: false,\r\n\t\trootNFTId: '',\r\n\t\tuserAccount: '',\r\n\t\tsig: '',\r\n\t\tfileType: '',\r\n\t\tfinished: false,\r\n\t\tcoverURL: '',\r\n\t\tdata: [],\r\n\t\ttoken_addr: null,\r\n\t\ttoken_symbol: 'MATIC',\r\n\t\tdecimal: 0,\r\n\t}\r\n\r\n\tasync componentDidMount() {\r\n\t\tconst { t } = this.props\r\n\t\tif (!window.ethereum) {\r\n\t\t\talert(t('please_install_metamask'))\r\n\t\t\twindow.location.href = '/#/introPublish'\r\n\t\t\treturn\r\n\t\t}\r\n\t\t// const chainId = await window.ethereum.request({ method: 'eth_chainId' })\r\n\t\tconst chainId = await window.ethereum.request({ method: 'eth_chainId' })\r\n\t\tif (chainId !== '0x89') {\r\n\t\t\talert(t('please_set_polygon'))\r\n\t\t\tawait window.ethereum.request({\r\n\t\t\t\tmethod: 'wallet_switchEthereumChain',\r\n\t\t\t\tparams: [\r\n\t\t\t\t\t{\r\n\t\t\t\t\t\tchainId: '0x89',\r\n\t\t\t\t\t},\r\n\t\t\t\t],\r\n\t\t\t})\r\n\t\t}\r\n\t}\r\n\r\n\thandleGetPubName = (event) => {\r\n\t\tthis.setState({\r\n\t\t\tname: event.target.value,\r\n\t\t})\r\n\t}\r\n\r\n\thandleGetBonusFee = (value) => {\r\n\t\tthis.setState({\r\n\t\t\tbonusFee: value,\r\n\t\t})\r\n\t}\r\n\r\n\thandleGetPrice = (value) => {\r\n\t\tthis.setState({\r\n\t\t\tprice: value,\r\n\t\t})\r\n\t}\r\n\r\n\thandleGetShareTimes = (value) => {\r\n\t\tthis.setState({\r\n\t\t\tshareTimes: value,\r\n\t\t})\r\n\t}\r\n\r\n\thandleGetDescription = (e) => {\r\n\t\tthis.setState({\r\n\t\t\tdescription: e.target.value,\r\n\t\t})\r\n\t}\r\n\r\n\thandleSearch = async (value) => {\r\n\t\tif (value) {\r\n\t\t\tlet values = value.toLowerCase()\r\n\t\t\tlet tokens_list = tokens.tokens\r\n\t\t\tlet matched_data = []\r\n\t\t\tlet reg = new RegExp(values)\r\n\t\t\tfor (let token of tokens_list) {\r\n\t\t\t\tlet symbol_lower_case = token.symbol.toLowerCase()\r\n\t\t\t\t// eslint-disable-next-line no-useless-escape\r\n\t\t\t\tlet showed_text = `\\\"${token.symbol}\\\"` + '   ' + token.address\r\n\t\t\t\tlet info = {\r\n\t\t\t\t\tvalue: token.address,\r\n\t\t\t\t\ttext: showed_text,\r\n\t\t\t\t}\r\n\t\t\t\tif (reg.test(symbol_lower_case) && !matched_data.includes(info)) {\r\n\t\t\t\t\tmatched_data.push(info)\r\n\t\t\t\t}\r\n\t\t\t}\r\n\t\t\tif (values.includes('0x') && values.length == 42) {\r\n\t\t\t\tlet info = {\r\n\t\t\t\t\tvalue: values,\r\n\t\t\t\t\ttext: values,\r\n\t\t\t\t}\r\n\t\t\t\tmatched_data = [info]\r\n\t\t\t}\r\n\t\t\tthis.setState({\r\n\t\t\t\tdata: matched_data,\r\n\t\t\t})\r\n\t\t} else {\r\n\t\t\tthis.setState({ data: [] })\r\n\t\t}\r\n\t}\r\n\r\n\thandleSelectChange = async (value) => {\r\n\t\tconst { t } = this.props\r\n\t\tlet tokens_list = tokens.tokens\r\n\t\tlet address\r\n\t\tlet token_symbol\r\n\t\tlet token_decimal\r\n\t\tfor (let token of tokens_list) {\r\n\t\t\tif (value === token.address) {\r\n\t\t\t\taddress = value\r\n\t\t\t\ttoken_symbol = token.symbol\r\n\t\t\t\ttoken_decimal = token.decimals\r\n\t\t\t}\r\n\t\t}\r\n\t\tif (token_symbol == undefined) {\r\n\t\t\ttry {\r\n\t\t\t\tconst token_contract = new web3.eth.Contract(abi, value)\r\n\t\t\t\ttoken_symbol = await token_contract.methods.symbol().call()\r\n\t\t\t\ttoken_decimal = await token_contract.methods.decimals().call()\r\n\t\t\t\taddress = value\r\n\t\t\t} catch (error) {\r\n\t\t\t\tmessage.error(t('error_no_erc20'))\r\n\t\t\t}\r\n\t\t}\r\n\t\t// console.debug(token_symbol)\r\n\t\tthis.setState({\r\n\t\t\ttoken_addr: address,\r\n\t\t\ttoken_symbol: token_symbol,\r\n\t\t\tdecimal: token_decimal,\r\n\t\t})\r\n\t}\r\n\r\n\tsubmit = async () => {\r\n\t\t/*TODO: call smart contract publish() and wait for publish success event\r\n\t\t * then call backend to get a secret key. Then encrypt the pdf file and upload it to IPFS\r\n\t\t * Finally, form a new metadata json file and send its ipfs hash to backend and publish it\r\n\t\t */\r\n\t\tlet obj = this\r\n\t\tif (\r\n\t\t\tthis.state.price === 0 ||\r\n\t\t\tthis.state.bonusFee === 0 ||\r\n\t\t\tthis.state.shareTimes === 0 ||\r\n\t\t\tthis.state.ipfsHashCover === '' ||\r\n\t\t\tthis.state.fileIpfs === '' ||\r\n\t\t\tthis.state.token_addr === null\r\n\t\t) {\r\n\t\t\tmessage.error({\r\n\t\t\t\tcontent: '',\r\n\t\t\t\tclassName: 'custom-class',\r\n\t\t\t\tstyle: {\r\n\t\t\t\t\tmarginTop: '10vh',\r\n\t\t\t\t},\r\n\t\t\t})\r\n\t\t} else {\r\n\t\t\tthis.setState({\r\n\t\t\t\tonLoading: true,\r\n\t\t\t})\r\n\t\t\tlet img_url = 'https://coldcdn.com/api/cdn/v5ynur/ipfs/' + this.state.ipfsHashCover\r\n\t\t\tthis.setState({\r\n\t\t\t\tcoverURL: img_url,\r\n\t\t\t})\r\n\t\t\tconsole.debug('coverURL: ', this.state.coverURL)\r\n\t\t\tlet trimmed_des = this.state.description.replace(/(\\r\\n\\t|\\n|\\r\\t)/gm, ' ')\r\n\t\t\t// const accounts = await window.ethereum.request({\r\n\t\t\t// \tmethod: 'eth_requestAccounts',\r\n\t\t\t// })\r\n\t\t\t// const account = accounts[0]\r\n\t\t\t// let account = null;\r\n\t\t\t//alert(account);\r\n\t\t\tlet value, accounts, account;\r\n\t\t\tconst lastConnect = localStorage.getItem(LASTCONNECT);\r\n\t\t\tswitch (lastConnect) {\r\n\t\t\tcase TOKENPOCKET:\r\n\t\t\t\tvalue = await tp.getCurrentWallet()\r\n\t\t\t\taccount = value.data.address;\r\n\t\t\t\tbreak;\r\n\t\t\tcase MATHWALLET:\r\n\t\t\t\tvalue = await mathwallet.getCurrentWallet()\r\n\t\t\t\taccount = value.address;\r\n\t\t\t\tbreak;\r\n\t\t\tcase METAMASK:\r\n\t\t\t\taccounts = await window.ethereum.request({ method: 'eth_requestAccounts' })\r\n\t\t\t\taccount = accounts[0];\r\n\t\t\t\t//alert(\"hello\")\r\n\t\t\t\tbreak;\r\n\t\t\tdefault:\r\n\t\t\t\t// accounts = await window.ethereum.request({ method: 'eth_requestAccounts' })\r\n\t\t\t\t// account = accounts[0];\r\n\t\t\t\tbreak;\r\n\t\t\t}\r\n\t\t\t//alert(account)\r\n\t\t\tthis.setState({\r\n\t\t\t\tuserAccount: account,\r\n\t\t\t})\r\n\t\t\tlet file_url = 'https://coldcdn.com/api/cdn/v5ynur/ipfs/' + this.state.fileIpfs\r\n\t\t\tlet JSONBody = {\r\n\t\t\t\tname: this.state.name,\r\n\t\t\t\tdescription: trimmed_des,\r\n\t\t\t\timage: this.state.coverURL,\r\n\t\t\t\tattributes: [\r\n\t\t\t\t\t{\r\n\t\t\t\t\t\tdisplay_type: 'boost_percentage',\r\n\t\t\t\t\t\ttrait_type: 'Bonuse Percentage',\r\n\t\t\t\t\t\tvalue: this.state.bonusFee,\r\n\t\t\t\t\t},\r\n\t\t\t\t\t{\r\n\t\t\t\t\t\ttrait_type: 'File Address',\r\n\t\t\t\t\t\tvalue: file_url,\r\n\t\t\t\t\t},\r\n\t\t\t\t\t{\r\n\t\t\t\t\t\tvalue: this.state.fileType,\r\n\t\t\t\t\t},\r\n\t\t\t\t\t{\r\n\t\t\t\t\t\ttrait_type: 'Encrypted',\r\n\t\t\t\t\t\tvalue: 'FALSE',\r\n\t\t\t\t\t},\r\n\t\t\t\t],\r\n\t\t\t}\r\n\r\n\t\t\tconst url = 'https://api.pinata.cloud/pinning/pinJSONToIPFS'\r\n\r\n\t\t\ttry {\r\n\t\t\t\tconst response = await axios.post(url, JSONBody, {\r\n\t\t\t\t\theaders: {\r\n\t\t\t\t\t\tpinata_api_key: pinata_api_key,\r\n\t\t\t\t\t\tpinata_secret_api_key: pinata_secret_api_key,\r\n\t\t\t\t\t},\r\n\t\t\t\t})\r\n\t\t\t\tconsole.debug('metadata: ', response.data.IpfsHash)\r\n\t\t\t\tconst bytes = bs58.decode(response.data.IpfsHash)\r\n\t\t\t\tconst bytesToContract = bytes.toString('hex').substring(4)\r\n\t\t\t\tthis.setState({\r\n\t\t\t\t\tipfsMeta: bytesToContract,\r\n\t\t\t\t})\r\n\r\n\t\t\t\tlet price_with_decimal = this.state.price * 10 ** this.state.decimal\r\n\t\t\t\tprice_with_decimal = price_with_decimal.toString()\r\n\t\t\t\tconsole.debug('price_with_decimal: ', price_with_decimal)\r\n\t\t\t\tlet ipfsToContract = '0x' + bytesToContract\r\n\r\n\t\t\t\tlet gasPrice = await web3.eth.getGasPrice()\r\n\t\t\t\tlet new_gas_price = Math.floor(parseInt(gasPrice) * 1.5).toString()\r\n\t\t\t\tcontract.methods\r\n\t\t\t\t\t.publish(\r\n\t\t\t\t\t\tprice_with_decimal,\r\n\t\t\t\t\t\tthis.state.bonusFee,\r\n\t\t\t\t\t\tthis.state.shareTimes,\r\n\t\t\t\t\t\tipfsToContract,\r\n\t\t\t\t\t\tthis.state.token_addr\r\n\t\t\t\t\t)\r\n\t\t\t\t\t.send({\r\n\t\t\t\t\t\tfrom: this.state.userAccount,\r\n\t\t\t\t\t\tgasPrice: new_gas_price,\r\n\t\t\t\t\t})\r\n\t\t\t\t\t.on('receipt', function (receipt) {\r\n\t\t\t\t\t\tconsole.log(receipt)\r\n\t\t\t\t\t\tlet publish_event = receipt.events.Publish\r\n\t\t\t\t\t\tlet returned_values = publish_event.returnValues\r\n\t\t\t\t\t\tlet root_nft_id = returned_values.rootNFTId\r\n\t\t\t\t\t\tlet issue_id = returned_values.issue_id\r\n\t\t\t\t\t\tobj.setState({\r\n\t\t\t\t\t\t\tonLoading: false,\r\n\t\t\t\t\t\t\trootNFTId: root_nft_id,\r\n\t\t\t\t\t\t\tissueId: issue_id,\r\n\t\t\t\t\t\t\tfinished: true,\r\n\t\t\t\t\t\t})\r\n\t\t\t\t\t\tmessage.success({\r\n\t\t\t\t\t\t\tcontent: '',\r\n\t\t\t\t\t\t\tclassName: 'custom-class',\r\n\t\t\t\t\t\t\tstyle: {\r\n\t\t\t\t\t\t\t\tmarginTop: '10vh',\r\n\t\t\t\t\t\t\t},\r\n\t\t\t\t\t\t})\r\n\t\t\t\t\t})\r\n\t\t\t\t\t.on('error', function (error) {\r\n\t\t\t\t\t\tobj.setState({\r\n\t\t\t\t\t\t\tonLoading: false,\r\n\t\t\t\t\t\t})\r\n\t\t\t\t\t\tif (error.message.includes('not mined')) {\r\n\t\t\t\t\t\t\tmessage.warning({\r\n\t\t\t\t\t\t\t\tcontent: '',\r\n\t\t\t\t\t\t\t\tclassName: 'custom-class',\r\n\t\t\t\t\t\t\t\tstyle: {\r\n\t\t\t\t\t\t\t\t\tmarginTop: '10vh',\r\n\t\t\t\t\t\t\t\t},\r\n\t\t\t\t\t\t\t})\r\n\t\t\t\t\t\t} else {\r\n\t\t\t\t\t\t\tconsole.debug(error.message)\r\n\t\t\t\t\t\t\tmessage.error({\r\n\t\t\t\t\t\t\t\tcontent: `Error: ${error.message}`,\r\n\t\t\t\t\t\t\t\tclassName: 'custom-class',\r\n\t\t\t\t\t\t\t\tstyle: {\r\n\t\t\t\t\t\t\t\t\tmarginTop: '10vh',\r\n\t\t\t\t\t\t\t\t},\r\n\t\t\t\t\t\t\t})\r\n\t\t\t\t\t\t}\r\n\t\t\t\t\t})\r\n\t\t\t} catch (error) {\r\n\t\t\t\tconsole.debug(error)\r\n\t\t\t\tmessage.error({\r\n\t\t\t\t\tcontent: ` ${error}`,\r\n\t\t\t\t\tclassName: 'custom-class',\r\n\t\t\t\t\tstyle: {\r\n\t\t\t\t\t\tmarginTop: '10vh',\r\n\t\t\t\t\t},\r\n\t\t\t\t})\r\n\t\t\t}\r\n\t\t}\r\n\t}\r\n\r\n\tcheckDetail = async () => {\r\n\t\tlet new_url = '/#/NFT/' + this.state.rootNFTId\r\n\t\twindow.open(new_url, '_self')\r\n\t}\r\n\r\n\trender() {\r\n\t\tconst { t } = this.props\r\n\t\tconst { classes } = this.props\r\n\t\tlet obj = this\r\n\t\tconst { TextArea } = Input\r\n\t\tconst options = this.state.data.map((d) => <Option key={d.value}>{d.text}</Option>)\r\n\t\tconst prop = {\r\n\t\t\tname: 'file',\r\n\t\t\taction: 'https://api.pinata.cloud/pinning/pinFileToIPFS',\r\n\t\t\theaders: {\r\n\t\t\t\tpinata_api_key: pinata_api_key,\r\n\t\t\t\tpinata_secret_api_key: pinata_secret_api_key,\r\n\t\t\t},\r\n\t\t\tdata: this.state.buffer,\r\n\t\t\tbeforeUpload: (file) => {\r\n\t\t\t\treturn new Promise((resolve, reject) => {\r\n\t\t\t\t\ttry {\r\n\t\t\t\t\t\tconst reader = new FileReader()\r\n\t\t\t\t\t\treader.readAsArrayBuffer(file)\r\n\t\t\t\t\t\treader.onload = (e) => {\r\n\t\t\t\t\t\t\tlet b = e.target.result\r\n\t\t\t\t\t\t\tlet params = new FormData()\r\n\t\t\t\t\t\t\tparams.append('file', b)\r\n\t\t\t\t\t\t\tthis.setState({\r\n\t\t\t\t\t\t\t\tbuffer: params,\r\n\t\t\t\t\t\t\t})\r\n\t\t\t\t\t\t}\r\n\t\t\t\t\t\tresolve()\r\n\t\t\t\t\t} catch (e) {\r\n\t\t\t\t\t\tmessage.error('Read file error')\r\n\t\t\t\t\t\treject()\r\n\t\t\t\t\t}\r\n\t\t\t\t})\r\n\t\t\t},\r\n\t\t\tasync onChange(info) {\r\n\t\t\t\tconst { status } = info.file\r\n\t\t\t\t// text/plain image/jpeg application/pdf\r\n\t\t\t\tif (status === 'done') {\r\n\t\t\t\t\tmessage.success(`${info.file.name} file uploaded successfully.`)\r\n\t\t\t\t\tobj.setState({\r\n\t\t\t\t\t\tipfsHashCover: info.file.response.IpfsHash,\r\n\t\t\t\t\t})\r\n\t\t\t\t} else if (status === 'error') {\r\n\t\t\t\t\tmessage.error(`${info.file.name} file upload failed.`)\r\n\t\t\t\t}\r\n\t\t\t},\r\n\t\t\tonDrop(e) {\r\n\t\t\t\tmessage.error('Only image file supported')\r\n\t\t\t\tconsole.log('Dropped files', e.dataTransfer.files)\r\n\t\t\t},\r\n\t\t}\r\n\r\n\t\tconst propFile = {\r\n\t\t\tname: 'file',\r\n\t\t\taction: 'https://api.pinata.cloud/pinning/pinFileToIPFS',\r\n\t\t\theaders: {\r\n\t\t\t\tpinata_api_key: pinata_api_key,\r\n\t\t\t\tpinata_secret_api_key: pinata_secret_api_key,\r\n\t\t\t},\r\n\t\t\tdata: this.state.buffer,\r\n\t\t\tbeforeUpload: (file) => {\r\n\t\t\t\treturn new Promise((resolve, reject) => {\r\n\t\t\t\t\ttry {\r\n\t\t\t\t\t\tconst reader = new FileReader()\r\n\t\t\t\t\t\treader.readAsArrayBuffer(file)\r\n\t\t\t\t\t\treader.onload = (e) => {\r\n\t\t\t\t\t\t\tlet b = e.target.result\r\n\t\t\t\t\t\t\tlet params = new FormData()\r\n\t\t\t\t\t\t\tparams.append('file', b)\r\n\t\t\t\t\t\t\tthis.setState({\r\n\t\t\t\t\t\t\t\tbuffer: params,\r\n\t\t\t\t\t\t\t})\r\n\t\t\t\t\t\t}\r\n\t\t\t\t\t\tresolve()\r\n\t\t\t\t\t} catch (e) {\r\n\t\t\t\t\t\tmessage.error('Read file error')\r\n\t\t\t\t\t\treject()\r\n\t\t\t\t\t}\r\n\t\t\t\t})\r\n\t\t\t},\r\n\t\t\tasync onChange(info) {\r\n\t\t\t\tconst { status } = info.file\r\n\t\t\t\t// console.debug(typeof info.file.type)\r\n\t\t\t\t// text/plain image/jpeg application/pdf\r\n\t\t\t\tif (status === 'done') {\r\n\t\t\t\t\tmessage.success(`${info.file.name} file uploaded successfully.`)\r\n\t\t\t\t\tlet file_type = info.file.name.split('.')\r\n\t\t\t\t\tlet file_suffix = file_type[file_type.length - 1]\r\n\t\t\t\t\tconsole.debug(file_suffix)\r\n\t\t\t\t\tconsole.debug('file ipfs hash: ', info.file.response.IpfsHash)\r\n\t\t\t\t\tobj.setState({\r\n\t\t\t\t\t\tfileIpfs: info.file.response.IpfsHash,\r\n\t\t\t\t\t\tfileType: file_suffix,\r\n\t\t\t\t\t})\r\n\t\t\t\t} else if (status === 'error') {\r\n\t\t\t\t\tmessage.error(`${info.file.name} file upload failed.`)\r\n\t\t\t\t}\r\n\t\t\t},\r\n\t\t\tonDrop(e) {\r\n\t\t\t\tmessage.error('Only image file supported')\r\n\t\t\t\tconsole.log('Dropped files', e.dataTransfer.files)\r\n\t\t\t},\r\n\t\t}\r\n\r\n\t\t// if (this.state.onLoading) {\r\n\t\t//   return (\r\n\t\t//     <div>\r\n\t\t//       <ThemeProvider theme={theme}>\r\n\t\t//         <TopBar />\r\n\t\t//         <div style={{ marginLeft: '35%', marginTop: '10%' }}>\r\n\t\t//           <ReactLoading type={'bars'} color={'#2196f3'} width={'40%'} />\r\n\t\t//         </div>\r\n\t\t//       </ThemeProvider>\r\n\t\t//     </div>\r\n\t\t//   )\r\n\t\t// } else\r\n\t\tif (this.state.finished) {\r\n\t\t\treturn (\r\n\t\t\t\t<Spin spinning={this.state.onLoading} size=\"large\">\r\n\t\t\t\t\t<ThemeProvider theme={theme}>\r\n\t\t\t\t\t\t<TopBar />\r\n\t\t\t\t\t\t<div style={{ textAlign: 'center' }}>\r\n\t\t\t\t\t\t\t<Typography className={classes.titleCon}>\r\n\t\t\t\t\t\t\t\t<b>{t('pulish_success')}</b>\r\n\t\t\t\t\t\t\t</Typography>\r\n\r\n\t\t\t\t\t\t\t<Paper className={classes.paperImg}>\r\n\t\t\t\t\t\t\t\t<img style={{ width: 300, marginTop: 20, marginBottom: 50 }} src={this.state.coverURL}></img>\r\n\t\t\t\t\t\t\t</Paper>\r\n\t\t\t\t\t\t\t<Typography variant=\"h4\" style={{ marginTop: 20, fontFamily: 'Ubuntu' }}>\r\n\t\t\t\t\t\t\t\t<b>\r\n\t\t\t\t\t\t\t\t\t{t('you_gain_nft')} #{this.state.rootNFTId}\r\n\t\t\t\t\t\t\t\t</b>\r\n\t\t\t\t\t\t\t</Typography>\r\n\r\n\t\t\t\t\t\t\t<Button\r\n\t\t\t\t\t\t\t\tvariant=\"contained\"\r\n\t\t\t\t\t\t\t\tclassName={classes.button}\r\n\t\t\t\t\t\t\t\tstyle={{\r\n\t\t\t\t\t\t\t\t\tmarginTop: 50,\r\n\t\t\t\t\t\t\t\t\twidth: 200,\r\n\t\t\t\t\t\t\t\t\theight: 50,\r\n\t\t\t\t\t\t\t\t\tmarginBottom: 50,\r\n\t\t\t\t\t\t\t\t}}\r\n\t\t\t\t\t\t\t\tonClick={this.checkDetail}\r\n\t\t\t\t\t\t\t>\r\n\t\t\t\t\t\t\t\t{t('show_detail')}\r\n\t\t\t\t\t\t\t</Button>\r\n\t\t\t\t\t\t</div>\r\n\t\t\t\t\t</ThemeProvider>\r\n\t\t\t\t</Spin>\r\n\t\t\t)\r\n\t\t} else {\r\n\t\t\treturn (\r\n\t\t\t\t<Spin spinning={this.state.onLoading} size=\"large\" style={{ marginTop: 1000 }}>\r\n\t\t\t\t\t<ThemeProvider theme={theme}>\r\n\t\t\t\t\t\t<TopBar />\r\n\t\t\t\t\t\t<Container component=\"main\" maxWidth=\"xs\" className={classes.main}>\r\n\t\t\t\t\t\t\t<div className={classes.paper}>\r\n\t\t\t\t\t\t\t\t{/* {showLoading()} */}\r\n\t\t\t\t\t\t\t\t<Typography className={classes.titlePub}>\r\n\t\t\t\t\t\t\t\t\t<b>{t('art_info')}</b>\r\n\t\t\t\t\t\t\t\t</Typography>\r\n\t\t\t\t\t\t\t\t<form className={classes.form} noValidate>\r\n\t\t\t\t\t\t\t\t\t<Grid container spacing={2}>\r\n\t\t\t\t\t\t\t\t\t\t<Grid item style={{ width: '100%' }}>\r\n\t\t\t\t\t\t\t\t\t\t\t<label style={{ fontSize: 18, marginBottom: 10 }}>\r\n\t\t\t\t\t\t\t\t\t\t\t\t{t('art_name')} <span style={{ color: 'red' }}>*</span>\r\n\t\t\t\t\t\t\t\t\t\t\t</label>\r\n\t\t\t\t\t\t\t\t\t\t\t<Input\r\n\t\t\t\t\t\t\t\t\t\t\t\tplaceholder={t('art_name')}\r\n\t\t\t\t\t\t\t\t\t\t\t\tallowClear\r\n\t\t\t\t\t\t\t\t\t\t\t\tid=\"pubName\"\r\n\t\t\t\t\t\t\t\t\t\t\t\tonChange={this.handleGetPubName}\r\n\t\t\t\t\t\t\t\t\t\t\t\tvalue={this.state.name}\r\n\t\t\t\t\t\t\t\t\t\t\t\tclassName={classes.input}\r\n\t\t\t\t\t\t\t\t\t\t\t/>\r\n\t\t\t\t\t\t\t\t\t\t</Grid>\r\n\t\t\t\t\t\t\t\t\t\t<Grid item style={{ width: '100%' }}>\r\n\t\t\t\t\t\t\t\t\t\t\t<label style={{ fontSize: 18, marginTop: 20 }}>\r\n\t\t\t\t\t\t\t\t\t\t\t\t{t('fit_rate')} <span style={{ color: 'red' }}>*</span>\r\n\t\t\t\t\t\t\t\t\t\t\t</label>\r\n\t\t\t\t\t\t\t\t\t\t\t<p style={{ fontSize: 14 }}>{t('fit_rate_tip')}</p>\r\n\t\t\t\t\t\t\t\t\t\t\t<InputNumber\r\n\t\t\t\t\t\t\t\t\t\t\t\tid=\"bonusFee\"\r\n\t\t\t\t\t\t\t\t\t\t\t\tdefaultValue={0}\r\n\t\t\t\t\t\t\t\t\t\t\t\tmin={0}\r\n\t\t\t\t\t\t\t\t\t\t\t\tmax={100}\r\n\t\t\t\t\t\t\t\t\t\t\t\tformatter={(value) => `${value}%`}\r\n\t\t\t\t\t\t\t\t\t\t\t\tparser={(value) => value.replace('%', '')}\r\n\t\t\t\t\t\t\t\t\t\t\t\tonChange={this.handleGetBonusFee}\r\n\t\t\t\t\t\t\t\t\t\t\t\tclassName={classes.inputNum}\r\n\t\t\t\t\t\t\t\t\t\t\t/>\r\n\t\t\t\t\t\t\t\t\t\t</Grid>\r\n\t\t\t\t\t\t\t\t\t\t<Grid item style={{ width: '100%' }}>\r\n\t\t\t\t\t\t\t\t\t\t\t<label style={{ fontSize: 18, marginTop: 20 }}>\r\n\t\t\t\t\t\t\t\t\t\t\t\t{t('access_coin')} <span style={{ color: 'red' }}>*</span>\r\n\t\t\t\t\t\t\t\t\t\t\t</label>\r\n\t\t\t\t\t\t\t\t\t\t\t<p style={{ fontSize: 14 }}>{t('access_coin_tip')}</p>\r\n\t\t\t\t\t\t\t\t\t\t\t<Select\r\n\t\t\t\t\t\t\t\t\t\t\t\tshowSearch\r\n\t\t\t\t\t\t\t\t\t\t\t\tvalue={this.state.token_addr}\r\n\t\t\t\t\t\t\t\t\t\t\t\tplaceholder={t('please_input_coin')}\r\n\t\t\t\t\t\t\t\t\t\t\t\t// className={classes.input}\r\n\t\t\t\t\t\t\t\t\t\t\t\tstyle={{ width: '100%' }}\r\n\t\t\t\t\t\t\t\t\t\t\t\tsize=\"large\"\r\n\t\t\t\t\t\t\t\t\t\t\t\tdefaultActiveFirstOption={false}\r\n\t\t\t\t\t\t\t\t\t\t\t\tshowArrow={false}\r\n\t\t\t\t\t\t\t\t\t\t\t\tfilterOption={false}\r\n\t\t\t\t\t\t\t\t\t\t\t\tonSearch={this.handleSearch}\r\n\t\t\t\t\t\t\t\t\t\t\t\tonChange={this.handleSelectChange}\r\n\t\t\t\t\t\t\t\t\t\t\t\tnotFoundContent={null}\r\n\t\t\t\t\t\t\t\t\t\t\t>\r\n\t\t\t\t\t\t\t\t\t\t\t\t{options}\r\n\t\t\t\t\t\t\t\t\t\t\t</Select>\r\n\t\t\t\t\t\t\t\t\t\t</Grid>\r\n\t\t\t\t\t\t\t\t\t\t<Grid item style={{ width: '100%' }}>\r\n\t\t\t\t\t\t\t\t\t\t\t<label style={{ fontSize: 18, marginTop: 20 }}>\r\n\t\t\t\t\t\t\t\t\t\t\t\t{t('price')} ({this.state.token_symbol})<span style={{ color: 'red' }}>*</span>\r\n\t\t\t\t\t\t\t\t\t\t\t</label>\r\n\t\t\t\t\t\t\t\t\t\t\t<InputNumber\r\n\t\t\t\t\t\t\t\t\t\t\t\tid=\"price\"\r\n\t\t\t\t\t\t\t\t\t\t\t\tdefaultValue={0}\r\n\t\t\t\t\t\t\t\t\t\t\t\tmin={0}\r\n\t\t\t\t\t\t\t\t\t\t\t\tonChange={this.handleGetPrice}\r\n\t\t\t\t\t\t\t\t\t\t\t\tclassName={classes.inputNum}\r\n\t\t\t\t\t\t\t\t\t\t\t/>\r\n\t\t\t\t\t\t\t\t\t\t</Grid>\r\n\t\t\t\t\t\t\t\t\t\t<Grid item style={{ width: '100%' }}>\r\n\t\t\t\t\t\t\t\t\t\t\t<label style={{ fontSize: 18, marginTop: 20 }}>\r\n\t\t\t\t\t\t\t\t\t\t\t\t{t('max_share')} (MAX 65535)\r\n\t\t\t\t\t\t\t\t\t\t\t\t<span style={{ color: 'red' }}>*</span>\r\n\t\t\t\t\t\t\t\t\t\t\t</label>\r\n\t\t\t\t\t\t\t\t\t\t\t<p style={{ fontSize: 14 }}>{t('max_share_tip')}</p>\r\n\t\t\t\t\t\t\t\t\t\t\t<InputNumber\r\n\t\t\t\t\t\t\t\t\t\t\t\tid=\"shareTimes\"\r\n\t\t\t\t\t\t\t\t\t\t\t\tdefaultValue={0}\r\n\t\t\t\t\t\t\t\t\t\t\t\tmin={0}\r\n\t\t\t\t\t\t\t\t\t\t\t\tmax={65535}\r\n\t\t\t\t\t\t\t\t\t\t\t\tonChange={this.handleGetShareTimes}\r\n\t\t\t\t\t\t\t\t\t\t\t\tclassName={classes.inputNum}\r\n\t\t\t\t\t\t\t\t\t\t\t/>\r\n\t\t\t\t\t\t\t\t\t\t</Grid>\r\n\t\t\t\t\t\t\t\t\t\t<Grid item style={{ width: '100%' }}>\r\n\t\t\t\t\t\t\t\t\t\t\t<label style={{ fontSize: 18, marginTop: 20 }}>\r\n\t\t\t\t\t\t\t\t\t\t\t\t{t('art_desc')} <span style={{ color: 'red' }}>*</span>\r\n\t\t\t\t\t\t\t\t\t\t\t</label>\r\n\t\t\t\t\t\t\t\t\t\t\t<p style={{ fontSize: 14 }}>{t('art_desc_tip')}</p>\r\n\t\t\t\t\t\t\t\t\t\t\t<TextArea rows={6} id=\"Description\" onChange={this.handleGetDescription} />\r\n\t\t\t\t\t\t\t\t\t\t</Grid>\r\n\t\t\t\t\t\t\t\t\t</Grid>\r\n\t\t\t\t\t\t\t\t\t<label style={{ fontSize: 18, marginTop: 50 }}>\r\n\t\t\t\t\t\t\t\t\t\t{t('pic_cover')} <span style={{ color: 'red' }}>*</span>\r\n\t\t\t\t\t\t\t\t\t</label>\r\n\t\t\t\t\t\t\t\t\t<p style={{ fontSize: 14 }}>{t('pic_cover_tip')}</p>\r\n\t\t\t\t\t\t\t\t\t<Dragger {...prop} style={{ width: '100%', minHeight: 200 }} id=\"Uploader\" accept=\".png, .jpg, .jpeg\">\r\n\t\t\t\t\t\t\t\t\t\t<p className=\"ant-upload-drag-icon\">\r\n\t\t\t\t\t\t\t\t\t\t\t<InboxOutlined />\r\n\t\t\t\t\t\t\t\t\t\t</p>\r\n\t\t\t\t\t\t\t\t\t\t<p className=\"ant-upload-text\">{t('upload_file_tip1')}</p>\r\n\t\t\t\t\t\t\t\t\t\t<p className=\"ant-upload-hint\">{t('upload_file_tip2')}</p>\r\n\t\t\t\t\t\t\t\t\t</Dragger>\r\n\r\n\t\t\t\t\t\t\t\t\t<label style={{ fontSize: 18, marginTop: 50 }}>\r\n\t\t\t\t\t\t\t\t\t\t{t('art_file')} <span style={{ color: 'red' }}>*</span>\r\n\t\t\t\t\t\t\t\t\t</label>\r\n\t\t\t\t\t\t\t\t\t<p style={{ fontSize: 14 }}> {t('art_file_tip')}</p>\r\n\t\t\t\t\t\t\t\t\t<Dragger {...propFile} style={{ width: '100%', minHeight: 200 }} id=\"Uploader2\">\r\n\t\t\t\t\t\t\t\t\t\t<p className=\"ant-upload-drag-icon\">\r\n\t\t\t\t\t\t\t\t\t\t\t<InboxOutlined />\r\n\t\t\t\t\t\t\t\t\t\t</p>\r\n\t\t\t\t\t\t\t\t\t\t<p className=\"ant-upload-text\">{t('upload_file_tip1')}</p>\r\n\t\t\t\t\t\t\t\t\t\t<p className=\"ant-upload-hint\">{t('upload_file_tip2')}</p>\r\n\t\t\t\t\t\t\t\t\t</Dragger>\r\n\t\t\t\t\t\t\t\t</form>\r\n\t\t\t\t\t\t\t\t<Button\r\n\t\t\t\t\t\t\t\t\tvariant=\"contained\"\r\n\t\t\t\t\t\t\t\t\tclassName={classes.button}\r\n\t\t\t\t\t\t\t\t\tstartIcon={<CloudUploadOutlined />}\r\n\t\t\t\t\t\t\t\t\tstyle={{\r\n\t\t\t\t\t\t\t\t\t\tmarginTop: 50,\r\n\t\t\t\t\t\t\t\t\t\twidth: 200,\r\n\t\t\t\t\t\t\t\t\t\theight: 50,\r\n\t\t\t\t\t\t\t\t\t\tmarginBottom: 50,\r\n\t\t\t\t\t\t\t\t\t}}\r\n\t\t\t\t\t\t\t\t\tonClick={this.submit}\r\n\t\t\t\t\t\t\t\t>\r\n\t\t\t\t\t\t\t\t\t{t('submit')}\r\n\t\t\t\t\t\t\t\t</Button>\r\n\t\t\t\t\t\t\t</div>\r\n\t\t\t\t\t\t</Container>\r\n\t\t\t\t\t</ThemeProvider>\r\n\t\t\t\t</Spin>\r\n\t\t\t)\r\n\t\t}\r\n\t}\r\n}\r\n\r\nexport default withTranslation()(withStyles(styles, { withTheme: true })(Publish))\r\n//todo \r\n","export default __webpack_public_path__ + \"static/media/poster.d78136d7.png\";","export default __webpack_public_path__ + \"static/media/imgloading.2250a670.png\";","import React, { useRef, useEffect } from 'react';\r\nimport bgImg from '../imgs/poster.png';\r\nimport loading from '../imgs/imgloading.png';\r\nimport QRCode from 'qrcode';\r\n\r\nconst Poster = (props) => {\r\n\tlet { str, share, coverImg, coverHeight, coverWidth } = props;\r\n\t//coverImg = document.getElementById('cover')\r\n\tconsole.log(coverImg);\r\n\tconst splited = str.split(' ');\r\n\tlet price = splited[0];\r\n\tlet currency = splited[1];\r\n\tconst imgRef = useRef(null);\r\n\tuseEffect(() => {\r\n\t\tfunction draw(ctx, dataUrl) {\r\n\t\t\tlet qrcode = new Image();\r\n\t\t\tqrcode.onload = function () {\r\n\t\t\t\tctx.drawImage(qrcode, 307, 331, 73, 73);\r\n\t\t\t\tcoverImg.crossOrigin = 'anonymous';\r\n\t\t\t\tctx.drawImage(coverImg, ...getImgPos(coverHeight, coverWidth));\r\n\t\t\t};\r\n\t\t\tqrcode.src = dataUrl;\r\n\r\n\t\t\tlet bg = new Image();\r\n\r\n\t\t\tbg.onload = function () {\r\n\t\t\t\tctx.drawImage(bg, 0, 0, 424, 600);\r\n\t\t\t};\r\n\t\t\tbg.src = bgImg;\r\n\r\n\t\t\tctx.font = '18px serif';\r\n\t\t\tctx.fillText(price, 122, 384);\r\n\t\t\tctx.font = '12px serif';\r\n\t\t\tctx.fillText(currency, 210, 382);\r\n\r\n\t\t\tctx.strokeRect(30, 50, 364, 260);\r\n\t\t}\r\n\t\t/* function getPixelRatio(context) {\r\n\t\t\tconst backingStore =\r\n        context.backingStorePixelRatio ||\r\n        context.webkitBackingStorePixelRatio ||\r\n        context.mozBackingStorePixelRatio ||\r\n        context.msBackingStorePixelRatio ||\r\n        context.oBackingStorePixelRatio ||\r\n        context.backingStorePixelRatio ||\r\n        1;\r\n\t\t\treturn (window.devicePixelRatio || 1) / backingStore;\r\n\t\t} */\r\n\t\tfunction getImgPos(h, w) {\r\n\t\t\tconsole.log(h, w);\r\n\t\t\tconst ratio = h / w;\r\n\t\t\tconst standardRatio = 260 / 364;\r\n\t\t\tif (ratio - standardRatio < 0.01 && ratio - standardRatio > -0.01) {\r\n\t\t\t\treturn [30, 50, 364, 260];\r\n\t\t\t} else if (ratio > standardRatio) {\r\n\t\t\t\tconst preWidth = (260 * w) / h;\r\n\t\t\t\tconst preX = 212 - preWidth / 2;\r\n\t\t\t\treturn [preX, 50, preWidth, 260];\r\n\t\t\t} else {\r\n\t\t\t\tconst preHeight = 364 * ratio;\r\n\t\t\t\tconst preY = 180 - preHeight / 2;\r\n\t\t\t\treturn [30, preY, 364, preHeight];\r\n\t\t\t}\r\n\t\t}\r\n\r\n\t\tQRCode.toDataURL(share, {\r\n\t\t\terrorCorrectionLevel: 'H',\r\n\t\t\tquality: 1,\r\n\t\t\tmargin: 0\r\n\t\t}).then((data) => {\r\n\t\t\tconst canvas = document.createElement('canvas');\r\n\t\t\tcanvas.width = 424;\r\n\t\t\tcanvas.height = 600;\r\n\t\t\tconst ctx = canvas.getContext('2d');\r\n\t\t\t//const ratio = getPixelRatio(ctx);\r\n\t\t\tcanvas.style.width = canvas.width + 'px';\r\n\t\t\tcanvas.style.height = canvas.height + 'px';\r\n\t\t\tctx.globalCompositeOperation = 'destination-over';\r\n\t\t\tdraw(ctx, data);\r\n\r\n\t\t\tsetTimeout(() => {\r\n\t\t\t\tconst dataURL = canvas.toDataURL('image/jpeg', 1.0);\r\n\t\t\t\tconst img = imgRef.current;\r\n\t\t\t\timg.src = dataURL;\r\n\t\t\t}, 700);\r\n\t\t});\r\n\t});\r\n\r\n\treturn (\r\n\t\t<img alt=\"poster\" width=\"424\" height=\"600\" ref={imgRef} src={loading} />\r\n\t);\r\n};\r\n\r\nexport default Poster;\r\n","import React from 'react'\r\n\r\nconst MaskLayer = (props) => {\r\n\tconst styles = {\r\n\t\tmodal: {\r\n\t\t\tposition: 'fixed',\r\n\t\t\tleft: 0,\r\n\t\t\ttop: 0,\r\n\t\t\twidth: '100%',\r\n\t\t\theight: '100%',\r\n\t\t\tdisplay: 'flex',\r\n\t\t\talignItems: 'center',\r\n\t\t\tjustifyContent: 'center',\r\n\t\t\tbackgroundColor: 'rgba(0,0,0,0.3)',\r\n\t\t},\r\n\t}\r\n\treturn (\r\n\t\t<div\r\n\t\t\tonClick={(e) => {\r\n\t\t\t\tconsole.log('click')\r\n\t\t\t\tif (e.target.className === 'MaskLayer') {\r\n\t\t\t\t\tprops.onClose()\r\n\t\t\t\t}\r\n\t\t\t}}\r\n\t\t\tclassName=\"MaskLayer\"\r\n\t\t\tstyle={styles.modal}\r\n\t\t>\r\n\t\t\t{props.children}\r\n\t\t</div>\r\n\t)\r\n}\r\n\r\nexport default MaskLayer\r\n","/*\r\n * @Author: Chan\r\n * @Date: 2021-10-26 16:02:25\r\n * @LastEditTime: 2021-10-26 16:04:10\r\n * @LastEditors: Chan\r\n * @Description: \r\n */\r\nconst config = {\r\n\tgateway: 'https://coldcdn.com/api/cdn/v5ynur/ipfs/',\r\n\tbackend: 'https://api.sparklink.io',\r\n\tsparkAddr: '0xb42d4525841008A69E427026DF354067fD6A524f',\r\n}\r\n\r\nexport default config\r\n","import React, { Component } from 'react'\r\nimport '../App.css'\r\nimport Button from '@material-ui/core/Button'\r\nimport Grid from '@material-ui/core/Grid'\r\nimport { createTheme, ThemeProvider, withStyles } from '@material-ui/core/styles'\r\nimport Skeleton from '@material-ui/lab/Skeleton'\r\nimport Typography from '@material-ui/core/Typography'\r\nimport TopBar from '../components/TopBar'\r\nimport Poster from '../components/Poster'\r\nimport MaskLayer from '../components/MaskLayer'\r\nimport Paper from '@material-ui/core/Paper'\r\nimport {\r\n\tDownloadOutlined,\r\n\tFireOutlined,\r\n\tArrowLeftOutlined,\r\n\tMoneyCollectOutlined,\r\n\tDollarCircleOutlined,\r\n} from '@ant-design/icons'\r\nimport { Container } from '@material-ui/core'\r\nimport contract from '../utils/contract'\r\nimport { Progress, Spin, message } from 'antd'\r\nimport axios from 'axios'\r\nimport web3 from '../utils/web3'\r\nimport config from '../global/config'\r\nimport { TOKENPOCKET, METAMASK, LASTCONNECT, MATHWALLET } from '../global/globalsString'\r\nconst { gateway, backend } = config\r\n\r\nconst mathwallet = require('math-js-sdk');\r\nconst tp = require('tp-js-sdk')\r\nconst FileSaver = require('file-saver')\r\nconst CryptoJS = require('crypto-js')\r\nconst abi = require('erc-20-abi')\r\n\r\nconst theme = createTheme({\r\n\tpalette: {\r\n\t\tprimary: {\r\n\t\t\tmain: '#2196f3',\r\n\t\t},\r\n\t\tsecondary: {\r\n\t\t\tmain: '#FDFEFE',\r\n\t\t},\r\n\t},\r\n})\r\n\r\nconst styles = (theme) => ({\r\n\tcontainer: {\r\n\t\tmaxWidth: 1500,\r\n\t},\r\n\tcbutton: {\r\n\t\tfontFamily: 'Teko',\r\n\t\t[theme.breakpoints.between('xs', 'sm')]: {\r\n\t\t\tjustifyContent: 'center',\r\n\t\t\talignItems: 'flex-start',\r\n\t\t},\r\n\t\t[theme.breakpoints.between('sm', 'md')]: {\r\n\t\t\tjustifyContent: 'center',\r\n\t\t\talignItems: 'flex-start',\r\n\t\t},\r\n\t\t[theme.breakpoints.between('md', 'lg')]: {\r\n\t\t\tjustifyContent: 'flex-end',\r\n\t\t\talignItems: 'flex-start',\r\n\t\t},\r\n\t\t[theme.breakpoints.between('lg', 'xl')]: {\r\n\t\t\tjustifyContent: 'flex-end',\r\n\t\t\talignItems: 'flex-start',\r\n\t\t},\r\n\t\t[theme.breakpoints.up('xl')]: {\r\n\t\t\tjustifyContent: 'flex-end',\r\n\t\t\talignItems: 'flex-start',\r\n\t\t},\r\n\t},\r\n\tcontent: {\r\n\t\tfontFamily: 'Teko',\r\n\t\t[theme.breakpoints.between('xs', 'sm')]: {\r\n\t\t\tjustifyContent: 'flex-start',\r\n\t\t\talignItems: 'flex-start',\r\n\t\t},\r\n\t\t[theme.breakpoints.between('sm', 'md')]: {\r\n\t\t\tjustifyContent: 'flex-start',\r\n\t\t\talignItems: 'flex-start',\r\n\t\t},\r\n\t\t[theme.breakpoints.between('md', 'lg')]: {\r\n\t\t\tjustifyContent: 'flex-start',\r\n\t\t\talignItems: 'flex-start',\r\n\t\t},\r\n\t\t[theme.breakpoints.between('lg', 'xl')]: {\r\n\t\t\tjustifyContent: 'center',\r\n\t\t\talignItems: 'flex-start',\r\n\t\t},\r\n\t\t[theme.breakpoints.up('xl')]: {\r\n\t\t\tjustifyContent: 'center',\r\n\t\t\talignItems: 'flex-start',\r\n\t\t},\r\n\t},\r\n\tbtnMain: {\r\n\t\tmarginTop: theme.spacing(3),\r\n\t\tcolor: '#FFFFFF',\r\n\t\tborderWidth: 2,\r\n\t\tborderColor: '#e3f2fd',\r\n\t\tfontSize: 16,\r\n\t\tborderRadius: 25,\r\n\t\twidth: 120,\r\n\t\tmaxWidth: '20rem',\r\n\t\tminWidth: '10rem',\r\n\t},\r\n\tbtnSecond: {\r\n\t\tmarginTop: theme.spacing(3),\r\n\t\tcolor: '#03A9F4',\r\n\t\tborderWidth: 3,\r\n\t\tborderColor: '#03A9F4',\r\n\t\tfontSize: 16,\r\n\t\tborderRadius: 25,\r\n\t\twidth: 120,\r\n\t\tmaxWidth: '20rem',\r\n\t\tminWidth: '10rem',\r\n\t},\r\n\tpaper: {\r\n\t\tmarginTop: theme.spacing(1),\r\n\t\ttextAlign: 'center',\r\n\t\tmaxWidth: 1370,\r\n\t\t// backgroundColor: \"green\"\r\n\t},\r\n\timagePapaer: {\r\n\t\t[theme.breakpoints.between('xs', 'sm')]: {\r\n\t\t\tbackgroundColor: '#EFEBE9',\r\n\t\t\twidth: 330,\r\n\t\t\tmarginLeft: 25,\r\n\t\t},\r\n\t\t[theme.breakpoints.between('sm', 'md')]: {\r\n\t\t\tbackgroundColor: '#EFEBE9',\r\n\t\t\twidth: 340,\r\n\t\t\tmarginLeft: 25,\r\n\t\t},\r\n\t\t[theme.breakpoints.between('md', 'lg')]: {\r\n\t\t\tbackgroundColor: '#EFEBE9',\r\n\t\t\twidth: 350,\r\n\t\t\tmarginLeft: 25,\r\n\t\t},\r\n\t\t[theme.breakpoints.between('lg', 'xl')]: {\r\n\t\t\tbackgroundColor: '#EFEBE9',\r\n\t\t\twidth: 350,\r\n\t\t\tmarginLeft: 10,\r\n\t\t},\r\n\t\t[theme.breakpoints.up('xl')]: {\r\n\t\t\tbackgroundColor: '#EFEBE9',\r\n\t\t\twidth: 350,\r\n\t\t\tmarginLeft: 10,\r\n\t\t},\r\n\t},\r\n\timageStyle: {\r\n\t\tobjectFit: 'contain',\r\n\t\t// object- fit: cover\r\n\t\t[theme.breakpoints.between('xs', 'sm')]: {\r\n\t\t\twidth: 280,\r\n\t\t\theight: 365,\r\n\t\t\tmarginTop: 20,\r\n\t\t\tmarginBottom: 50,\r\n\t\t},\r\n\t\t[theme.breakpoints.between('sm', 'md')]: {\r\n\t\t\twidth: 290,\r\n\t\t\theight: 385,\r\n\t\t\tmarginTop: 20,\r\n\t\t\tmarginBottom: 50,\r\n\t\t},\r\n\t\t[theme.breakpoints.between('md', 'lg')]: {\r\n\t\t\twidth: 300,\r\n\t\t\theight: 420,\r\n\t\t\tmarginTop: 20,\r\n\t\t\tmarginBottom: 50,\r\n\t\t},\r\n\t\t[theme.breakpoints.between('lg', 'xl')]: {\r\n\t\t\twidth: 300,\r\n\t\t\tmarginTop: 20,\r\n\t\t\tmarginBottom: 50,\r\n\t\t},\r\n\t\t[theme.breakpoints.up('xl')]: {\r\n\t\t\twidth: 300,\r\n\t\t\tmarginTop: 20,\r\n\t\t\tmarginBottom: 50,\r\n\t\t},\r\n\t},\r\n\tcontent2: {\r\n\t\tfontFamily: 'Teko',\r\n\t\t[theme.breakpoints.between('xs', 'sm')]: {\r\n\t\t\tmarginLeft: 10,\r\n\t\t\tmaxWidth: 500,\r\n\t\t},\r\n\t\t[theme.breakpoints.between('sm', 'md')]: {\r\n\t\t\tmarginLeft: 90,\r\n\t\t\tmaxWidth: 500,\r\n\t\t},\r\n\t\t[theme.breakpoints.between('md', 'lg')]: {\r\n\t\t\tmarginLeft: 80,\r\n\t\t\tmaxWidth: 500,\r\n\t\t},\r\n\t\t[theme.breakpoints.between('lg', 'xl')]: {\r\n\t\t\tmarginLeft: 50,\r\n\t\t\tmaxWidth: 500,\r\n\t\t},\r\n\t\t[theme.breakpoints.up('xl')]: {\r\n\t\t\tmarginLeft: 60,\r\n\t\t\tmaxWidth: 500,\r\n\t\t},\r\n\t},\r\n\tcbutton2: {\r\n\t\tfontFamily: 'Teko',\r\n\t\t[theme.breakpoints.between('xs', 'sm')]: {\r\n\t\t\tjustifyContent: 'center',\r\n\t\t\talignItems: 'flex-start',\r\n\t\t},\r\n\t\t[theme.breakpoints.between('sm', 'md')]: {\r\n\t\t\tjustifyContent: 'center',\r\n\t\t\talignItems: 'flex-start',\r\n\t\t},\r\n\t\t[theme.breakpoints.between('md', 'lg')]: {\r\n\t\t\tjustifyContent: 'flex-end',\r\n\t\t\talignItems: 'flex-start',\r\n\t\t},\r\n\t\t[theme.breakpoints.between('lg', 'xl')]: {\r\n\t\t\tjustifyContent: 'space-evenly',\r\n\t\t\talignItems: 'flex-start',\r\n\t\t},\r\n\t\t[theme.breakpoints.up('xl')]: {\r\n\t\t\tjustifyContent: 'space-evenly',\r\n\t\t\talignItems: 'flex-start',\r\n\t\t},\r\n\t},\r\n\tshare: {\r\n\t\tfontFamily: 'Teko',\r\n\t\tmarginBottom: '10%',\r\n\t\t[theme.breakpoints.between('xs', 'sm')]: {\r\n\t\t\tfontSize: 14,\r\n\t\t},\r\n\t\t[theme.breakpoints.between('sm', 'md')]: {\r\n\t\t\tfontSize: 16,\r\n\t\t},\r\n\t\t[theme.breakpoints.between('md', 'lg')]: {\r\n\t\t\tfontSize: 18,\r\n\t\t},\r\n\t\t[theme.breakpoints.between('lg', 'xl')]: {\r\n\t\t\tfontSize: 20,\r\n\t\t},\r\n\t\t[theme.breakpoints.up('xl')]: {\r\n\t\t\tfontSize: 20,\r\n\t\t},\r\n\t},\r\n})\r\nclass NFTInfo extends Component {\r\n\tstate = {\r\n\t\tprice: '',\r\n\t\tloading: false,\r\n\t\tshowDecryptProgress: null,\r\n\t\tdecryptPercentage: 0,\r\n\t\tshowProgress: false,\r\n\t\tpercentage: 0,\r\n\t\tProfit: '',\r\n\t\taccount: null,\r\n\t\tloadItem: true,\r\n\t\tCover: '',\r\n\t\tName: '',\r\n\t\tDescription: '',\r\n\t\tBonusFee: 0,\r\n\t\tchildrenNum: 0,\r\n\t\tencrypted: '',\r\n\t\tdataUrl: null,\r\n\t\tisEncrypt: false,\r\n\t\tfileType: '',\r\n\t\tspark: false,\r\n\t\ttokenAddr: '',\r\n\t\ttokenSymbol: '',\r\n\t}\r\n\tasync componentDidMount() {\r\n\t\tif (!window.ethereum) {\r\n\t\t\talert('metamask')\r\n\t\t\twindow.location.href = '/#/collections'\r\n\t\t\treturn\r\n\t\t}\r\n\r\n\t\tconst chainId = await window.ethereum.request({ method: 'eth_chainId' })\r\n\t\tif (chainId !== '0x89') {\r\n\t\t\talert('Polygon ')\r\n\t\t\tawait window.ethereum.request({\r\n\t\t\t\tmethod: 'wallet_switchEthereumChain',\r\n\t\t\t\tparams: [\r\n\t\t\t\t\t{\r\n\t\t\t\t\t\tchainId: '0x89',\r\n\t\t\t\t\t},\r\n\t\t\t\t],\r\n\t\t\t})\r\n\t\t}\r\n\r\n\t\tconst price = await contract.methods.getShillPriceByNFTId(this.props.match.params.id).call()\r\n\t\tconst owner = await contract.methods.ownerOf(this.props.match.params.id).call()\r\n\r\n\t\t//\r\n\t\t// let account\r\n\t\t// const lastConnect = localStorage.getItem(LASTCONNECT)\r\n\t\t// if (lastConnect === METAMASK) {\r\n\t\t// \tconst accounts = await window.ethereum.request({\r\n\t\t// \t\tmethod: 'eth_requestAccounts',\r\n\t\t// \t})\r\n\t\t// \taccount = accounts[0]\r\n\t\t// } else if (lastConnect === TOKENPOCKET) {\r\n\t\t// \tawait tp.getCurrentWallet().then((value) => {\r\n\t\t// \t\taccount = value.data.address\r\n\t\t// \t})\r\n\t\t// \tif (account.length === 0) {\r\n\t\t// \t\tawait tp.getWallet({ walletTypes: ['matic'], switch: false }).then((value) => {\r\n\t\t// \t\t\taccount = value.data.address\r\n\t\t// \t\t})\r\n\t\t// \t}\r\n\t\t// }\r\n\t\tvar account = null;\r\n\t\tvar value, accounts;\r\n\t\tconst lastConnect = localStorage.getItem(LASTCONNECT);\r\n\t\tswitch (lastConnect) {\r\n\t\tcase TOKENPOCKET:\r\n\t\t\tvalue = await tp.getCurrentWallet()\r\n\t\t\taccount = value.data.address;\r\n\t\t\tbreak;\r\n\t\tcase MATHWALLET:\r\n\t\t\tvalue = await mathwallet.getCurrentWallet()\r\n\t\t\taccount = value.address;\r\n\t\t\tbreak;\r\n\t\tcase METAMASK:\r\n\t\t\taccounts = await window.ethereum.request({ method: 'eth_requestAccounts' })\r\n\t\t\taccount = accounts[0];\r\n\t\t\tbreak;\r\n\t\tdefault:\r\n\t\t\t// accounts = await window.ethereum.request({ method: 'eth_requestAccounts' })\r\n\t\t\t// account = accounts[0];\r\n\t\t\tbreak;\r\n\t\t}\r\n\t\tif (account === null) {\r\n\t\t\talert('')\r\n\t\t\twindow.location.href = '/#/';\r\n\t\t\treturn;\r\n\t\t}\r\n\t\tthis.setState({ account: account })\r\n\t\t// const accounts = await window.ethereum.request({ method: 'eth_requestAccounts' })\r\n\t\t// const account = accounts[0]\r\n\t\tif (web3.utils.toChecksumAddress(account) !== owner) {\r\n\t\t\t// alert(\"nft\");\r\n\t\t\tmessage.warning({\r\n\t\t\t\tcontent: 'nft',\r\n\t\t\t\tclassName: 'custom-class',\r\n\t\t\t\tstyle: {\r\n\t\t\t\t\tmarginTop: '10vh',\r\n\t\t\t\t},\r\n\t\t\t})\r\n\t\t\twindow.location.href = '/#/'\r\n\t\t}\r\n\r\n\t\tconst token_addr = await contract.methods.getTokenAddrByNFTId(this.props.match.params.id).call()\r\n\t\tconst res = await contract.methods.getProfitByNFTId(this.props.match.params.id).call()\r\n\t\tif (token_addr == '0x0000000000000000000000000000000000000000') {\r\n\t\t\tlet price_with_decimal = res / 10 ** 18\r\n\t\t\tlet profit = price_with_decimal + ' MATIC'\r\n\r\n\t\t\tlet price_poster = price / 10 ** 18\r\n\t\t\tprice_poster = price_poster + 'MATIC'\r\n\t\t\tthis.setState({\r\n\t\t\t\tprice: price_poster,\r\n\t\t\t\ttokenAddr: '0x0000000000000000000000000000000000000000',\r\n\t\t\t\ttokenSymbol: 'MATIC',\r\n\t\t\t\tProfit: profit,\r\n\t\t\t})\r\n\t\t} else {\r\n\t\t\tconst token_contract = new web3.eth.Contract(abi, token_addr)\r\n\t\t\tconst token_symbol = await token_contract.methods.symbol().call()\r\n\t\t\tconst decimal = await token_contract.methods.decimals().call()\r\n\t\t\tlet price_with_decimal = res / 10 ** decimal\r\n\t\t\tlet price_poster = price / 10 ** decimal\r\n\t\t\tprice_poster = price_poster + ' ' + token_symbol\r\n\t\t\tlet profit = price_with_decimal + ` ${token_symbol}`\r\n\t\t\tthis.setState({\r\n\t\t\t\tprice: price_poster,\r\n\t\t\t\ttokenAddr: token_addr,\r\n\t\t\t\ttokenSymbol: token_symbol,\r\n\t\t\t\tProfit: profit,\r\n\t\t\t})\r\n\t\t}\r\n\t\tconst meta = await contract.methods.tokenURI(this.props.match.params.id).call()\r\n\t\t// https://coldcdn.com/api/cdn/v5ynur/ipfs/QmV7s3xrtwxfBa7VDcqHGFKcSjKdLZL7offiC31yM2NSqz\r\n\t\tlet hash = meta.split('/')\r\n\t\tconst issue = await contract.methods.getIssueIdByNFTId(this.props.match.params.id).call()\r\n\t\tconst royalty = await contract.methods.getRoyaltyFeeByIssueId(issue).call()\r\n\t\tlet file_hash = hash[hash.length - 1]\r\n\t\tlet request_url = 'https://coldcdn.com/api/cdn/v5ynur/ipfs/' + file_hash\r\n\r\n\t\ttry {\r\n\t\t\tconst res = await axios({\r\n\t\t\t\tmethod: 'get',\r\n\t\t\t\turl: request_url,\r\n\t\t\t\ttimeout: 1000 * 5,\r\n\t\t\t})\r\n\t\t\tlet data = res.data\r\n\t\t\tlet bouns = 0\r\n\t\t\tlet fileAddr = ''\r\n\t\t\tlet isEncrypt = false\r\n\t\t\tlet fileType = data.attributes[2].value\r\n\t\t\tlet encrypted = ''\r\n\r\n\t\t\tfor (let i = 0; i < data.attributes.length; i++) {\r\n\t\t\t\tif (data.attributes[i].trait_type === 'Bonuse Percentage') {\r\n\t\t\t\t\tbouns = data.attributes[i].value\r\n\t\t\t\t\tconsole.log(bouns)\r\n\t\t\t\t}\r\n\t\t\t\tif (data.attributes[i].trait_type === 'File Address') {\r\n\t\t\t\t\tfileAddr = data.attributes[i].value\r\n\t\t\t\t}\r\n\t\t\t\tif (data.attributes[i].trait_type === 'Encrypted') {\r\n\t\t\t\t\tif (data.attributes[i].value === 'FALSE') {\r\n\t\t\t\t\t\tisEncrypt = false\r\n\t\t\t\t\t\tencrypted = ''\r\n\t\t\t\t\t} else {\r\n\t\t\t\t\t\tisEncrypt = true\r\n\t\t\t\t\t\tencrypted = ''\r\n\t\t\t\t\t}\r\n\t\t\t\t}\r\n\t\t\t}\r\n\r\n\t\t\tthis.setState({\r\n\t\t\t\tName: data.name,\r\n\t\t\t\tDescription: data.description,\r\n\t\t\t\tBonusFee: royalty,\r\n\t\t\t\tCover: data.image,\r\n\t\t\t\tdataUrl: fileAddr,\r\n\t\t\t\tisEncrypt: isEncrypt,\r\n\t\t\t\tencrypted: encrypted,\r\n\t\t\t\tfileType: fileType,\r\n\t\t\t\tloadItem: false,\r\n\t\t\t})\r\n\t\t} catch (error) {\r\n\t\t\tthis.setState({ Name: 'SparkNFT' })\r\n\t\t\tthis.setState({ Description: 'nft' })\r\n\t\t\tthis.setState({ BonusFee: royalty })\r\n\t\t\tthis.setState({\r\n\t\t\t\tCover: 'https://via.placeholder.com/100x140.png?text=SparkNFT',\r\n\t\t\t})\r\n\t\t\tthis.setState({ dataUrl: 'fileAddr_PlaceHolder', loadItem: false })\r\n\t\t}\r\n\r\n\t\tconst leafUrl = backend + '/api/v1/nft/info?nft_id=' + this.props.match.params.id\r\n\t\taxios\r\n\t\t\t.get(leafUrl)\r\n\t\t\t.then((res) => {\r\n\t\t\t\tlet children_num = res.data.children_count\r\n\t\t\t\tthis.setState({\r\n\t\t\t\t\tchildrenNum: children_num,\r\n\t\t\t\t})\r\n\t\t\t})\r\n\t\t\t.catch((error) => {\r\n\t\t\t\tif (error.response === undefined) {\r\n\t\t\t\t\tmessage.error({\r\n\t\t\t\t\t\tcontent: '',\r\n\t\t\t\t\t\tclassName: 'custom-class',\r\n\t\t\t\t\t\tstyle: {\r\n\t\t\t\t\t\t\tmarginTop: '10vh',\r\n\t\t\t\t\t\t},\r\n\t\t\t\t\t})\r\n\t\t\t\t\treturn\r\n\t\t\t\t}\r\n\t\t\t\tif (error.response.status === 400 && error.response.data.message.includes('children not found')) {\r\n\t\t\t\t\tconsole.debug('no children')\r\n\t\t\t\t} else {\r\n\t\t\t\t\tmessage.error({\r\n\t\t\t\t\t\tcontent: `nft ${error}`,\r\n\t\t\t\t\t\tclassName: 'custom-class',\r\n\t\t\t\t\t\tstyle: {\r\n\t\t\t\t\t\t\tmarginTop: '10vh',\r\n\t\t\t\t\t\t},\r\n\t\t\t\t\t})\r\n\t\t\t\t}\r\n\t\t\t})\r\n\t}\r\n\r\n\treturn = async () => {\r\n\t\twindow.location.reload(true)\r\n\t}\r\n\r\n\tclaim = async () => {\r\n\t\tthis.setState({\r\n\t\t\tloading: true,\r\n\t\t})\r\n\t\tlet gasPrice = await web3.eth.getGasPrice()\r\n\t\tlet new_gas_price = Math.floor(parseInt(gasPrice) * 1.5).toString()\r\n\t\ttry {\r\n\t\t\tawait contract.methods.claimProfit(this.props.match.params.id).send({\r\n\t\t\t\tfrom: this.state.account,\r\n\t\t\t\tgasPrice: new_gas_price,\r\n\t\t\t})\r\n\t\t} catch (error) {\r\n\t\t\tmessage.error({\r\n\t\t\t\tcontent: `Error: ${error}`,\r\n\t\t\t\tclassName: 'custom-class',\r\n\t\t\t\tstyle: {\r\n\t\t\t\t\tmarginTop: '10vh',\r\n\t\t\t\t},\r\n\t\t\t})\r\n\t\t} finally {\r\n\t\t\tthis.setState({\r\n\t\t\t\tloading: false,\r\n\t\t\t})\r\n\t\t}\r\n\t}\r\n\r\n\tdownloadIPFS = async () => {\r\n\t\tlet obj = this\r\n\t\tlet dataSplits = this.state.dataUrl.split('/')\r\n\t\tlet dataHash = dataSplits[dataSplits.length - 1]\r\n\t\tlet dataUrl = gateway + dataHash\r\n\t\tthis.setState({\r\n\t\t\tshowProgress: true,\r\n\t\t})\r\n\t\tif (this.state.isEncrypt) {\r\n\t\t\tlet cipher_config = {\r\n\t\t\t\tmethod: 'get',\r\n\t\t\t\turl: dataUrl,\r\n\t\t\t\tonDownloadProgress(progress) {\r\n\t\t\t\t\tlet percentage = Math.round((progress.loaded / progress.total) * 100)\r\n\t\t\t\t\tobj.setState({\r\n\t\t\t\t\t\tpercentage: percentage,\r\n\t\t\t\t\t})\r\n\t\t\t\t},\r\n\t\t\t}\r\n\r\n\t\t\tconst response = await axios(cipher_config)\r\n\t\t\tlet ciphertext = response.data\r\n\t\t\t//TODOaccount\r\n\t\t\tlet accounts = await await window.ethereum.request({\r\n\t\t\t\tmethod: 'eth_requestAccounts',\r\n\t\t\t})\r\n\t\t\tlet account = accounts[0]\r\n\t\t\t// let signJSON = {\r\n\t\t\t// \taccount: account,\r\n\t\t\t// \troot_nft_id: this.props.match.params.id,\r\n\t\t\t// }\r\n\t\t\t// signJSON = JSON.stringify(signJSON)\r\n\t\t\tthis.setState({\r\n\t\t\t\tshowProgress: false,\r\n\t\t\t})\r\n\t\t\tawait this.signDataAndDecrypt(account, ciphertext)\r\n\t\t} else {\r\n\t\t\tlet open_config = {\r\n\t\t\t\turl: dataUrl, //your url\r\n\t\t\t\tmethod: 'GET',\r\n\t\t\t\tresponseType: 'blob', // important\r\n\t\t\t\tonDownloadProgress(progress) {\r\n\t\t\t\t\tlet percentage = Math.round((progress.loaded / progress.total) * 100)\r\n\t\t\t\t\tobj.setState({\r\n\t\t\t\t\t\tpercentage: percentage,\r\n\t\t\t\t\t})\r\n\t\t\t\t},\r\n\t\t\t}\r\n\t\t\ttry {\r\n\t\t\t\tconst response = await axios(open_config)\r\n\t\t\t\tconst url = window.URL.createObjectURL(new Blob([response.data]))\r\n\t\t\t\tconst link = document.createElement('a')\r\n\t\t\t\tlink.href = url\r\n\t\t\t\tlink.style.display = 'none'\r\n\t\t\t\tlet suffix = '.' + obj.state.fileType\r\n\t\t\t\tlet fileName = this.state.Name + suffix\r\n\t\t\t\tlink.download = fileName\r\n\t\t\t\tdocument.body.appendChild(link)\r\n\t\t\t\tlink.click()\r\n\t\t\t\tdocument.body.removeChild(link)\r\n\t\t\t\tURL.revokeObjectURL(url)\r\n\t\t\t} catch (error) {\r\n\t\t\t\tmessage.error({\r\n\t\t\t\t\tcontent: `Error: ${error}`,\r\n\t\t\t\t\tclassName: 'custom-class',\r\n\t\t\t\t\tstyle: {\r\n\t\t\t\t\t\tmarginTop: '10vh',\r\n\t\t\t\t\t},\r\n\t\t\t\t})\r\n\t\t\t} finally {\r\n\t\t\t\tthis.setState({ showProgress: false })\r\n\t\t\t}\r\n\t\t}\r\n\t}\r\n\r\n\tsignDataAndDecrypt = async (signer, ciphertext) => {\r\n\t\tlet JSONBody = {\r\n\t\t\taccount: signer,\r\n\t\t\tnft_id: this.props.match.params.id,\r\n\t\t}\r\n\t\tlet json_str = JSON.stringify(JSONBody)\r\n\t\tconst sig = await web3.eth.personal.sign(json_str, signer)\r\n\r\n\t\tthis.setState({\r\n\t\t\tshowDecryptProgress: true,\r\n\t\t})\r\n\r\n\t\tlet payload = {\r\n\t\t\taccount: signer,\r\n\t\t\tnft_id: this.props.match.params.id,\r\n\t\t\tsignature: sig,\r\n\t\t}\r\n\t\tlet payload_str = JSON.stringify(payload)\r\n\t\tlet req_key_url = backend + '/api/v1/key/claim'\r\n\t\ttry {\r\n\t\t\tconst res = await axios.post(req_key_url, payload_str, {\r\n\t\t\t\theaders: {\r\n\t\t\t\t\t'Content-Type': 'application/json',\r\n\t\t\t\t},\r\n\t\t\t})\r\n\r\n\t\t\tif (res.status == 200) {\r\n\t\t\t\tlet key = res.data.key\r\n\t\t\t\tlet data = CryptoJS.AES.decrypt(ciphertext, key)\r\n\t\t\t\tlet plainText = data.toString(CryptoJS.enc.Utf8)\r\n\t\t\t\tconst wordArray = CryptoJS.enc.Hex.parse(plainText)\r\n\t\t\t\tlet BaText = this.wordArrayToByteArray(wordArray, wordArray.length)\r\n\t\t\t\tlet blob = new Blob([BaText])\r\n\t\t\t\tlet suffix = '.' + this.state.fileType\r\n\t\t\t\tFileSaver.saveAs(blob, this.state.Name + suffix)\r\n\t\t\t} else {\r\n\t\t\t\tlet error_msg = res.data.message\r\n\t\t\t\tmessage.error({\r\n\t\t\t\t\tcontent: `Error: ${error_msg}`,\r\n\t\t\t\t\tclassName: 'custom-class',\r\n\t\t\t\t\tstyle: {\r\n\t\t\t\t\t\tmarginTop: '10vh',\r\n\t\t\t\t\t},\r\n\t\t\t\t})\r\n\t\t\t}\r\n\t\t} catch (error) {\r\n\t\t\tmessage.error({\r\n\t\t\t\tcontent: `Error: ${error}`,\r\n\t\t\t\tclassName: 'custom-class',\r\n\t\t\t\tstyle: {\r\n\t\t\t\t\tmarginTop: '10vh',\r\n\t\t\t\t},\r\n\t\t\t})\r\n\t\t}\r\n\t}\r\n\r\n\twordToByteArray = (result, word, length) => {\r\n\t\tconst lengthBefore = result.length\r\n\t\tconst xff = 0xff\r\n\t\tif (length > 0) result.push(word >>> 24)\r\n\t\tif (length > 1) result.push((word >>> 16) & xff)\r\n\t\tif (length > 2) result.push((word >>> 8) & xff)\r\n\t\tif (length > 3) result.push(word & xff)\r\n\r\n\t\tlet info = {\r\n\t\t\tresult: result,\r\n\t\t\taddedLength: result.length - lengthBefore,\r\n\t\t}\r\n\t\treturn info\r\n\t}\r\n\r\n\twordArrayToByteArray = (wordArray, length) => {\r\n\t\tconsole.debug('enter in wordArrayToByte')\r\n\t\tif (\r\n\t\t\tObject.prototype.hasOwnProperty.call(wordArray, 'sigBytes') &&\r\n\t\t\tObject.prototype.hasOwnProperty.call(wordArray, 'words')\r\n\t\t) {\r\n\t\t\tlength = wordArray.sigBytes\r\n\t\t\twordArray = wordArray.words\r\n\t\t}\r\n\r\n\t\tlet result = [],\r\n\t\t\tbytesAdded,\r\n\t\t\tcurrent_bytes = 0,\r\n\t\t\tlengthBefore = length,\r\n\t\t\ti = 0\r\n\t\twhile (length > 0) {\r\n\t\t\tlet added_info = this.wordToByteArray(result, wordArray[i], Math.min(4, length))\r\n\t\t\tresult = added_info.result\r\n\t\t\tbytesAdded = added_info.addedLength\r\n\t\t\tcurrent_bytes = current_bytes + bytesAdded\r\n\t\t\tlet percent = Math.round((current_bytes / lengthBefore) * 100)\r\n\t\t\tif (percent !== this.state.decryptPercentage) {\r\n\t\t\t\tthis.setState({\r\n\t\t\t\t\tdecryptPercentage: percent,\r\n\t\t\t\t})\r\n\t\t\t}\r\n\t\t\tlength -= bytesAdded\r\n\t\t\ti++\r\n\t\t}\r\n\r\n\t\treturn new Uint8Array(result)\r\n\t}\r\n\r\n\tspark = () => {\r\n\t\tconst flag = this.state.spark\r\n\t\tthis.setState({ spark: !flag })\r\n\t}\r\n\r\n\tdownloadPoster = (res) => {\r\n\t\tconsole.log(res)\r\n\t}\r\n\trender() {\r\n\t\tconst { classes } = this.props\r\n\t\tconst sell_info = () => {\r\n\t\t\tlet url = window.location.host\r\n\t\t\tlet toUrl = 'https://' + url + '/#/NFT/Spark/' + this.props.match.params.id\r\n\t\t\t// let share = '' + toUrl\r\n\t\t\t// this.state.onSale\r\n\t\t\tif (this.state.spark) {\r\n\t\t\t\tconst coverRef = document.getElementById('cover')\r\n\t\t\t\tconst coverHeight = coverRef.height\r\n\t\t\t\tconst coverWidth = coverRef.width\r\n\t\t\t\treturn (\r\n\t\t\t\t\t<div>\r\n\t\t\t\t\t\t{this.state.spark ? (\r\n\t\t\t\t\t\t\t<MaskLayer onClose={this.spark}>\r\n\t\t\t\t\t\t\t\t<Poster\r\n\t\t\t\t\t\t\t\t\tstr={this.state.price}\r\n\t\t\t\t\t\t\t\t\tshare={toUrl}\r\n\t\t\t\t\t\t\t\t\tcoverImg={coverRef}\r\n\t\t\t\t\t\t\t\t\tcoverWidth={coverWidth}\r\n\t\t\t\t\t\t\t\t\tcoverHeight={coverHeight}\r\n\t\t\t\t\t\t\t\t/>\r\n\t\t\t\t\t\t\t</MaskLayer>\r\n\t\t\t\t\t\t) : null}\r\n\t\t\t\t\t</div>\r\n\t\t\t\t)\r\n\t\t\t}\r\n\t\t}\r\n\r\n\t\tif (this.state.showDecryptProgress) {\r\n\t\t\treturn (\r\n\t\t\t\t<Spin spinning={this.state.loading} size=\"large\">\r\n\t\t\t\t\t<ThemeProvider theme={theme}>\r\n\t\t\t\t\t\t<TopBar />\r\n\t\t\t\t\t\t<div style={{ textAlign: 'center', marginTop: '2%', marginLeft: 40 }}>\r\n\t\t\t\t\t\t\t<Typography color=\"textPrimary\" gutterBottom style={{ marginRight: 50, marginTop: 20, fontSize: 24 }}>\r\n\t\t\t\t\t\t\t\t<b></b>\r\n\t\t\t\t\t\t\t</Typography>\r\n\t\t\t\t\t\t</div>\r\n\t\t\t\t\t\t<div style={{ textAlign: 'center', marginTop: '10%' }}>\r\n\t\t\t\t\t\t\t<Progress type=\"circle\" percent={this.state.decryptPercentage} width={200} />\r\n\t\t\t\t\t\t</div>\r\n\t\t\t\t\t\t<div style={{ textAlign: 'center' }}>\r\n\t\t\t\t\t\t\t<Button\r\n\t\t\t\t\t\t\t\tvariant=\"contained\"\r\n\t\t\t\t\t\t\t\tclassName={classes.button}\r\n\t\t\t\t\t\t\t\tstyle={{\r\n\t\t\t\t\t\t\t\t\tmarginTop: 50,\r\n\t\t\t\t\t\t\t\t\twidth: 200,\r\n\t\t\t\t\t\t\t\t\theight: 50,\r\n\t\t\t\t\t\t\t\t\tmarginBottom: 50,\r\n\t\t\t\t\t\t\t\t}}\r\n\t\t\t\t\t\t\t\tonClick={this.return}\r\n\t\t\t\t\t\t\t>\r\n\t\t\t\t\t\t\t\t\r\n\t\t\t\t\t\t\t</Button>\r\n\t\t\t\t\t\t</div>\r\n\t\t\t\t\t</ThemeProvider>\r\n\t\t\t\t</Spin>\r\n\t\t\t)\r\n\t\t} else if (this.state.showProgress) {\r\n\t\t\treturn (\r\n\t\t\t\t<Spin spinning={this.state.loading} size=\"large\">\r\n\t\t\t\t\t<ThemeProvider theme={theme}>\r\n\t\t\t\t\t\t<TopBar />\r\n\t\t\t\t\t\t<div style={{ textAlign: 'center', marginTop: '2%', marginLeft: 40 }}>\r\n\t\t\t\t\t\t\t<Typography color=\"textPrimary\" gutterBottom style={{ marginRight: 50, marginTop: 20, fontSize: 24 }}>\r\n\t\t\t\t\t\t\t\t<b></b>\r\n\t\t\t\t\t\t\t</Typography>\r\n\t\t\t\t\t\t</div>\r\n\t\t\t\t\t\t<div style={{ textAlign: 'center', marginTop: '10%' }}>\r\n\t\t\t\t\t\t\t<Progress type=\"circle\" percent={this.state.percentage} width={200} />\r\n\t\t\t\t\t\t</div>\r\n\t\t\t\t\t</ThemeProvider>\r\n\t\t\t\t</Spin>\r\n\t\t\t)\r\n\t\t} else {\r\n\t\t\treturn (\r\n\t\t\t\t<Spin spinning={this.state.loading} size=\"large\">\r\n\t\t\t\t\t<ThemeProvider theme={theme}>\r\n\t\t\t\t\t\t<TopBar />\r\n\t\t\t\t\t\t<Container component=\"main\" className={classes.container}>\r\n\t\t\t\t\t\t\t<Button\r\n\t\t\t\t\t\t\t\tstartIcon={<ArrowLeftOutlined style={{ fontSize: '2rem' }} />}\r\n\t\t\t\t\t\t\t\thref=\"/#/collections\"\r\n\t\t\t\t\t\t\t\tstyle={{ marginTop: 20, marginBottom: 10, fontSize: '2rem' }}\r\n\t\t\t\t\t\t\t>\r\n\t\t\t\t\t\t\t\t\r\n\t\t\t\t\t\t\t</Button>\r\n\t\t\t\t\t\t\t<Grid container direction=\"row\" justifyContent=\"center\" alignContent=\"flex-start\">\r\n\t\t\t\t\t\t\t\t<Grid container direction=\"row\" className={classes.cbutton}>\r\n\t\t\t\t\t\t\t\t\t<Grid item>\r\n\t\t\t\t\t\t\t\t\t\t<Typography\r\n\t\t\t\t\t\t\t\t\t\t\tcolor=\"textPrimary\"\r\n\t\t\t\t\t\t\t\t\t\t\tgutterBottom\r\n\t\t\t\t\t\t\t\t\t\t\tstyle={{ marginRight: 50, marginTop: 20, fontSize: 14 }}\r\n\t\t\t\t\t\t\t\t\t\t>\r\n\t\t\t\t\t\t\t\t\t\t\t<b>: {this.state.Profit}</b>\r\n\t\t\t\t\t\t\t\t\t\t</Typography>\r\n\t\t\t\t\t\t\t\t\t</Grid>\r\n\r\n\t\t\t\t\t\t\t\t\t<Grid item>\r\n\t\t\t\t\t\t\t\t\t\t<Button\r\n\t\t\t\t\t\t\t\t\t\t\tstyle={{\r\n\t\t\t\t\t\t\t\t\t\t\t\tmarginTop: 10,\r\n\t\t\t\t\t\t\t\t\t\t\t\tmarginRight: 30,\r\n\t\t\t\t\t\t\t\t\t\t\t\tmarginBottom: 20,\r\n\t\t\t\t\t\t\t\t\t\t\t}}\r\n\t\t\t\t\t\t\t\t\t\t\tsize=\"large\"\r\n\t\t\t\t\t\t\t\t\t\t\tvariant=\"contained\"\r\n\t\t\t\t\t\t\t\t\t\t\tcolor=\"primary\"\r\n\t\t\t\t\t\t\t\t\t\t\tclassName={classes.btnMain}\r\n\t\t\t\t\t\t\t\t\t\t\tstartIcon={<MoneyCollectOutlined />}\r\n\t\t\t\t\t\t\t\t\t\t\tonClick={this.claim}\r\n\t\t\t\t\t\t\t\t\t\t>\r\n\t\t\t\t\t\t\t\t\t\t\t<Typography id=\"isSpark\" variant=\"button\" component=\"h3\" gutterBottom>\r\n\t\t\t\t\t\t\t\t\t\t\t\t<font size=\"3\" color=\"white\">\r\n\t\t\t\t\t\t\t\t\t\t\t\t\t\r\n\t\t\t\t\t\t\t\t\t\t\t\t</font>\r\n\t\t\t\t\t\t\t\t\t\t\t</Typography>\r\n\t\t\t\t\t\t\t\t\t\t</Button>\r\n\t\t\t\t\t\t\t\t\t</Grid>\r\n\r\n\t\t\t\t\t\t\t\t\t<Grid item>\r\n\t\t\t\t\t\t\t\t\t\t<Button\r\n\t\t\t\t\t\t\t\t\t\t\tstyle={{ marginTop: 10, marginBottom: 20 }}\r\n\t\t\t\t\t\t\t\t\t\t\tsize=\"large\"\r\n\t\t\t\t\t\t\t\t\t\t\tvariant=\"outlined\"\r\n\t\t\t\t\t\t\t\t\t\t\tcolor=\"secondary\"\r\n\t\t\t\t\t\t\t\t\t\t\tclassName={classes.btnSecond}\r\n\t\t\t\t\t\t\t\t\t\t\tstartIcon={<DollarCircleOutlined />}\r\n\t\t\t\t\t\t\t\t\t\t\thref={'/#/sellSingle/' + this.props.match.params.id}\r\n\t\t\t\t\t\t\t\t\t\t>\r\n\t\t\t\t\t\t\t\t\t\t\t<Typography variant=\"button\" component=\"h2\" gutterBottom>\r\n\t\t\t\t\t\t\t\t\t\t\t\t<font size=\"3\"></font>\r\n\t\t\t\t\t\t\t\t\t\t\t</Typography>\r\n\t\t\t\t\t\t\t\t\t\t</Button>\r\n\t\t\t\t\t\t\t\t\t</Grid>\r\n\t\t\t\t\t\t\t\t</Grid>\r\n\t\t\t\t\t\t\t</Grid>\r\n\r\n\t\t\t\t\t\t\t<div className={classes.paper}>\r\n\t\t\t\t\t\t\t\t{this.state.loadItem ? (\r\n\t\t\t\t\t\t\t\t\t<Grid container className={classes.content} spacing={5}>\r\n\t\t\t\t\t\t\t\t\t\t<Grid item xs={4}>\r\n\t\t\t\t\t\t\t\t\t\t\t<Skeleton\r\n\t\t\t\t\t\t\t\t\t\t\t\tvariant=\"rect\"\r\n\t\t\t\t\t\t\t\t\t\t\t\twidth={300}\r\n\t\t\t\t\t\t\t\t\t\t\t\theight={500}\r\n\t\t\t\t\t\t\t\t\t\t\t\tstyle={{ width: 370, marginLeft: 50, marginBottom: 50 }}\r\n\t\t\t\t\t\t\t\t\t\t\t/>\r\n\t\t\t\t\t\t\t\t\t\t</Grid>\r\n\r\n\t\t\t\t\t\t\t\t\t\t<Grid item xs style={{ marginLeft: '5%' }}>\r\n\t\t\t\t\t\t\t\t\t\t\t<Skeleton animation=\"wave\" variant=\"text\" width={200} height={30} />\r\n\t\t\t\t\t\t\t\t\t\t\t<Skeleton animation=\"wave\" variant=\"text\" width={400} height={70} />\r\n\t\t\t\t\t\t\t\t\t\t\t<Skeleton animation=\"wave\" variant=\"rect\" width={500} height={300} style={{ marginBottom: 50 }} />\r\n\t\t\t\t\t\t\t\t\t\t</Grid>\r\n\t\t\t\t\t\t\t\t\t</Grid>\r\n\t\t\t\t\t\t\t\t) : (\r\n\t\t\t\t\t\t\t\t\t<Grid\r\n\t\t\t\t\t\t\t\t\t\tcontainer\r\n\t\t\t\t\t\t\t\t\t\tdirection=\"row\"\r\n\t\t\t\t\t\t\t\t\t\tjustifyContent=\"space-between\"\r\n\t\t\t\t\t\t\t\t\t\tspacing={5}\r\n\t\t\t\t\t\t\t\t\t\tclassName={classes.content}\r\n\t\t\t\t\t\t\t\t\t>\r\n\t\t\t\t\t\t\t\t\t\t<Grid style={{ maxWidth: 200 }}>\r\n\t\t\t\t\t\t\t\t\t\t\t<Paper className={classes.imagePapaer}>\r\n\t\t\t\t\t\t\t\t\t\t\t\t<img className={classes.imageStyle} src={this.state.Cover} id=\"cover\"></img>\r\n\t\t\t\t\t\t\t\t\t\t\t</Paper>\r\n\t\t\t\t\t\t\t\t\t\t</Grid>\r\n\r\n\t\t\t\t\t\t\t\t\t\t<Grid item xs={2}></Grid>\r\n\r\n\t\t\t\t\t\t\t\t\t\t<Grid item className={classes.content2}>\r\n\t\t\t\t\t\t\t\t\t\t\t<Typography\r\n\t\t\t\t\t\t\t\t\t\t\t\tcolor=\"inherit\"\r\n\t\t\t\t\t\t\t\t\t\t\t\talign=\"left\"\r\n\t\t\t\t\t\t\t\t\t\t\t\t// eslint-disable-next-line react/jsx-no-duplicate-props\r\n\t\t\t\t\t\t\t\t\t\t\t\tcolor=\"textSecondary\"\r\n\t\t\t\t\t\t\t\t\t\t\t\tnoWrap\r\n\t\t\t\t\t\t\t\t\t\t\t\tstyle={{\r\n\t\t\t\t\t\t\t\t\t\t\t\t\tfontFamily: 'Teko',\r\n\t\t\t\t\t\t\t\t\t\t\t\t\tfontSize: 16,\r\n\t\t\t\t\t\t\t\t\t\t\t\t\tmarginTop: '2%',\r\n\t\t\t\t\t\t\t\t\t\t\t\t}}\r\n\t\t\t\t\t\t\t\t\t\t\t>\r\n\t\t\t\t\t\t\t\t\t\t\t\t#{this.props.match.params.id}\r\n\t\t\t\t\t\t\t\t\t\t\t</Typography>\r\n\t\t\t\t\t\t\t\t\t\t\t<Typography\r\n\t\t\t\t\t\t\t\t\t\t\t\tcolor=\"inherit\"\r\n\t\t\t\t\t\t\t\t\t\t\t\talign=\"left\"\r\n\t\t\t\t\t\t\t\t\t\t\t\tnoWrap\r\n\t\t\t\t\t\t\t\t\t\t\t\tstyle={{\r\n\t\t\t\t\t\t\t\t\t\t\t\t\tfontFamily: 'Teko',\r\n\t\t\t\t\t\t\t\t\t\t\t\t\tfontSize: 34,\r\n\t\t\t\t\t\t\t\t\t\t\t\t\tmarginTop: '2%',\r\n\t\t\t\t\t\t\t\t\t\t\t\t}}\r\n\t\t\t\t\t\t\t\t\t\t\t>\r\n\t\t\t\t\t\t\t\t\t\t\t\t<b>{this.state.Name}</b>\r\n\t\t\t\t\t\t\t\t\t\t\t</Typography>\r\n\t\t\t\t\t\t\t\t\t\t\t<Typography\r\n\t\t\t\t\t\t\t\t\t\t\t\talign=\"justify\"\r\n\t\t\t\t\t\t\t\t\t\t\t\tcolor=\"textSecondary\"\r\n\t\t\t\t\t\t\t\t\t\t\t\tparagraph\r\n\t\t\t\t\t\t\t\t\t\t\t\tstyle={{\r\n\t\t\t\t\t\t\t\t\t\t\t\t\tmarginTop: '2%',\r\n\t\t\t\t\t\t\t\t\t\t\t\t\tmaxWidth: '100%',\r\n\t\t\t\t\t\t\t\t\t\t\t\t\tfontSize: 16,\r\n\t\t\t\t\t\t\t\t\t\t\t\t}}\r\n\t\t\t\t\t\t\t\t\t\t\t>\r\n\t\t\t\t\t\t\t\t\t\t\t\t{this.state.Description}\r\n\t\t\t\t\t\t\t\t\t\t\t</Typography>\r\n\t\t\t\t\t\t\t\t\t\t\t<Typography\r\n\t\t\t\t\t\t\t\t\t\t\t\talign=\"left\"\r\n\t\t\t\t\t\t\t\t\t\t\t\tcolor=\"textPrimary\"\r\n\t\t\t\t\t\t\t\t\t\t\t\tparagraph\r\n\t\t\t\t\t\t\t\t\t\t\t\tstyle={{\r\n\t\t\t\t\t\t\t\t\t\t\t\t\tmarginTop: '6%',\r\n\t\t\t\t\t\t\t\t\t\t\t\t\tmaxWidth: '100%',\r\n\t\t\t\t\t\t\t\t\t\t\t\t\tfontSize: 24,\r\n\t\t\t\t\t\t\t\t\t\t\t\t}}\r\n\t\t\t\t\t\t\t\t\t\t\t>\r\n\t\t\t\t\t\t\t\t\t\t\t\t: {this.state.BonusFee} %\r\n\t\t\t\t\t\t\t\t\t\t\t</Typography>\r\n\t\t\t\t\t\t\t\t\t\t\t<Typography align=\"left\" color=\"textPrimary\" paragraph style={{ maxWidth: '65%', fontSize: 12 }}>\r\n\t\t\t\t\t\t\t\t\t\t\t\t: {this.state.childrenNum}\r\n\t\t\t\t\t\t\t\t\t\t\t</Typography>\r\n\t\t\t\t\t\t\t\t\t\t\t<Typography align=\"left\" color=\"textPrimary\" paragraph style={{ maxWidth: '65%', fontSize: 12 }}>\r\n\t\t\t\t\t\t\t\t\t\t\t\tNFT: {this.state.encrypted}\r\n\t\t\t\t\t\t\t\t\t\t\t</Typography>\r\n\r\n\t\t\t\t\t\t\t\t\t\t\t<Grid container direction=\"row\" className={classes.cbutton2}>\r\n\t\t\t\t\t\t\t\t\t\t\t\t<Grid item>\r\n\t\t\t\t\t\t\t\t\t\t\t\t\t<Button\r\n\t\t\t\t\t\t\t\t\t\t\t\t\t\tsize=\"small\"\r\n\t\t\t\t\t\t\t\t\t\t\t\t\t\tvariant=\"contained\"\r\n\t\t\t\t\t\t\t\t\t\t\t\t\t\tcolor=\"primary\"\r\n\t\t\t\t\t\t\t\t\t\t\t\t\t\ttarget=\"_blank\"\r\n\t\t\t\t\t\t\t\t\t\t\t\t\t\tclassName={classes.btnMain}\r\n\t\t\t\t\t\t\t\t\t\t\t\t\t\tstartIcon={<DownloadOutlined />}\r\n\t\t\t\t\t\t\t\t\t\t\t\t\t\tonClick={this.downloadIPFS}\r\n\t\t\t\t\t\t\t\t\t\t\t\t\t>\r\n\t\t\t\t\t\t\t\t\t\t\t\t\t\t<font size=\"3\" color=\"white\">\r\n\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t\r\n\t\t\t\t\t\t\t\t\t\t\t\t\t\t</font>\r\n\t\t\t\t\t\t\t\t\t\t\t\t\t</Button>\r\n\t\t\t\t\t\t\t\t\t\t\t\t</Grid>\r\n\r\n\t\t\t\t\t\t\t\t\t\t\t\t<Grid>\r\n\t\t\t\t\t\t\t\t\t\t\t\t\t<Button\r\n\t\t\t\t\t\t\t\t\t\t\t\t\t\tsize=\"small\"\r\n\t\t\t\t\t\t\t\t\t\t\t\t\t\tvariant=\"outlined\"\r\n\t\t\t\t\t\t\t\t\t\t\t\t\t\tcolor=\"secondary\"\r\n\t\t\t\t\t\t\t\t\t\t\t\t\t\ttarget=\"_blank\"\r\n\t\t\t\t\t\t\t\t\t\t\t\t\t\tclassName={classes.btnSecond}\r\n\t\t\t\t\t\t\t\t\t\t\t\t\t\tstartIcon={<FireOutlined />}\r\n\t\t\t\t\t\t\t\t\t\t\t\t\t\tonClick={this.spark}\r\n\t\t\t\t\t\t\t\t\t\t\t\t\t>\r\n\t\t\t\t\t\t\t\t\t\t\t\t\t\t<font size=\"3\"></font>\r\n\t\t\t\t\t\t\t\t\t\t\t\t\t</Button>\r\n\t\t\t\t\t\t\t\t\t\t\t\t</Grid>\r\n\t\t\t\t\t\t\t\t\t\t\t</Grid>\r\n\t\t\t\t\t\t\t\t\t\t</Grid>\r\n\t\t\t\t\t\t\t\t\t</Grid>\r\n\t\t\t\t\t\t\t\t)}\r\n\t\t\t\t\t\t\t</div>\r\n\r\n\t\t\t\t\t\t\t{sell_info()}\r\n\t\t\t\t\t\t</Container>\r\n\t\t\t\t\t</ThemeProvider>\r\n\t\t\t\t</Spin>\r\n\t\t\t)\r\n\t\t}\r\n\t}\r\n}\r\nexport default withStyles(styles, { withTheme: true })(NFTInfo)\r\n//todo \r\n//account\r\n","import React, { Component } from 'react'\r\nimport '../App.css'\r\nimport { Button, Grid } from '@material-ui/core'\r\nimport { createTheme, ThemeProvider, withStyles } from '@material-ui/core/styles'\r\nimport TopBar from '../components/TopBar'\r\nimport { Dialog, DialogActions, DialogContent, DialogContentText, DialogTitle, IconButton } from '@material-ui/core'\r\nimport { Typography, Paper, Container } from '@material-ui/core'\r\nimport axios from 'axios'\r\nimport { DollarCircleOutlined, ArrowLeftOutlined, CopyOutlined } from '@ant-design/icons'\r\nimport { Spin, message } from 'antd'\r\nimport { Input, InputNumber } from 'antd'\r\nimport { CopyToClipboard } from 'react-copy-to-clipboard'\r\nimport contract from '../utils/contract'\r\nimport web3 from '../utils/web3'\r\nimport Skeleton from '@material-ui/lab/Skeleton'\r\nimport config from '../global/config'\r\nconst { gateway, backend } = config\r\nconst abi = require('erc-20-abi')\r\nconst theme = createTheme({\r\n\tpalette: {\r\n\t\tprimary: {\r\n\t\t\tmain: '#2196f3',\r\n\t\t},\r\n\t\tsecondary: {\r\n\t\t\tmain: '#FDFEFE',\r\n\t\t},\r\n\t},\r\n})\r\n\r\nconst styles = (theme) => ({\r\n\tcontainer: {\r\n\t\tmaxWidth: 1500,\r\n\t},\r\n\tpaper: {\r\n\t\tmarginTop: theme.spacing(1),\r\n\t\ttextAlign: 'center',\r\n\t\tmaxWidth: 1500,\r\n\t},\r\n\tbtnSell: {\r\n\t\tmargin: theme.spacing(1),\r\n\t\tfontSize: 16,\r\n\t\tborderRadius: 10,\r\n\t\tborderWidth: 2,\r\n\t\tborderColor: '#2196f3',\r\n\t\tcolor: '#2196f3',\r\n\t\tmarginLeft: '10%',\r\n\t\twidth: 100,\r\n\t},\r\n\tcontent: {\r\n\t\tfontFamily: 'Teko',\r\n\t\t[theme.breakpoints.between('xs', 'sm')]: {\r\n\t\t\tjustifyContent: 'flex-start',\r\n\t\t\talignItems: 'flex-start',\r\n\t\t},\r\n\t\t[theme.breakpoints.between('sm', 'md')]: {\r\n\t\t\tjustifyContent: 'flex-start',\r\n\t\t\talignItems: 'flex-start',\r\n\t\t},\r\n\t\t[theme.breakpoints.between('md', 'lg')]: {\r\n\t\t\tjustifyContent: 'flex-start',\r\n\t\t\talignItems: 'flex-start',\r\n\t\t},\r\n\t\t[theme.breakpoints.between('lg', 'xl')]: {\r\n\t\t\tjustifyContent: 'center',\r\n\t\t\talignItems: 'flex-start',\r\n\t\t},\r\n\t\t[theme.breakpoints.up('xl')]: {\r\n\t\t\tjustifyContent: 'center',\r\n\t\t\talignItems: 'flex-start',\r\n\t\t},\r\n\t},\r\n\timg: {\r\n\t\twidth: 300,\r\n\t\tmarginBottom: 50,\r\n\t\t[theme.breakpoints.between('xs', 'sm')]: {\r\n\t\t\tmarginLeft: '20%',\r\n\t\t},\r\n\t\t[theme.breakpoints.between('sm', 'md')]: {\r\n\t\t\tmarginLeft: '20%',\r\n\t\t},\r\n\t\t[theme.breakpoints.between('md', 'lg')]: {\r\n\t\t\tmarginLeft: '20%',\r\n\t\t},\r\n\t\t[theme.breakpoints.between('lg', 'xl')]: {\r\n\t\t\tmarginLeft: '30%',\r\n\t\t},\r\n\t\t[theme.breakpoints.up('xl')]: {\r\n\t\t\tmarginLeft: '40%',\r\n\t\t},\r\n\t},\r\n\tcontent2: {\r\n\t\tfontFamily: 'Teko',\r\n\t\ttextAlign: 'center',\r\n\t\t[theme.breakpoints.between('xs', 'sm')]: {\r\n\t\t\tmaxWidth: 500,\r\n\t\t},\r\n\t\t[theme.breakpoints.between('sm', 'md')]: {\r\n\t\t\tmarginLeft: 90,\r\n\t\t\tmaxWidth: 500,\r\n\t\t},\r\n\t\t[theme.breakpoints.between('md', 'lg')]: {\r\n\t\t\tmarginLeft: 80,\r\n\t\t\tmaxWidth: 500,\r\n\t\t},\r\n\t\t[theme.breakpoints.between('lg', 'xl')]: {\r\n\t\t\tmarginLeft: 50,\r\n\t\t\tmaxWidth: 500,\r\n\t\t},\r\n\t\t[theme.breakpoints.up('xl')]: {\r\n\t\t\tmarginLeft: 60,\r\n\t\t\tmaxWidth: 500,\r\n\t\t},\r\n\t},\r\n\tshare: {\r\n\t\tfontFamily: 'Teko',\r\n\t\tmarginBottom: '10%',\r\n\t\t[theme.breakpoints.between('xs', 'sm')]: {\r\n\t\t\tfontSize: 14,\r\n\t\t\t// width: '5%'\r\n\t\t},\r\n\t\t[theme.breakpoints.between('sm', 'md')]: {\r\n\t\t\tfontSize: 16,\r\n\t\t},\r\n\t\t[theme.breakpoints.between('md', 'lg')]: {\r\n\t\t\tfontSize: 18,\r\n\t\t},\r\n\t\t[theme.breakpoints.between('lg', 'xl')]: {\r\n\t\t\tfontSize: 20,\r\n\t\t},\r\n\t\t[theme.breakpoints.up('xl')]: {\r\n\t\t\tfontSize: 20,\r\n\t\t},\r\n\t},\r\n\timgPaper: {\r\n\t\twidth: 350,\r\n\t\tmarginBottom: 50,\r\n\t\tbackgroundColor: '#EFEBE9',\r\n\t\t[theme.breakpoints.between('sm', 'md')]: {\r\n\t\t\tmarginLeft: '20%',\r\n\t\t},\r\n\t\t[theme.breakpoints.between('md', 'lg')]: {\r\n\t\t\tmarginLeft: '20%',\r\n\t\t},\r\n\t\t[theme.breakpoints.between('lg', 'xl')]: {\r\n\t\t\tmarginLeft: '30%',\r\n\t\t},\r\n\t\t[theme.breakpoints.up('xl')]: {\r\n\t\t\tmarginLeft: '35%',\r\n\t\t},\r\n\t},\r\n\tinputNum: {\r\n\t\theight: 40,\r\n\t\tborderRadius: 5,\r\n\t\twidth: 550,\r\n\t\tfontSize: 20,\r\n\t},\r\n\tinput: {\r\n\t\theight: 40,\r\n\t\tborderRadius: 5,\r\n\t},\r\n})\r\nclass SellSingle extends Component {\r\n\tstate = {\r\n\t\tname: '',\r\n\t\tbonusFee: 0,\r\n\t\tcoverURL: '',\r\n\t\tdescription: '',\r\n\t\tprice: 0,\r\n\t\tipfsHashMeta: '',\r\n\t\topen: false,\r\n\t\ttoAddress: '',\r\n\t\tNFTId: '',\r\n\t\tonSale: false,\r\n\t\tcopied: false,\r\n\t\tonLoading: false,\r\n\t\towner: '',\r\n\t\tcurrentAcc: '',\r\n\t\tchildrenNum: 0,\r\n\t\tloadItem: true,\r\n\t\ttokenAddr: null,\r\n\t\ttokenSymbol: '',\r\n\t\tdecimal: 0,\r\n\t}\r\n\r\n\tasync componentDidMount() {\r\n\t\tconst chainId = await window.ethereum.request({ method: 'eth_chainId' })\r\n\t\tif (chainId !== '0x89') {\r\n\t\t\talert('Polygon ')\r\n\t\t\tawait window.ethereum.request({\r\n\t\t\t\tmethod: 'wallet_switchEthereumChain',\r\n\t\t\t\tparams: [\r\n\t\t\t\t\t{\r\n\t\t\t\t\t\tchainId: '0x89',\r\n\t\t\t\t\t},\r\n\t\t\t\t],\r\n\t\t\t})\r\n\t\t}\r\n\r\n\t\tconst accounts = await window.ethereum.request({\r\n\t\t\tmethod: 'eth_requestAccounts',\r\n\t\t})\r\n\t\tconst account = accounts[0]\r\n\t\tlet obj = this\r\n\t\tthis.setState({\r\n\t\t\tcurrentAcc: account,\r\n\t\t\tNFTId: this.props.match.params.NFTId,\r\n\t\t})\r\n\t\tconst issueId = await contract.methods.getIssueIdByNFTId(this.state.NFTId).call()\r\n\t\tconst royalty = await contract.methods.getRoyaltyFeeByIssueId(issueId).call()\r\n\t\tconst metadata = await contract.methods.tokenURI(this.props.match.params.NFTId).call()\r\n\t\tlet hash = metadata.split('/')\r\n\t\tthis.setState({ ipfsHashMeta: hash[hash.length - 1] })\r\n\t\tvar url = gateway + this.state.ipfsHashMeta\r\n\t\ttry {\r\n\t\t\tconst res = await axios({ method: 'get', url: url, timeout: 1000 * 2 })\r\n\t\t\tlet content = res.data\r\n\t\t\tlet bonus = content.attributes[0].value\r\n\t\t\t// let encrypted = content.attributes[3].value\r\n\t\t\tthis.setState({\r\n\t\t\t\tloadItem: false,\r\n\t\t\t\tname: content.name,\r\n\t\t\t\tdescription: content.description,\r\n\t\t\t\tbonusFee: bonus,\r\n\t\t\t\tcoverURL: content.image,\r\n\t\t\t})\r\n\t\t} catch (error) {\r\n\t\t\tvar name_holder = 'SparkNFT#' + this.props.match.params.NFTId\r\n\t\t\tobj.setState({\r\n\t\t\t\tloadItem: false,\r\n\t\t\t\tname: name_holder,\r\n\t\t\t\tdescription: 'nft',\r\n\t\t\t\tbonusFee: royalty,\r\n\t\t\t\tcoverURL: 'https://via.placeholder.com/100x140.png?text=SparkNFT',\r\n\t\t\t})\r\n\t\t\tconsole.debug(error)\r\n\t\t}\r\n\r\n\t\tvar owner = await contract.methods.ownerOf(this.props.match.params.NFTId).call()\r\n\t\tvar price = await contract.methods.getTransferPriceByNFTId(this.props.match.params.NFTId).call()\r\n\t\tvar token_addr = await contract.methods.getTokenAddrByNFTId(this.props.match.params.NFTId).call()\r\n\t\tif (price == '0') {\r\n\t\t\tthis.setState({\r\n\t\t\t\towner: owner.toLowerCase(),\r\n\t\t\t\tonSale: false,\r\n\t\t\t})\r\n\t\t} else {\r\n\t\t\tthis.setState({\r\n\t\t\t\towner: owner.toLowerCase(),\r\n\t\t\t\tonSale: true,\r\n\t\t\t})\r\n\t\t}\r\n\r\n\t\tif (token_addr == '0x0000000000000000000000000000000000000000') {\r\n\t\t\tthis.setState({\r\n\t\t\t\ttokenAddr: token_addr,\r\n\t\t\t\ttokenSymbol: 'MATIC',\r\n\t\t\t\tdecimal: 18,\r\n\t\t\t})\r\n\t\t} else {\r\n\t\t\ttry {\r\n\t\t\t\tconst token_contract = new web3.eth.Contract(abi, token_addr)\r\n\t\t\t\tconst token_symbol = await token_contract.methods.symbol().call()\r\n\t\t\t\tconst decimal = await token_contract.methods.decimals().call()\r\n\t\t\t\tthis.setState({\r\n\t\t\t\t\ttokenAddr: token_addr,\r\n\t\t\t\t\ttokenSymbol: token_symbol,\r\n\t\t\t\t\tdecimal: decimal,\r\n\t\t\t\t})\r\n\t\t\t} catch (error) {\r\n\t\t\t\tmessage.error({\r\n\t\t\t\t\tcontent: `Error: ${error}`,\r\n\t\t\t\t\tclassName: 'custom-class',\r\n\t\t\t\t\tstyle: {\r\n\t\t\t\t\t\tmarginTop: '10vh',\r\n\t\t\t\t\t},\r\n\t\t\t\t})\r\n\t\t\t}\r\n\t\t}\r\n\r\n\t\tconst child_url = backend + '/api/v1/nft/info?nft_id=' + this.state.NFTId\r\n\t\ttry {\r\n\t\t\tconst res = await axios.get(child_url)\r\n\t\t\tvar children_num = res.data.children_count\r\n\t\t\tthis.setState({\r\n\t\t\t\tchildrenNum: children_num,\r\n\t\t\t})\r\n\t\t} catch (error) {\r\n\t\t\tif (error.response === undefined) {\r\n\t\t\t\tmessage.error({\r\n\t\t\t\t\tcontent: '',\r\n\t\t\t\t\tclassName: 'custom-class',\r\n\t\t\t\t\tstyle: {\r\n\t\t\t\t\t\tmarginTop: '10vh',\r\n\t\t\t\t\t},\r\n\t\t\t\t})\r\n\t\t\t\treturn\r\n\t\t\t}\r\n\t\t\tif (error.response.status === 400 && error.response.data.message.includes('children not found')) {\r\n\t\t\t\tconsole.debug('no children')\r\n\t\t\t} else {\r\n\t\t\t\tmessage.error({\r\n\t\t\t\t\tcontent: `nft ${error}`,\r\n\t\t\t\t\tclassName: 'custom-class',\r\n\t\t\t\t\tstyle: {\r\n\t\t\t\t\t\tmarginTop: '10vh',\r\n\t\t\t\t\t},\r\n\t\t\t\t})\r\n\t\t\t}\r\n\t\t}\r\n\t}\r\n\r\n\thandleClickOpen = () => {\r\n\t\tthis.setState({\r\n\t\t\topen: true,\r\n\t\t})\r\n\t}\r\n\r\n\thandleClose = () => {\r\n\t\tthis.setState({\r\n\t\t\topen: false,\r\n\t\t})\r\n\t}\r\n\r\n\thandleGetPrice = (value) => {\r\n\t\tthis.setState({\r\n\t\t\tprice: value,\r\n\t\t})\r\n\t}\r\n\r\n\thandleGetAddr = (e) => {\r\n\t\tthis.setState({\r\n\t\t\ttoAddress: e.target.value,\r\n\t\t})\r\n\t}\r\n\r\n\thandleClickLink = () => {\r\n\t\tvar new_url = '/#/NFT/' + this.state.NFTId\r\n\t\twindow.open(new_url, '_self')\r\n\t}\r\n\r\n\tsell = async () => {\r\n\t\tthis.setState({\r\n\t\t\topen: false,\r\n\t\t})\r\n\t\tconst accounts = await window.ethereum.request({\r\n\t\t\tmethod: 'eth_requestAccounts',\r\n\t\t})\r\n\t\tconst account = accounts[0]\r\n\r\n\t\tvar price_with_decimal = this.state.price * 10 ** this.state.decimal\r\n\t\tprice_with_decimal = price_with_decimal.toString()\r\n\t\tvar obj = this\r\n\t\tthis.setState({\r\n\t\t\tonLoading: true,\r\n\t\t})\r\n\t\tvar gasPrice = await web3.eth.getGasPrice()\r\n\t\tvar new_gas_price = Math.floor(parseInt(gasPrice) * 1.5).toString()\r\n\t\tcontract.methods\r\n\t\t\t.determinePriceAndApprove(this.state.NFTId, price_with_decimal, this.state.toAddress)\r\n\t\t\t.send({\r\n\t\t\t\tfrom: account,\r\n\t\t\t\tgasPrice: new_gas_price,\r\n\t\t\t})\r\n\t\t\t.on('receipt', function () {\r\n\t\t\t\tobj.setState({\r\n\t\t\t\t\tonSale: true,\r\n\t\t\t\t\tonLoading: false,\r\n\t\t\t\t})\r\n\t\t\t\tmessage.success({\r\n\t\t\t\t\tcontent: '',\r\n\t\t\t\t\tclassName: 'custom-class',\r\n\t\t\t\t\tstyle: {\r\n\t\t\t\t\t\tmarginTop: '10vh',\r\n\t\t\t\t\t},\r\n\t\t\t\t})\r\n\t\t\t})\r\n\t\t\t.on('error', function (error) {\r\n\t\t\t\tobj.setState({\r\n\t\t\t\t\tonLoading: false,\r\n\t\t\t\t})\r\n\t\t\t\tmessage.error({\r\n\t\t\t\t\tcontent: `Error: ${error.message}`,\r\n\t\t\t\t\tclassName: 'custom-class',\r\n\t\t\t\t\tstyle: {\r\n\t\t\t\t\t\tmarginTop: '10vh',\r\n\t\t\t\t\t},\r\n\t\t\t\t})\r\n\t\t\t})\r\n\t}\r\n\r\n\trender() {\r\n\t\tconst { classes } = this.props\r\n\t\tconst sell_info = () => {\r\n\t\t\tlet host = window.location.host\r\n\t\t\tlet toUrl = 'https://' + host + '/#/buySingle/' + this.state.NFTId\r\n\t\t\tif (this.state.onSale) {\r\n\t\t\t\treturn (\r\n\t\t\t\t\t<Grid container>\r\n\t\t\t\t\t\t<Grid item xs>\r\n\t\t\t\t\t\t\t<Typography color=\"inherit\" align=\"center\" noWrap className={classes.share}>\r\n\t\t\t\t\t\t\t\t\r\n\t\t\t\t\t\t\t\t<br /> NFT <br />\r\n\t\t\t\t\t\t\t\t{toUrl}\r\n\t\t\t\t\t\t\t\t<CopyToClipboard text={toUrl} onCopy={() => this.setState({ copied: true })}>\r\n\t\t\t\t\t\t\t\t\t<IconButton color=\"primary\" aria-label=\"upload picture\" component=\"span\">\r\n\t\t\t\t\t\t\t\t\t\t<CopyOutlined />\r\n\t\t\t\t\t\t\t\t\t</IconButton>\r\n\t\t\t\t\t\t\t\t</CopyToClipboard>\r\n\t\t\t\t\t\t\t</Typography>\r\n\t\t\t\t\t\t</Grid>\r\n\t\t\t\t\t</Grid>\r\n\t\t\t\t)\r\n\t\t\t}\r\n\t\t}\r\n\r\n\t\tconst showSellBtn = () => {\r\n\t\t\tif (this.state.currentAcc == this.state.owner) {\r\n\t\t\t\treturn (\r\n\t\t\t\t\t<Button\r\n\t\t\t\t\t\tvariant=\"outlined\"\r\n\t\t\t\t\t\tcolor=\"primary\"\r\n\t\t\t\t\t\tstartIcon={<DollarCircleOutlined style={{ fontSize: 22 }} />}\r\n\t\t\t\t\t\tclassName={classes.btnSell}\r\n\t\t\t\t\t\tonClick={this.handleClickOpen}\r\n\t\t\t\t\t>\r\n\t\t\t\t\t\t\r\n\t\t\t\t\t</Button>\r\n\t\t\t\t)\r\n\t\t\t} else {\r\n\t\t\t\treturn (\r\n\t\t\t\t\t<Button\r\n\t\t\t\t\t\tvariant=\"outlined\"\r\n\t\t\t\t\t\tstartIcon={<DollarCircleOutlined style={{ fontSize: 22 }} />}\r\n\t\t\t\t\t\tclassName={classes.btnSell}\r\n\t\t\t\t\t\tdisabled\r\n\t\t\t\t\t>\r\n\t\t\t\t\t\t\r\n\t\t\t\t\t</Button>\r\n\t\t\t\t)\r\n\t\t\t}\r\n\t\t}\r\n\r\n\t\treturn (\r\n\t\t\t<Spin spinning={this.state.onLoading} size=\"large\">\r\n\t\t\t\t<ThemeProvider theme={theme}>\r\n\t\t\t\t\t<TopBar />\r\n\t\t\t\t\t<Container component=\"main\" className={classes.container}>\r\n\t\t\t\t\t\t<Button\r\n\t\t\t\t\t\t\tstartIcon={<ArrowLeftOutlined style={{ fontSize: 22 }} />}\r\n\t\t\t\t\t\t\tonClick={this.handleClickLink}\r\n\t\t\t\t\t\t\tstyle={{ marginTop: 50, marginBottom: 100, fontSize: 22 }}\r\n\t\t\t\t\t\t>\r\n\t\t\t\t\t\t\t\r\n\t\t\t\t\t\t</Button>\r\n\t\t\t\t\t\t<div className={classes.paper}>\r\n\t\t\t\t\t\t\t{this.state.loadItem ? (\r\n\t\t\t\t\t\t\t\t<Grid container spacing={5} className={classes.content}>\r\n\t\t\t\t\t\t\t\t\t<Grid item xs={4}>\r\n\t\t\t\t\t\t\t\t\t\t<Skeleton variant=\"rect\" width={300} height={500} className={classes.img} />\r\n\t\t\t\t\t\t\t\t\t</Grid>\r\n\t\t\t\t\t\t\t\t\t<Grid item xs style={{ marginLeft: '5%', maxWidth: 500, minWidth: 350 }}>\r\n\t\t\t\t\t\t\t\t\t\t<Skeleton animation=\"wave\" variant=\"text\" width={'70%'} height={30} />\r\n\t\t\t\t\t\t\t\t\t\t<Skeleton animation=\"wave\" variant=\"text\" width={'100%'} height={70} />\r\n\t\t\t\t\t\t\t\t\t\t<Skeleton\r\n\t\t\t\t\t\t\t\t\t\t\tanimation=\"wave\"\r\n\t\t\t\t\t\t\t\t\t\t\tvariant=\"rect\"\r\n\t\t\t\t\t\t\t\t\t\t\twidth={'100%'}\r\n\t\t\t\t\t\t\t\t\t\t\theight={300}\r\n\t\t\t\t\t\t\t\t\t\t\tstyle={{ marginBottom: 50 }}\r\n\t\t\t\t\t\t\t\t\t\t/>\r\n\t\t\t\t\t\t\t\t\t\t{showSellBtn()}\r\n\t\t\t\t\t\t\t\t\t</Grid>\r\n\t\t\t\t\t\t\t\t</Grid>\r\n\t\t\t\t\t\t\t) : (\r\n\t\t\t\t\t\t\t\t<Grid container className={classes.content} spacing={5}>\r\n\t\t\t\t\t\t\t\t\t<Grid item xs={4} style={{ maxWidth: 600 }}>\r\n\t\t\t\t\t\t\t\t\t\t<Paper className={classes.imgPaper}>\r\n\t\t\t\t\t\t\t\t\t\t\t<img\r\n\t\t\t\t\t\t\t\t\t\t\t\tstyle={{\r\n\t\t\t\t\t\t\t\t\t\t\t\t\twidth: 300,\r\n\t\t\t\t\t\t\t\t\t\t\t\t\tmarginTop: 20,\r\n\t\t\t\t\t\t\t\t\t\t\t\t\tmarginBottom: 50,\r\n\t\t\t\t\t\t\t\t\t\t\t\t\tobjectFit: 'contain',\r\n\t\t\t\t\t\t\t\t\t\t\t\t}}\r\n\t\t\t\t\t\t\t\t\t\t\t\tsrc={this.state.coverURL}\r\n\t\t\t\t\t\t\t\t\t\t\t></img>\r\n\t\t\t\t\t\t\t\t\t\t</Paper>\r\n\t\t\t\t\t\t\t\t\t</Grid>\r\n\r\n\t\t\t\t\t\t\t\t\t<Grid item xs className={classes.content2}>\r\n\t\t\t\t\t\t\t\t\t\t<Typography\r\n\t\t\t\t\t\t\t\t\t\t\tcolor=\"inherit\"\r\n\t\t\t\t\t\t\t\t\t\t\talign=\"left\"\r\n\t\t\t\t\t\t\t\t\t\t\t// eslint-disable-next-line react/jsx-no-duplicate-props\r\n\t\t\t\t\t\t\t\t\t\t\tcolor=\"textSecondary\"\r\n\t\t\t\t\t\t\t\t\t\t\tnoWrap\r\n\t\t\t\t\t\t\t\t\t\t\tstyle={{\r\n\t\t\t\t\t\t\t\t\t\t\t\tfontFamily: 'Teko',\r\n\t\t\t\t\t\t\t\t\t\t\t\tfontSize: 16,\r\n\t\t\t\t\t\t\t\t\t\t\t\tmarginTop: '2%',\r\n\t\t\t\t\t\t\t\t\t\t\t}}\r\n\t\t\t\t\t\t\t\t\t\t>\r\n\t\t\t\t\t\t\t\t\t\t\t#{this.state.NFTId}\r\n\t\t\t\t\t\t\t\t\t\t</Typography>\r\n\t\t\t\t\t\t\t\t\t\t<Typography\r\n\t\t\t\t\t\t\t\t\t\t\tcolor=\"inherit\"\r\n\t\t\t\t\t\t\t\t\t\t\talign=\"left\"\r\n\t\t\t\t\t\t\t\t\t\t\tnoWrap\r\n\t\t\t\t\t\t\t\t\t\t\tstyle={{\r\n\t\t\t\t\t\t\t\t\t\t\t\tfontFamily: 'Teko',\r\n\t\t\t\t\t\t\t\t\t\t\t\tfontSize: 30,\r\n\t\t\t\t\t\t\t\t\t\t\t\tmarginTop: '2%',\r\n\t\t\t\t\t\t\t\t\t\t\t}}\r\n\t\t\t\t\t\t\t\t\t\t>\r\n\t\t\t\t\t\t\t\t\t\t\t<b>{this.state.name}</b>\r\n\t\t\t\t\t\t\t\t\t\t</Typography>\r\n\t\t\t\t\t\t\t\t\t\t<Typography\r\n\t\t\t\t\t\t\t\t\t\t\talign=\"justify\"\r\n\t\t\t\t\t\t\t\t\t\t\tcolor=\"textSecondary\"\r\n\t\t\t\t\t\t\t\t\t\t\tparagraph\r\n\t\t\t\t\t\t\t\t\t\t\tstyle={{\r\n\t\t\t\t\t\t\t\t\t\t\t\tmarginTop: '2%',\r\n\t\t\t\t\t\t\t\t\t\t\t\tmaxWidth: '100%',\r\n\t\t\t\t\t\t\t\t\t\t\t\tfontSize: 16,\r\n\t\t\t\t\t\t\t\t\t\t\t}}\r\n\t\t\t\t\t\t\t\t\t\t>\r\n\t\t\t\t\t\t\t\t\t\t\t{this.state.description}\r\n\t\t\t\t\t\t\t\t\t\t</Typography>\r\n\t\t\t\t\t\t\t\t\t\t<Typography\r\n\t\t\t\t\t\t\t\t\t\t\talign=\"left\"\r\n\t\t\t\t\t\t\t\t\t\t\tcolor=\"textPrimary\"\r\n\t\t\t\t\t\t\t\t\t\t\tparagraph\r\n\t\t\t\t\t\t\t\t\t\t\tstyle={{ marginTop: '6%', maxWidth: '65%', fontSize: 20 }}\r\n\t\t\t\t\t\t\t\t\t\t>\r\n\t\t\t\t\t\t\t\t\t\t\t: {this.state.bonusFee} %\r\n\t\t\t\t\t\t\t\t\t\t</Typography>\r\n\t\t\t\t\t\t\t\t\t\t<Typography align=\"left\" color=\"textPrimary\" paragraph style={{ maxWidth: '65%', fontSize: 12 }}>\r\n\t\t\t\t\t\t\t\t\t\t\t: {this.state.childrenNum}\r\n\t\t\t\t\t\t\t\t\t\t</Typography>\r\n\t\t\t\t\t\t\t\t\t\t{showSellBtn()}\r\n\t\t\t\t\t\t\t\t\t\t<Dialog open={this.state.open} onClose={this.handleClose} aria-labelledby=\"form-dialog-title\">\r\n\t\t\t\t\t\t\t\t\t\t\t<DialogTitle id=\"form-dialog-title\"></DialogTitle>\r\n\t\t\t\t\t\t\t\t\t\t\t<DialogContent>\r\n\t\t\t\t\t\t\t\t\t\t\t\t<DialogContentText>\r\n\t\t\t\t\t\t\t\t\t\t\t\t\t\r\n\t\t\t\t\t\t\t\t\t\t\t\t</DialogContentText>\r\n\t\t\t\t\t\t\t\t\t\t\t\t<label style={{ fontSize: 14, marginBottom: 10 }}> ({this.state.tokenSymbol})*</label>\r\n\t\t\t\t\t\t\t\t\t\t\t\t<InputNumber\r\n\t\t\t\t\t\t\t\t\t\t\t\t\tdefaultValue={0}\r\n\t\t\t\t\t\t\t\t\t\t\t\t\tmin={0}\r\n\t\t\t\t\t\t\t\t\t\t\t\t\tonChange={this.handleGetPrice}\r\n\t\t\t\t\t\t\t\t\t\t\t\t\tclassName={classes.inputNum}\r\n\t\t\t\t\t\t\t\t\t\t\t\t/>\r\n\t\t\t\t\t\t\t\t\t\t\t\t<label\r\n\t\t\t\t\t\t\t\t\t\t\t\t\tstyle={{\r\n\t\t\t\t\t\t\t\t\t\t\t\t\t\tfontSize: 14,\r\n\t\t\t\t\t\t\t\t\t\t\t\t\t\tmarginBottom: 10,\r\n\t\t\t\t\t\t\t\t\t\t\t\t\t\tmarginTop: 10,\r\n\t\t\t\t\t\t\t\t\t\t\t\t\t}}\r\n\t\t\t\t\t\t\t\t\t\t\t\t>\r\n\t\t\t\t\t\t\t\t\t\t\t\t\t *\r\n\t\t\t\t\t\t\t\t\t\t\t\t</label>\r\n\t\t\t\t\t\t\t\t\t\t\t\t<Input\r\n\t\t\t\t\t\t\t\t\t\t\t\t\tplaceholder=\"\"\r\n\t\t\t\t\t\t\t\t\t\t\t\t\tallowClear\r\n\t\t\t\t\t\t\t\t\t\t\t\t\tid=\"pubName\"\r\n\t\t\t\t\t\t\t\t\t\t\t\t\tonChange={this.handleGetAddr}\r\n\t\t\t\t\t\t\t\t\t\t\t\t\tclassName={classes.input}\r\n\t\t\t\t\t\t\t\t\t\t\t\t/>\r\n\t\t\t\t\t\t\t\t\t\t\t</DialogContent>\r\n\t\t\t\t\t\t\t\t\t\t\t<DialogActions>\r\n\t\t\t\t\t\t\t\t\t\t\t\t<Button onClick={this.handleClose} color=\"primary\">\r\n\t\t\t\t\t\t\t\t\t\t\t\t\t\r\n\t\t\t\t\t\t\t\t\t\t\t\t</Button>\r\n\t\t\t\t\t\t\t\t\t\t\t\t<Button variant=\"contained\" onClick={this.sell} color=\"primary\">\r\n\t\t\t\t\t\t\t\t\t\t\t\t\t\r\n\t\t\t\t\t\t\t\t\t\t\t\t</Button>\r\n\t\t\t\t\t\t\t\t\t\t\t</DialogActions>\r\n\t\t\t\t\t\t\t\t\t\t</Dialog>\r\n\t\t\t\t\t\t\t\t\t</Grid>\r\n\t\t\t\t\t\t\t\t</Grid>\r\n\t\t\t\t\t\t\t)}\r\n\t\t\t\t\t\t</div>\r\n\t\t\t\t\t\t<div style={{ marginTop: 50 }}>{sell_info()}</div>\r\n\t\t\t\t\t</Container>\r\n\t\t\t\t</ThemeProvider>\r\n\t\t\t</Spin>\r\n\t\t)\r\n\t}\r\n}\r\n\r\nexport default withStyles(styles, { withTheme: true })(SellSingle)\r\n//todo \r\n","import React, { Component } from 'react'\r\nimport '../App.css'\r\nimport Button from '@material-ui/core/Button'\r\nimport Grid from '@material-ui/core/Grid'\r\nimport { createTheme, ThemeProvider, withStyles } from '@material-ui/core/styles'\r\nimport TopBar from '../components/TopBar'\r\nimport Typography from '@material-ui/core/Typography'\r\nimport axios from 'axios'\r\nimport Paper from '@material-ui/core/Paper'\r\nimport Container from '@material-ui/core/Container'\r\nimport { DollarCircleOutlined, ArrowLeftOutlined } from '@ant-design/icons'\r\nimport { Spin, message } from 'antd'\r\nimport contract from '../utils/contract'\r\nimport web3 from '../utils/web3'\r\nimport Skeleton from '@material-ui/lab/Skeleton'\r\nimport config from '../global/config'\r\nconst { gateway, backend, sparkAddr } = config\r\nconst abi = require('erc-20-abi')\r\nconst theme = createTheme({\r\n\tpalette: {\r\n\t\tprimary: {\r\n\t\t\tmain: '#2196f3',\r\n\t\t},\r\n\t\tsecondary: {\r\n\t\t\tmain: '#FDFEFE',\r\n\t\t},\r\n\t},\r\n})\r\n\r\nconst styles = (theme) => ({\r\n\tcontainer: {\r\n\t\tmaxWidth: 1500,\r\n\t},\r\n\tpaper: {\r\n\t\tmarginTop: theme.spacing(1),\r\n\t\ttextAlign: 'center',\r\n\t\tmaxWidth: 1500,\r\n\t},\r\n\tbtnDisable: {\r\n\t\tmargin: theme.spacing(1),\r\n\t\tfontSize: 16,\r\n\t\tborderRadius: 10,\r\n\t\tborderWidth: 3,\r\n\t\tborderColor: '#909497',\r\n\t\tcolor: '#909497',\r\n\t\tmarginLeft: '10%',\r\n\t\twidth: 100,\r\n\t},\r\n\tbtnSell: {\r\n\t\tmargin: theme.spacing(1),\r\n\t\tfontSize: 16,\r\n\t\tborderRadius: 10,\r\n\t\tborderWidth: 2,\r\n\t\tborderColor: '#2196f3',\r\n\t\tcolor: '#2196f3',\r\n\t\tmarginLeft: '10%',\r\n\t\twidth: 100,\r\n\t},\r\n\tcontent: {\r\n\t\tfontFamily: 'Teko',\r\n\t\t[theme.breakpoints.between('xs', 'sm')]: {\r\n\t\t\tjustifyContent: 'flex-start',\r\n\t\t\talignItems: 'flex-start',\r\n\t\t},\r\n\t\t[theme.breakpoints.between('sm', 'md')]: {\r\n\t\t\tjustifyContent: 'flex-start',\r\n\t\t\talignItems: 'flex-start',\r\n\t\t},\r\n\t\t[theme.breakpoints.between('md', 'lg')]: {\r\n\t\t\tjustifyContent: 'flex-start',\r\n\t\t\talignItems: 'flex-start',\r\n\t\t},\r\n\t\t[theme.breakpoints.between('lg', 'xl')]: {\r\n\t\t\tjustifyContent: 'center',\r\n\t\t\talignItems: 'flex-start',\r\n\t\t},\r\n\t\t[theme.breakpoints.up('xl')]: {\r\n\t\t\tjustifyContent: 'center',\r\n\t\t\talignItems: 'flex-start',\r\n\t\t},\r\n\t},\r\n\timg: {\r\n\t\twidth: 300,\r\n\t\tmarginBottom: 50,\r\n\t\t[theme.breakpoints.between('xs', 'sm')]: {\r\n\t\t\tmarginLeft: '20%',\r\n\t\t},\r\n\t\t[theme.breakpoints.between('sm', 'md')]: {\r\n\t\t\tmarginLeft: '20%',\r\n\t\t},\r\n\t\t[theme.breakpoints.between('md', 'lg')]: {\r\n\t\t\tmarginLeft: '20%',\r\n\t\t},\r\n\t\t[theme.breakpoints.between('lg', 'xl')]: {\r\n\t\t\tmarginLeft: '30%',\r\n\t\t},\r\n\t\t[theme.breakpoints.up('xl')]: {\r\n\t\t\tmarginLeft: '40%',\r\n\t\t},\r\n\t},\r\n\timgPaper: {\r\n\t\twidth: 350,\r\n\t\tmarginBottom: 50,\r\n\t\tbackgroundColor: '#EFEBE9',\r\n\t\t[theme.breakpoints.between('sm', 'md')]: {\r\n\t\t\tmarginLeft: '20%',\r\n\t\t},\r\n\t\t[theme.breakpoints.between('md', 'lg')]: {\r\n\t\t\tmarginLeft: '20%',\r\n\t\t},\r\n\t\t[theme.breakpoints.between('lg', 'xl')]: {\r\n\t\t\tmarginLeft: '30%',\r\n\t\t},\r\n\t\t[theme.breakpoints.up('xl')]: {\r\n\t\t\tmarginLeft: '35%',\r\n\t\t},\r\n\t},\r\n\tcontent2: {\r\n\t\tfontFamily: 'Teko',\r\n\t\ttextAlign: 'center',\r\n\t\t[theme.breakpoints.between('xs', 'sm')]: {\r\n\t\t\tmaxWidth: 500,\r\n\t\t},\r\n\t\t[theme.breakpoints.between('sm', 'md')]: {\r\n\t\t\tmarginLeft: 90,\r\n\t\t\tmaxWidth: 500,\r\n\t\t},\r\n\t\t[theme.breakpoints.between('md', 'lg')]: {\r\n\t\t\tmarginLeft: 80,\r\n\t\t\tmaxWidth: 500,\r\n\t\t},\r\n\t\t[theme.breakpoints.between('lg', 'xl')]: {\r\n\t\t\tmarginLeft: 50,\r\n\t\t\tmaxWidth: 500,\r\n\t\t},\r\n\t\t[theme.breakpoints.up('xl')]: {\r\n\t\t\tmarginLeft: 60,\r\n\t\t\tmaxWidth: 500,\r\n\t\t},\r\n\t},\r\n})\r\nclass BuySingle extends Component {\r\n\tconstructor(props) {\r\n\t\tsuper(props)\r\n\t\tthis.state = {\r\n\t\t\tname: '',\r\n\t\t\tbonusFee: 0,\r\n\t\t\tcoverURL: '',\r\n\t\t\tdescription: '',\r\n\t\t\tprice: 0,\r\n\t\t\tpriceString: '',\r\n\t\t\tipfsHashMeta: '',\r\n\t\t\topen: false,\r\n\t\t\taddress: '',\r\n\t\t\tNFTId: '',\r\n\t\t\tonSale: false,\r\n\t\t\towner: '',\r\n\t\t\tapprovedAddr: '',\r\n\t\t\tcurrentAcc: '',\r\n\t\t\tonLoading: false,\r\n\t\t\tchildrenNum: 0,\r\n\t\t\tloadItem: true,\r\n\t\t\tencrypted: '',\r\n\t\t\ttokenAddr: null,\r\n\t\t\ttokenSymbol: '',\r\n\t\t\tdecimal: 0,\r\n\t\t\tapproved: false,\r\n\t\t}\r\n\t}\r\n\r\n\tasync componentDidMount() {\r\n\t\tconst accounts = await window.ethereum.request({\r\n\t\t\tmethod: 'eth_requestAccounts',\r\n\t\t})\r\n\t\tconst account = accounts[0]\r\n\t\tthis.setState({\r\n\t\t\tcurrentAcc: account,\r\n\t\t\tNFTId: this.props.match.params.NFTId,\r\n\t\t})\r\n\t\tconst issueId = await contract.methods.getIssueIdByNFTId(this.state.NFTId).call()\r\n\t\tconst royalty = await contract.methods.getRoyaltyFeeByIssueId(issueId).call()\r\n\t\tconst metadata = await contract.methods.tokenURI(this.props.match.params.NFTId).call()\r\n\t\tlet hash = metadata.split('/')\r\n\t\tthis.setState({\r\n\t\t\tipfsHashMeta: hash[hash.length - 1],\r\n\t\t})\r\n\t\tlet url = gateway + this.state.ipfsHashMeta\r\n\t\ttry {\r\n\t\t\tconst res = await axios({ method: 'get', url: url, timeout: 1000 * 3 })\r\n\t\t\tlet content = res.data\r\n\t\t\tlet bonus = content.attributes[0].value\r\n\t\t\tlet encrypted\r\n\t\t\tif (content.attributes[3].value.toUpperCase() === 'TRUE') {\r\n\t\t\t\tencrypted = ''\r\n\t\t\t} else {\r\n\t\t\t\tencrypted = ''\r\n\t\t\t}\r\n\r\n\t\t\tthis.setState({\r\n\t\t\t\tloadItem: false,\r\n\t\t\t\tname: content.name,\r\n\t\t\t\tdescription: content.description,\r\n\t\t\t\tbonusFee: bonus,\r\n\t\t\t\tcoverURL: content.image,\r\n\t\t\t\tencrypted: encrypted,\r\n\t\t\t})\r\n\t\t} catch (error) {\r\n\t\t\tlet name_holder = 'SparkNFT#' + this.props.match.params.NFTId\r\n\t\t\tthis.setState({\r\n\t\t\t\tloadItem: false,\r\n\t\t\t\tname: name_holder,\r\n\t\t\t\tdescription: 'nft',\r\n\t\t\t\tbonusFee: royalty,\r\n\t\t\t\tcoverURL: 'https://via.placeholder.com/100x140.png?text=SparkNFT',\r\n\t\t\t})\r\n\t\t}\r\n\r\n\t\tlet owner = await contract.methods.ownerOf(this.props.match.params.NFTId).call()\r\n\t\tlet approved = await contract.methods.getApproved(this.props.match.params.NFTId).call()\r\n\t\tlet price = await contract.methods.getTransferPriceByNFTId(this.props.match.params.NFTId).call()\r\n\t\tlet token_addr = await contract.methods.getTokenAddrByNFTId(this.props.match.params.NFTId).call()\r\n\t\tthis.setState({\r\n\t\t\towner: owner,\r\n\t\t\tapprovedAddr: approved,\r\n\t\t\tprice: price,\r\n\t\t})\r\n\t\tif (token_addr == '0x0000000000000000000000000000000000000000') {\r\n\t\t\tthis.setState({\r\n\t\t\t\ttokenAddr: token_addr,\r\n\t\t\t\ttokenSymbol: 'MATIC',\r\n\t\t\t\tdecimal: 18,\r\n\t\t\t\tapproved: true,\r\n\t\t\t})\r\n\t\t} else {\r\n\t\t\ttry {\r\n\t\t\t\tconst token_contract = new web3.eth.Contract(abi, token_addr)\r\n\t\t\t\tconst token_symbol = await token_contract.methods.symbol().call()\r\n\t\t\t\tconst decimal = await token_contract.methods.decimals().call()\r\n\t\t\t\tconst approved_amount = await token_contract.methods.allowance(account, sparkAddr).call()\r\n\t\t\t\tif (approved_amount >= price) {\r\n\t\t\t\t\tthis.setState({\r\n\t\t\t\t\t\tapproved: true,\r\n\t\t\t\t\t})\r\n\t\t\t\t} else {\r\n\t\t\t\t\tthis.setState({\r\n\t\t\t\t\t\tapproved: false,\r\n\t\t\t\t\t})\r\n\t\t\t\t}\r\n\t\t\t\tthis.setState({\r\n\t\t\t\t\ttokenAddr: token_addr,\r\n\t\t\t\t\ttokenSymbol: token_symbol,\r\n\t\t\t\t\tdecimal: decimal,\r\n\t\t\t\t})\r\n\t\t\t} catch (error) {\r\n\t\t\t\tmessage.error({\r\n\t\t\t\t\tcontent: `Error: ${error}`,\r\n\t\t\t\t\tclassName: 'custom-class',\r\n\t\t\t\t\tstyle: {\r\n\t\t\t\t\t\tmarginTop: '10vh',\r\n\t\t\t\t\t},\r\n\t\t\t\t})\r\n\t\t\t}\r\n\t\t}\r\n\r\n\t\tlet price_with_decimal = price / 10 ** this.state.decimal\r\n\t\tprice_with_decimal = price_with_decimal + ' ' + this.state.tokenSymbol\r\n\t\tthis.setState({\r\n\t\t\tpriceString: price_with_decimal,\r\n\t\t})\r\n\r\n\t\tconst child_url = backend + '/api/v1/nft/info?nft_id=' + this.state.NFTId\r\n\t\ttry {\r\n\t\t\tconst response = await axios.get(child_url)\r\n\t\t\tlet children_num = response.data.children_count\r\n\t\t\tthis.setState({\r\n\t\t\t\tchildrenNum: children_num,\r\n\t\t\t})\r\n\t\t} catch (error) {\r\n\t\t\tmessage.error({\r\n\t\t\t\tcontent: `Error: ${error}`,\r\n\t\t\t\tclassName: 'custom-class',\r\n\t\t\t\tstyle: {\r\n\t\t\t\t\tmarginTop: '10vh',\r\n\t\t\t\t},\r\n\t\t\t})\r\n\t\t}\r\n\t}\r\n\r\n\thandleBuy = async () => {\r\n\t\tconst accounts = await window.ethereum.request({\r\n\t\t\tmethod: 'eth_requestAccounts',\r\n\t\t})\r\n\t\tconst account = accounts[0]\r\n\r\n\t\tlet gasPrice = await web3.eth.getGasPrice()\r\n\t\tlet new_gas_price = Math.floor(parseInt(gasPrice) * 1.5).toString()\r\n\t\tlet obj = this\r\n\t\tif (this.state.tokenAddr == '0x0000000000000000000000000000000000000000') {\r\n\t\t\tthis.setState({\r\n\t\t\t\tonLoading: true,\r\n\t\t\t})\r\n\t\t\tcontract.methods\r\n\t\t\t\t.safeTransferFrom(this.state.owner, account, this.state.NFTId)\r\n\t\t\t\t.send({\r\n\t\t\t\t\tfrom: account,\r\n\t\t\t\t\tvalue: this.state.price,\r\n\t\t\t\t\tgasPrice: new_gas_price,\r\n\t\t\t\t})\r\n\t\t\t\t.on('receipt', function () {\r\n\t\t\t\t\tobj.setState({\r\n\t\t\t\t\t\tonLoading: false,\r\n\t\t\t\t\t})\r\n\t\t\t\t\tmessage.success({\r\n\t\t\t\t\t\tcontent: '',\r\n\t\t\t\t\t\tclassName: 'custom-class',\r\n\t\t\t\t\t\tstyle: {\r\n\t\t\t\t\t\t\tmarginTop: '10vh',\r\n\t\t\t\t\t\t},\r\n\t\t\t\t\t})\r\n\t\t\t\t})\r\n\t\t\t\t.on('error', function (error) {\r\n\t\t\t\t\tobj.setState({\r\n\t\t\t\t\t\tonLoading: false,\r\n\t\t\t\t\t})\r\n\t\t\t\t\tmessage.error({\r\n\t\t\t\t\t\tcontent: `Error: ${error.message}`,\r\n\t\t\t\t\t\tclassName: 'custom-class',\r\n\t\t\t\t\t\tstyle: {\r\n\t\t\t\t\t\t\tmarginTop: '10vh',\r\n\t\t\t\t\t\t},\r\n\t\t\t\t\t})\r\n\t\t\t\t})\r\n\t\t} else {\r\n\t\t\tthis.setState({\r\n\t\t\t\tonLoading: true,\r\n\t\t\t})\r\n\t\t\tcontract.methods\r\n\t\t\t\t.safeTransferFrom(this.state.owner, account, this.state.NFTId)\r\n\t\t\t\t.send({\r\n\t\t\t\t\tfrom: account,\r\n\t\t\t\t\tgasPrice: new_gas_price,\r\n\t\t\t\t})\r\n\t\t\t\t.on('receipt', function () {\r\n\t\t\t\t\tobj.setState({\r\n\t\t\t\t\t\tonLoading: false,\r\n\t\t\t\t\t})\r\n\t\t\t\t\tmessage.success({\r\n\t\t\t\t\t\tcontent: '',\r\n\t\t\t\t\t\tclassName: 'custom-class',\r\n\t\t\t\t\t\tstyle: {\r\n\t\t\t\t\t\t\tmarginTop: '10vh',\r\n\t\t\t\t\t\t},\r\n\t\t\t\t\t})\r\n\t\t\t\t})\r\n\t\t\t\t.on('error', function (error) {\r\n\t\t\t\t\tobj.setState({\r\n\t\t\t\t\t\tonLoading: false,\r\n\t\t\t\t\t})\r\n\t\t\t\t\tmessage.error({\r\n\t\t\t\t\t\tcontent: `Error: ${error.message}`,\r\n\t\t\t\t\t\tclassName: 'custom-class',\r\n\t\t\t\t\t\tstyle: {\r\n\t\t\t\t\t\t\tmarginTop: '10vh',\r\n\t\t\t\t\t\t},\r\n\t\t\t\t\t})\r\n\t\t\t\t})\r\n\t\t}\r\n\t}\r\n\r\n\thandleApprove = async () => {\r\n\t\tconst accounts = await window.ethereum.request({\r\n\t\t\tmethod: 'eth_requestAccounts',\r\n\t\t})\r\n\t\tconst account = accounts[0]\r\n\r\n\t\tthis.setState({\r\n\t\t\tonLoading: true,\r\n\t\t})\r\n\t\tlet obj = this\r\n\t\ttry {\r\n\t\t\tconst token_contract = new web3.eth.Contract(abi, this.state.tokenAddr)\r\n\t\t\tlet gasPrice = await web3.eth.getGasPrice()\r\n\t\t\tlet new_gas_price = Math.floor(parseInt(gasPrice) * 1.5).toString()\r\n\t\t\tlet price = this.state.price.toString()\r\n\r\n\t\t\ttoken_contract.methods\r\n\t\t\t\t.approve(this.sparkAddr, price)\r\n\t\t\t\t.send({\r\n\t\t\t\t\tfrom: account,\r\n\t\t\t\t\tgasPrice: new_gas_price,\r\n\t\t\t\t})\r\n\t\t\t\t.on('receipt', function () {\r\n\t\t\t\t\tobj.setState({\r\n\t\t\t\t\t\tonLoading: false,\r\n\t\t\t\t\t\tapproved: true,\r\n\t\t\t\t\t})\r\n\t\t\t\t\tmessage.success({\r\n\t\t\t\t\t\tcontent: '',\r\n\t\t\t\t\t\tclassName: 'custom-class',\r\n\t\t\t\t\t\tstyle: {\r\n\t\t\t\t\t\t\tmarginTop: '10vh',\r\n\t\t\t\t\t\t},\r\n\t\t\t\t\t})\r\n\t\t\t\t})\r\n\t\t\t\t.on('error', function (error) {\r\n\t\t\t\t\tobj.setState({\r\n\t\t\t\t\t\tonLoading: false,\r\n\t\t\t\t\t})\r\n\t\t\t\t\tmessage.error({\r\n\t\t\t\t\t\tcontent: `Error: ${error.message}`,\r\n\t\t\t\t\t\tclassName: 'custom-class',\r\n\t\t\t\t\t\tstyle: {\r\n\t\t\t\t\t\t\tmarginTop: '10vh',\r\n\t\t\t\t\t\t},\r\n\t\t\t\t\t})\r\n\t\t\t\t})\r\n\t\t} catch (error) {\r\n\t\t\tmessage.error({\r\n\t\t\t\tcontent: `Error: ${error}`,\r\n\t\t\t\tclassName: 'custom-class',\r\n\t\t\t\tstyle: {\r\n\t\t\t\t\tmarginTop: '10vh',\r\n\t\t\t\t},\r\n\t\t\t})\r\n\t\t}\r\n\t}\r\n\r\n\thandleGetPrice = (value) => {\r\n\t\tthis.setState({\r\n\t\t\tprice: value,\r\n\t\t})\r\n\t}\r\n\r\n\thandleGetAddr = (e) => {\r\n\t\tthis.setState({\r\n\t\t\taddress: e.target.value,\r\n\t\t})\r\n\t}\r\n\r\n\trender() {\r\n\t\tconst { classes } = this.props\r\n\r\n\t\tconst buyButton = () => {\r\n\t\t\tif (this.state.approvedAddr.toLowerCase() !== this.state.currentAcc.toLowerCase()) {\r\n\t\t\t\treturn (\r\n\t\t\t\t\t<Button\r\n\t\t\t\t\t\tvariant=\"outlined\"\r\n\t\t\t\t\t\tstartIcon={<DollarCircleOutlined style={{ fontSize: 22 }} />}\r\n\t\t\t\t\t\tclassName={classes.btnDisable}\r\n\t\t\t\t\t\tdisabled\r\n\t\t\t\t\t>\r\n\t\t\t\t\t\t\r\n\t\t\t\t\t</Button>\r\n\t\t\t\t)\r\n\t\t\t} else if (!this.state.approved) {\r\n\t\t\t\treturn (\r\n\t\t\t\t\t<Button variant=\"outlined\" color=\"primary\" className={classes.btnSell} onClick={this.handleApprove}>\r\n\t\t\t\t\t\t\r\n\t\t\t\t\t</Button>\r\n\t\t\t\t)\r\n\t\t\t} else {\r\n\t\t\t\treturn (\r\n\t\t\t\t\t<Button\r\n\t\t\t\t\t\tvariant=\"outlined\"\r\n\t\t\t\t\t\tstartIcon={<DollarCircleOutlined style={{ fontSize: 22 }} />}\r\n\t\t\t\t\t\tclassName={classes.btnSell}\r\n\t\t\t\t\t\tonClick={this.handleBuy}\r\n\t\t\t\t\t>\r\n\t\t\t\t\t\t\r\n\t\t\t\t\t</Button>\r\n\t\t\t\t)\r\n\t\t\t}\r\n\t\t}\r\n\r\n\t\treturn (\r\n\t\t\t<Spin spinning={this.state.onLoading} size=\"large\">\r\n\t\t\t\t<ThemeProvider theme={theme}>\r\n\t\t\t\t\t<TopBar />\r\n\t\t\t\t\t<Container component=\"main\" className={classes.container}>\r\n\t\t\t\t\t\t<Button\r\n\t\t\t\t\t\t\tstartIcon={<ArrowLeftOutlined style={{ fontSize: '2rem' }} />}\r\n\t\t\t\t\t\t\thref=\"/\"\r\n\t\t\t\t\t\t\tstyle={{ marginTop: 20, marginBottom: 10, fontSize: '2rem' }}\r\n\t\t\t\t\t\t>\r\n\t\t\t\t\t\t\t\r\n\t\t\t\t\t\t</Button>\r\n\t\t\t\t\t\t<div className={classes.paper}>\r\n\t\t\t\t\t\t\t{this.state.loadItem ? (\r\n\t\t\t\t\t\t\t\t<Grid container spacing={5} className={classes.content}>\r\n\t\t\t\t\t\t\t\t\t<Grid item xs={4}>\r\n\t\t\t\t\t\t\t\t\t\t<Skeleton variant=\"rect\" width={300} height={500} className={classes.img} />\r\n\t\t\t\t\t\t\t\t\t</Grid>\r\n\r\n\t\t\t\t\t\t\t\t\t<Grid item xs style={{ marginLeft: '5%', maxWidth: 500, minWidth: 350 }}>\r\n\t\t\t\t\t\t\t\t\t\t<Skeleton animation=\"wave\" variant=\"text\" width={'70%'} height={30} />\r\n\t\t\t\t\t\t\t\t\t\t<Skeleton animation=\"wave\" variant=\"text\" width={'100%'} height={70} />\r\n\t\t\t\t\t\t\t\t\t\t<Skeleton\r\n\t\t\t\t\t\t\t\t\t\t\tanimation=\"wave\"\r\n\t\t\t\t\t\t\t\t\t\t\tvariant=\"rect\"\r\n\t\t\t\t\t\t\t\t\t\t\twidth={'100%'}\r\n\t\t\t\t\t\t\t\t\t\t\theight={300}\r\n\t\t\t\t\t\t\t\t\t\t\tstyle={{ marginBottom: 50 }}\r\n\t\t\t\t\t\t\t\t\t\t/>\r\n\t\t\t\t\t\t\t\t\t\t{buyButton()}\r\n\t\t\t\t\t\t\t\t\t</Grid>\r\n\t\t\t\t\t\t\t\t</Grid>\r\n\t\t\t\t\t\t\t) : (\r\n\t\t\t\t\t\t\t\t<Grid container className={classes.content} spacing={5}>\r\n\t\t\t\t\t\t\t\t\t<Grid item xs={4} style={{ maxWidth: 600 }}>\r\n\t\t\t\t\t\t\t\t\t\t<Paper className={classes.imgPaper}>\r\n\t\t\t\t\t\t\t\t\t\t\t<img\r\n\t\t\t\t\t\t\t\t\t\t\t\tstyle={{\r\n\t\t\t\t\t\t\t\t\t\t\t\t\twidth: 300,\r\n\t\t\t\t\t\t\t\t\t\t\t\t\tmarginTop: 20,\r\n\t\t\t\t\t\t\t\t\t\t\t\t\tmarginBottom: 50,\r\n\t\t\t\t\t\t\t\t\t\t\t\t\tobjectFit: 'contain',\r\n\t\t\t\t\t\t\t\t\t\t\t\t}}\r\n\t\t\t\t\t\t\t\t\t\t\t\tsrc={this.state.coverURL}\r\n\t\t\t\t\t\t\t\t\t\t\t></img>\r\n\t\t\t\t\t\t\t\t\t\t</Paper>\r\n\t\t\t\t\t\t\t\t\t</Grid>\r\n\r\n\t\t\t\t\t\t\t\t\t<Grid item xs className={classes.content2}>\r\n\t\t\t\t\t\t\t\t\t\t<Typography\r\n\t\t\t\t\t\t\t\t\t\t\tcolor=\"inherit\"\r\n\t\t\t\t\t\t\t\t\t\t\talign=\"left\"\r\n\t\t\t\t\t\t\t\t\t\t\t// eslint-disable-next-line react/jsx-no-duplicate-props\r\n\t\t\t\t\t\t\t\t\t\t\tcolor=\"textSecondary\"\r\n\t\t\t\t\t\t\t\t\t\t\tnoWrap\r\n\t\t\t\t\t\t\t\t\t\t\tstyle={{\r\n\t\t\t\t\t\t\t\t\t\t\t\tfontFamily: 'Teko',\r\n\t\t\t\t\t\t\t\t\t\t\t\tfontSize: 16,\r\n\t\t\t\t\t\t\t\t\t\t\t\tmarginTop: '2%',\r\n\t\t\t\t\t\t\t\t\t\t\t}}\r\n\t\t\t\t\t\t\t\t\t\t>\r\n\t\t\t\t\t\t\t\t\t\t\t#{this.state.NFTId}\r\n\t\t\t\t\t\t\t\t\t\t</Typography>\r\n\t\t\t\t\t\t\t\t\t\t<Typography color=\"inherit\" align=\"left\" noWrap style={{ fontFamily: 'Teko', fontSize: 34 }}>\r\n\t\t\t\t\t\t\t\t\t\t\t<b>{this.state.name}</b>\r\n\t\t\t\t\t\t\t\t\t\t</Typography>\r\n\t\t\t\t\t\t\t\t\t\t<Typography\r\n\t\t\t\t\t\t\t\t\t\t\talign=\"justify\"\r\n\t\t\t\t\t\t\t\t\t\t\tcolor=\"textSecondary\"\r\n\t\t\t\t\t\t\t\t\t\t\tparagraph\r\n\t\t\t\t\t\t\t\t\t\t\tstyle={{\r\n\t\t\t\t\t\t\t\t\t\t\t\tmarginTop: '2%',\r\n\t\t\t\t\t\t\t\t\t\t\t\tmaxWidth: '100%',\r\n\t\t\t\t\t\t\t\t\t\t\t\tfontSize: 16,\r\n\t\t\t\t\t\t\t\t\t\t\t}}\r\n\t\t\t\t\t\t\t\t\t\t>\r\n\t\t\t\t\t\t\t\t\t\t\t{this.state.description}\r\n\t\t\t\t\t\t\t\t\t\t</Typography>\r\n\t\t\t\t\t\t\t\t\t\t<Typography\r\n\t\t\t\t\t\t\t\t\t\t\talign=\"left\"\r\n\t\t\t\t\t\t\t\t\t\t\tcolor=\"textPrimary\"\r\n\t\t\t\t\t\t\t\t\t\t\tparagraph\r\n\t\t\t\t\t\t\t\t\t\t\tstyle={{ marginTop: '2%', maxWidth: '65%', fontSize: 20 }}\r\n\t\t\t\t\t\t\t\t\t\t>\r\n\t\t\t\t\t\t\t\t\t\t\t: {this.state.bonusFee} %\r\n\t\t\t\t\t\t\t\t\t\t</Typography>\r\n\t\t\t\t\t\t\t\t\t\t<Typography\r\n\t\t\t\t\t\t\t\t\t\t\talign=\"left\"\r\n\t\t\t\t\t\t\t\t\t\t\tcolor=\"textPrimary\"\r\n\t\t\t\t\t\t\t\t\t\t\tparagraph\r\n\t\t\t\t\t\t\t\t\t\t\tstyle={{\r\n\t\t\t\t\t\t\t\t\t\t\t\tmarginTop: '2%',\r\n\t\t\t\t\t\t\t\t\t\t\t\tmaxWidth: '100%',\r\n\t\t\t\t\t\t\t\t\t\t\t\tfontSize: 18,\r\n\t\t\t\t\t\t\t\t\t\t\t}}\r\n\t\t\t\t\t\t\t\t\t\t>\r\n\t\t\t\t\t\t\t\t\t\t\t: {this.state.priceString}\r\n\t\t\t\t\t\t\t\t\t\t</Typography>\r\n\t\t\t\t\t\t\t\t\t\t<Typography\r\n\t\t\t\t\t\t\t\t\t\t\talign=\"left\"\r\n\t\t\t\t\t\t\t\t\t\t\tcolor=\"textPrimary\"\r\n\t\t\t\t\t\t\t\t\t\t\tparagraph\r\n\t\t\t\t\t\t\t\t\t\t\tstyle={{ marginTop: '1%', maxWidth: '65%', fontSize: 12 }}\r\n\t\t\t\t\t\t\t\t\t\t>\r\n\t\t\t\t\t\t\t\t\t\t\t: {this.state.owner}\r\n\t\t\t\t\t\t\t\t\t\t</Typography>\r\n\t\t\t\t\t\t\t\t\t\t<Typography align=\"left\" color=\"textPrimary\" paragraph style={{ maxWidth: '65%', fontSize: 12 }}>\r\n\t\t\t\t\t\t\t\t\t\t\t: {this.state.childrenNum}\r\n\t\t\t\t\t\t\t\t\t\t</Typography>\r\n\t\t\t\t\t\t\t\t\t\t<Typography align=\"left\" color=\"textPrimary\" paragraph style={{ maxWidth: '65%', fontSize: 12 }}>\r\n\t\t\t\t\t\t\t\t\t\t\tNFT: {this.state.encrypted}\r\n\t\t\t\t\t\t\t\t\t\t</Typography>\r\n\t\t\t\t\t\t\t\t\t\t{buyButton()}\r\n\t\t\t\t\t\t\t\t\t</Grid>\r\n\t\t\t\t\t\t\t\t</Grid>\r\n\t\t\t\t\t\t\t)}\r\n\t\t\t\t\t\t</div>\r\n\t\t\t\t\t</Container>\r\n\t\t\t\t</ThemeProvider>\r\n\t\t\t</Spin>\r\n\t\t)\r\n\t}\r\n}\r\n\r\nexport default withStyles(styles, { withTheme: true })(BuySingle)\r\n//todo  \r\n","/* eslint-disable no-mixed-spaces-and-tabs */\r\nimport React, { Component } from 'react'\r\nimport '../App.css'\r\nimport Button from '@material-ui/core/Button'\r\nimport Grid from '@material-ui/core/Grid'\r\nimport { createTheme, ThemeProvider, withStyles } from '@material-ui/core/styles'\r\nimport Card from '@material-ui/core/Card'\r\nimport CardActions from '@material-ui/core/CardActions'\r\nimport CardContent from '@material-ui/core/CardContent'\r\nimport CardMedia from '@material-ui/core/CardMedia'\r\nimport Container from '@material-ui/core/Container'\r\nimport Typography from '@material-ui/core/Typography'\r\nimport contract from '../utils/contract'\r\nimport TopBar from '../components/TopBar'\r\nimport Skeleton from '@material-ui/lab/Skeleton'\r\nimport { Empty } from 'antd'\r\nimport axios from 'axios'\r\nimport web3 from '../utils/web3'\r\nimport config from '../global/config'\r\nimport Web3 from 'web3';\r\nimport { TOKENPOCKET, METAMASK, LASTCONNECT, MATHWALLET } from '../global/globalsString'\r\n\r\n//TP\r\nconst tp = require('tp-js-sdk');\r\n//\r\nconst mathwallet = require('math-js-sdk');\r\n// eslint-disable-next-line no-unused-vars\r\nconst { backend } = config\r\nconst theme = createTheme({\r\n\tpalette: {\r\n\t\tprimary: {\r\n\t\t\tmain: '#FDFEFE',\r\n\t\t},\r\n\t\tsecondary: {\r\n\t\t\tmain: '#2196f3',\r\n\t\t},\r\n\t},\r\n})\r\n\r\nconst styles = (theme) => ({\r\n\ticon: {\r\n\t\tmarginRight: theme.spacing(2),\r\n\t},\r\n\ttitleFont: {\r\n\t\tfontFamily: 'Teko',\r\n\t},\r\n\tbtn: {\r\n\t\tcolor: '#424949',\r\n\t\tborderWidth: 8,\r\n\t\tborderColor: '#e3f2fd',\r\n\t\tfontSize: 16,\r\n\t},\r\n\theroContent: {\r\n\t\tbackgroundColor: theme.palette.background.paper,\r\n\t\tpadding: theme.spacing(36, 0, 6),\r\n\t},\r\n\tcardGrid: {\r\n\t\tpaddingTop: theme.spacing(8),\r\n\t\tpaddingBottom: theme.spacing(8),\r\n\t},\r\n\tcard: {\r\n\t\theight: '100%',\r\n\t\tdisplay: 'flex',\r\n\t\tflexDirection: 'column',\r\n\t},\r\n\tcardMedia: {\r\n\t\t// paddingTop: '56.25%', // 16:9\r\n\t\tobjectFit: 'contain',\r\n\t\tpaddingTop: '100%', // 16:9\r\n\t},\r\n\tcardContent: {\r\n\t\tflexGrow: 2,\r\n\t},\r\n\tpaper: {\r\n\t\tmarginTop: theme.spacing(7),\r\n\t\ttextAlign: 'center',\r\n\t},\r\n\tcontainer: {\r\n\t\tmaxWidth: '100%',\r\n\t},\r\n\tbtnMain: {\r\n\t\tmarginTop: theme.spacing(3),\r\n\t\tcolor: '#FFFFFF',\r\n\t\tborderWidth: 2,\r\n\t\tborderColor: '#e3f2fd',\r\n\t\tfontSize: 16,\r\n\t\tborderRadius: 25,\r\n\t\twidth: 150,\r\n\t},\r\n\tbtnSecond: {\r\n\t\tmarginTop: theme.spacing(3),\r\n\t\tcolor: '#03A9F4',\r\n\t\tborderWidth: 3,\r\n\t\tborderColor: '#03A9F4',\r\n\t\tfontSize: 16,\r\n\t\tborderRadius: 25,\r\n\t\twidth: 150,\r\n\t},\r\n\ttitle: {\r\n\t\tfontFamily: 'Teko',\r\n\t\tmarginTop: '5%',\r\n\t\t[theme.breakpoints.between('xs', 'sm')]: {\r\n\t\t\tfontSize: 35,\r\n\t\t},\r\n\t\t[theme.breakpoints.between('sm', 'md')]: {\r\n\t\t\tfontSize: 40,\r\n\t\t},\r\n\t\t[theme.breakpoints.between('md', 'lg')]: {\r\n\t\t\tfontSize: 55,\r\n\t\t},\r\n\t\t[theme.breakpoints.between('lg', 'xl')]: {\r\n\t\t\tfontSize: 90,\r\n\t\t},\r\n\t\t[theme.breakpoints.up('xl')]: {\r\n\t\t\tfontSize: 110,\r\n\t\t},\r\n\t},\r\n\ttitle2: {\r\n\t\tfontFamily: 'Teko',\r\n\t\t[theme.breakpoints.between('xs', 'sm')]: {\r\n\t\t\tfontSize: 16,\r\n\t\t},\r\n\t\t[theme.breakpoints.between('sm', 'md')]: {\r\n\t\t\tfontSize: 25,\r\n\t\t},\r\n\t\t[theme.breakpoints.between('md', 'lg')]: {\r\n\t\t\tfontSize: 35,\r\n\t\t},\r\n\t\t[theme.breakpoints.between('lg', 'xl')]: {\r\n\t\t\tfontSize: 45,\r\n\t\t},\r\n\t\t[theme.breakpoints.up('xl')]: {\r\n\t\t\tfontSize: 55,\r\n\t\t},\r\n\t},\r\n})\r\nclass Collections extends Component {\r\n\tconstructor(props) {\r\n\t\tsuper(props)\r\n\t\tthis.state = {\r\n\t\t\tisLogin: false,\r\n\t\t\tuser_address: null,\r\n\t\t\tname: '',\r\n\t\t\tviewable: false,\r\n\t\t\tcards: [],\r\n\t\t\tonloading: false,\r\n\t\t\tSkeletoNumber: 0,\r\n\t\t\tnoNFT: true,\r\n\t\t}\r\n\t}\r\n\tasync componentDidMount () {\r\n\t\t// const accounts = await window.ethereum.request({\r\n\t\t// \tmethod: 'eth_requestAccounts',\r\n\t\t// })\r\n\t\t// if (accounts.length === 0) {\r\n\t\t// \talert('Metamask')\r\n\t\t// }\r\n\r\n\t\tweb3.setProvider(new Web3.providers.HttpProvider('https://matic-mainnet--jsonrpc.datahub.figment.io/apikey/e84b63fff0e37deb30837101f20eb793/'))\r\n\t\tvar account = null;\r\n\t\tvar value, accounts;\r\n\t\tconst lastConnect = localStorage.getItem(LASTCONNECT);\r\n\t\tswitch (lastConnect) {\r\n\t\tcase TOKENPOCKET:\r\n\t\t\tvalue = await tp.getCurrentWallet()\r\n\t\t\taccount = value.data.address;\r\n\t\t\tbreak;\r\n\t\tcase MATHWALLET:\r\n\t\t\tvalue = await mathwallet.getCurrentWallet()\r\n\t\t\taccount = value.address;\r\n\t\t\tbreak;\r\n\t\tcase METAMASK:\r\n\t\t\taccounts = await window.ethereum.request({ method: 'eth_requestAccounts' })\r\n\t\t\taccount = accounts[0];\r\n\t\t\tbreak;\r\n\t\tdefault:\r\n\t\t\t// accounts = await window.ethereum.request({ method: 'eth_requestAccounts' })\r\n\t\t\t// account = accounts[0];\r\n\t\t\tbreak;\r\n\t\t}\r\n\t\tif (account === null) {\r\n\t\t\talert('')\r\n\t\t\twindow.location.href = '/#/';\r\n\t\t\treturn;\r\n\t\t}\r\n\r\n\t\t//const account = accounts[0]\r\n\t\tconst chainId = await window.ethereum.request({ method: 'eth_chainId' })\r\n\t\tif (chainId !== '0x89') {\r\n\t\t\talert('Polygon ')\r\n\t\t\tawait window.ethereum.request({\r\n\t\t\t\tmethod: 'wallet_switchEthereumChain',\r\n\t\t\t\tparams: [\r\n\t\t\t\t\t{\r\n\t\t\t\t\t\tchainId: '0x89',\r\n\t\t\t\t\t},\r\n\t\t\t\t],\r\n\t\t\t})\r\n\t\t}\r\n\r\n\t\tlet cards = []\r\n\r\n\t\tconst nft_number = await contract.methods.balanceOf(account).call()\r\n\t\tconsole.log('nft_number: ', nft_number)\r\n\t\tif (nft_number === 0) {\r\n\t\t\treturn\r\n\t\t}\r\n\r\n\t\tlet ids = await this.getNft(contract, account)\r\n\t\tif (ids.length === 0) {\r\n\t\t\treturn\r\n\t\t}\r\n\r\n\t\tthis.setState({\r\n\t\t\tnoNFT: false,\r\n\t\t})\r\n\t\tlet metadatas = await this.getMetadata(contract, ids)\r\n\t\tfor (let i = 0; i < ids.length; i++) {\r\n\t\t\tlet element = {\r\n\t\t\t\tid: ids[i],\r\n\t\t\t\ttitle: metadatas[i].name,\r\n\t\t\t\tdescription: metadatas[i].description,\r\n\t\t\t\tbonusFee: metadatas[i].attributes.value,\r\n\t\t\t\timage: metadatas[i].image,\r\n\t\t\t}\r\n\t\t\tcards.push(element)\r\n\t\t}\r\n\t\tlet reversed_cards = cards.reverse()\r\n\t\tthis.setState({ viewable: true })\r\n\t\tthis.setState({ cards: reversed_cards })\r\n\t\tthis.setState({\r\n\t\t\tonloading: false,\r\n\t\t\tSkeletoNumber: 0,\r\n\t\t})\r\n\t}\r\n\tcomponentWillUnmount () {\r\n\t\tweb3.setProvider(window.ethereum);\r\n\t}\r\n\r\n  getMetadata = async (contract, ids) => {\r\n  \treturn Promise.all(ids.map(async (id) => {\r\n  \t\tlet ipfs_link = await contract.methods.tokenURI(id).call();\r\n  \t\tvar ipfs_hash_arr = ipfs_link.split('/');\r\n  \t\tvar ipfs_hash = ipfs_hash_arr[ipfs_hash_arr.length - 1];\r\n  \t\tvar meta = 'https://coldcdn.com/api/cdn/v5ynur/ipfs/' + ipfs_hash;\r\n  \t\t// console.debug(\"meta: \" + ids[i] + \" \" + meta)\r\n  \t\ttry {\r\n  \t\t\treturn (await axios({\r\n  \t\t\t\tmethod: 'get',\r\n  \t\t\t\turl: meta,\r\n  \t\t\t\ttimeout: 1000 * 2,\r\n  \t\t\t})).data\r\n  \t\t} catch (err) {\r\n  \t\t\tvar name_holder = 'SparkNFT#' + id;\r\n  \t\t\tvar placeholder = {\r\n  \t\t\t\t'name': name_holder,\r\n  \t\t\t\t'description': 'nft',\r\n  \t\t\t\t'image': 'https://testnets.opensea.io/static/images/placeholder.png',\r\n  \t\t\t\t'attributes': [\r\n  \t\t\t\t\t{\r\n  \t\t\t\t\t\t'display_type': 'boost_percentage',\r\n  \t\t\t\t\t\t'trait_type': 'Bonuse Percentage',\r\n  \t\t\t\t\t\t'value': 0\r\n  \t\t\t\t\t},\r\n  \t\t\t\t\t{\r\n  \t\t\t\t\t\t'trait_type': 'File Address',\r\n  \t\t\t\t\t\t'value': 'file_url'\r\n  \t\t\t\t\t}\r\n  \t\t\t\t]\r\n  \t\t\t};\r\n  \t\t\treturn placeholder;\r\n  \t\t}\r\n  \t}));\r\n  }\r\n\r\n  getNft = async (nft, account) => {\r\n  \t// let balanceId = [];\r\n  \t//0x9452644E9fdd59bD46A4d9eC24462995ADfD8d01\r\n  \tvar checksum_address = web3.utils.toChecksumAddress(account);\r\n  \tvar url = backend + '/api/v1/nft/list?owner=' + checksum_address\r\n  \tconsole.debug('owner: ', checksum_address)\r\n  \ttry {\r\n  \t\tvar res = await axios.get(url)\r\n  \t\t// balanceId = res.data.nft\r\n  \t\tthis.setState({\r\n  \t\t\tonloading: true,\r\n  \t\t\tSkeletoNumber: res.data.nft.length\r\n  \t\t})\r\n  \t\t// return balanceId;\r\n  \t\treturn res.data.nft\r\n  \t} catch (error) {\r\n  \t\t// alert('nft')\r\n  \t\treturn [];\r\n  \t}\r\n  };\r\n\r\n\r\n  renderDescription = (description) => {\r\n  \tif (description.length <= 150) {\r\n  \t\treturn description\r\n  \t} else {\r\n  \t\tlet newDescription = description.substring(0, 150) + '..........'\r\n  \t\treturn newDescription\r\n  \t}\r\n  }\r\n\r\n  render () {\r\n  \tconst { classes } = this.props\r\n  \tlet obj = this\r\n  \twindow.ethereum.on('chainChanged', handleChainChanged)\r\n\r\n  \tfunction handleChainChanged (_chainId) {\r\n  \t\tconsole.log(_chainId)\r\n  \t\twindow.location.reload()\r\n  \t}\r\n\r\n  \tfunction showCard (card, index) {\r\n  \t\tlet res = (\r\n  \t\t\t<Grid item key={index} xs={12} sm={6} md={4}>\r\n  \t\t\t\t{card ? (\r\n  \t\t\t\t\t<Card className={classes.card}>\r\n  \t\t\t\t\t\t<CardMedia className={classes.cardMedia} image={card.image} title=\"Image title\" />\r\n  \t\t\t\t\t\t<CardContent className={classes.cardContent}>\r\n  \t\t\t\t\t\t\t<Typography gutterBottom variant=\"h5\" component=\"h2\">\r\n  \t\t\t\t\t\t\t\t<b>{card.title}</b>\r\n  \t\t\t\t\t\t\t</Typography>\r\n  \t\t\t\t\t\t\t<Typography>{obj.renderDescription(card.description)}</Typography>\r\n  \t\t\t\t\t\t</CardContent>\r\n  \t\t\t\t\t\t<CardActions>\r\n  \t\t\t\t\t\t\t<Button size=\"small\" variant=\"contained\" color=\"primary\" href={'/#/NFT/' + card.id}>\r\n  \t\t\t\t\t\t\t\t<b> </b>\r\n  \t\t\t\t\t\t\t</Button>\r\n  \t\t\t\t\t\t\t<Typography variant=\"body2\" gutterBottom>\r\n  \t\t\t\t\t\t\t\t<b>NFT id: {card.id} </b>\r\n  \t\t\t\t\t\t\t</Typography>\r\n  \t\t\t\t\t\t</CardActions>\r\n  \t\t\t\t\t</Card>\r\n  \t\t\t\t) : (\r\n  \t\t\t\t\t<Card className={classes.card}>\r\n  \t\t\t\t\t\t<Skeleton variant=\"rect\" style={{ marginLeft: 70 }} width={260} height={288} />\r\n  \t\t\t\t\t\t<Skeleton width=\"60%\" style={{ marginTop: 40 }} height={33} />\r\n  \t\t\t\t\t\t<Skeleton height={33} />\r\n  \t\t\t\t\t\t<Skeleton height={33} />\r\n  \t\t\t\t\t\t<Skeleton height={33} />\r\n  \t\t\t\t\t</Card>\r\n  \t\t\t\t)}\r\n  \t\t\t</Grid>\r\n  \t\t)\r\n\r\n  \t\treturn res\r\n  \t}\r\n  \treturn (\r\n  \t\t<div>\r\n  \t\t\t<ThemeProvider theme={theme}>\r\n  \t\t\t\t<TopBar />\r\n  \t\t\t\t<Container component=\"main\" className={classes.container}>\r\n  \t\t\t\t\t<div className={classes.paper}>\r\n  \t\t\t\t\t\t<Grid container justifyContent=\"center\">\r\n  \t\t\t\t\t\t\t<Grid item xs={10}>\r\n  \t\t\t\t\t\t\t\t<Typography color=\"inherit\" noWrap className={classes.title}>\r\n  \t\t\t\t\t\t\t\t\t<b></b>\r\n  \t\t\t\t\t\t\t\t</Typography>\r\n  \t\t\t\t\t\t\t\t<Typography color=\"inherit\" noWrap className={classes.title2}>\r\n  \t\t\t\t\t\t\t\t\t<b>An ERC721 Token Trying to Solve Existing Publishing Dilemma</b>\r\n  \t\t\t\t\t\t\t\t</Typography>\r\n  \t\t\t\t\t\t\t</Grid>\r\n  \t\t\t\t\t\t</Grid>\r\n  \t\t\t\t\t</div>\r\n  \t\t\t\t</Container>\r\n  \t\t\t</ThemeProvider>\r\n  \t\t\t{this.state.noNFT ? (\r\n  \t\t\t\t<Empty\r\n  \t\t\t\t\tdescription={\r\n  \t\t\t\t\t\t<span style={{ fontFamily: 'Teko' }}>\r\n  \t\t\t\t\t\t\t<b>NFT</b>\r\n  \t\t\t\t\t\t</span>\r\n  \t\t\t\t\t}\r\n  \t\t\t\t\tstyle={{ marginTop: 100 }}\r\n  \t\t\t\t/>\r\n  \t\t\t) : (\r\n  \t\t\t\t<main>\r\n  \t\t\t\t\t{\r\n  \t\t\t\t\t\t<Container className={classes.cardGrid} maxWidth=\"md\">\r\n  \t\t\t\t\t\t\t<Grid container spacing={4}>\r\n  \t\t\t\t\t\t\t\t{(this.state.onloading ? Array.from(new Array(this.state.SkeletoNumber)) : this.state.cards).map(\r\n  \t\t\t\t\t\t\t\t\t(card, index) => {\r\n  \t\t\t\t\t\t\t\t\t\treturn showCard(card, index)\r\n  \t\t\t\t\t\t\t\t\t}\r\n  \t\t\t\t\t\t\t\t)}\r\n  \t\t\t\t\t\t\t</Grid>\r\n  \t\t\t\t\t\t</Container>\r\n  \t\t\t\t\t}\r\n  \t\t\t\t</main>\r\n  \t\t\t)}\r\n  \t\t</div>\r\n  \t)\r\n  }\r\n}\r\n\r\nexport default withStyles(styles, { withTheme: true })(Collections)\r\n//todo \r\n","import React, { Component } from 'react'\r\nimport '../App.css'\r\nimport Button from '@material-ui/core/Button'\r\nimport Grid from '@material-ui/core/Grid'\r\nimport { createTheme, ThemeProvider, withStyles } from '@material-ui/core/styles'\r\nimport Typography from '@material-ui/core/Typography'\r\nimport TopBar from '../components/TopBar'\r\nimport { Paper, Container, Link } from '@material-ui/core'\r\nimport axios from 'axios'\r\nimport contract from '../utils/contract'\r\nimport web3 from '../utils/web3'\r\nimport { ArrowLeftOutlined, FireOutlined } from '@ant-design/icons'\r\nimport Skeleton from '@material-ui/lab/Skeleton'\r\nimport { Progress, message, Spin } from 'antd'\r\nimport config from '../global/config'\r\nimport { TOKENPOCKET, METAMASK, LASTCONNECT, MATHWALLET } from '../global/globalsString'\r\nconst { gateway, backend, sparkAddr } = config\r\n\r\nconst mathwallet = require('math-js-sdk');\r\nconst tp = require('tp-js-sdk')\r\nconst abi = require('erc-20-abi')\r\n\r\nconst theme = createTheme({\r\n\tpalette: {\r\n\t\tprimary: {\r\n\t\t\tmain: '#2196f3',\r\n\t\t},\r\n\t\tsecondary: {\r\n\t\t\tmain: '#FDFEFE',\r\n\t\t},\r\n\t},\r\n})\r\n\r\nconst styles = (theme) => ({\r\n\tcontainer: {\r\n\t\tmaxWidth: 1500,\r\n\t\t// backgroundColor: '#2196f3'\r\n\t},\r\n\tbtnMain: {\r\n\t\tmarginTop: theme.spacing(3),\r\n\t\tcolor: '#FFFFFF',\r\n\t\tbackgroundColor: '#03A9F4',\r\n\t\tborderWidth: 3,\r\n\t\t// borderColor: '#03A9F4',\r\n\t\tfontSize: 16,\r\n\t\tborderRadius: 25,\r\n\t\twidth: 150,\r\n\t\tmaxWidth: '20rem',\r\n\t\tminWidth: '10rem',\r\n\t},\r\n\tbtnSecond: {\r\n\t\tmarginTop: theme.spacing(3),\r\n\t\tcolor: '#03A9F4',\r\n\t\tborderWidth: 3,\r\n\t\tborderColor: '#03A9F4',\r\n\t\tfontSize: 16,\r\n\t\tborderRadius: 25,\r\n\t\twidth: 150,\r\n\t\tmaxWidth: '20rem',\r\n\t\tminWidth: '10rem',\r\n\t},\r\n\tpaper: {\r\n\t\tmarginTop: theme.spacing(1),\r\n\t\ttextAlign: 'center',\r\n\t\tmaxWidth: 1400,\r\n\t},\r\n\tcontent: {\r\n\t\tfontFamily: 'Teko',\r\n\t\t[theme.breakpoints.between('xs', 'sm')]: {\r\n\t\t\tjustifyContent: 'flex-start',\r\n\t\t\talignItems: 'flex-start',\r\n\t\t},\r\n\t\t[theme.breakpoints.between('sm', 'md')]: {\r\n\t\t\tjustifyContent: 'flex-start',\r\n\t\t\talignItems: 'flex-start',\r\n\t\t},\r\n\t\t[theme.breakpoints.between('md', 'lg')]: {\r\n\t\t\tjustifyContent: 'flex-start',\r\n\t\t\talignItems: 'flex-start',\r\n\t\t},\r\n\t\t[theme.breakpoints.between('lg', 'xl')]: {\r\n\t\t\tjustifyContent: 'center',\r\n\t\t\talignItems: 'flex-start',\r\n\t\t},\r\n\t\t[theme.breakpoints.up('xl')]: {\r\n\t\t\tjustifyContent: 'center',\r\n\t\t\talignItems: 'flex-start',\r\n\t\t},\r\n\t},\r\n\timagePaper: {\r\n\t\t[theme.breakpoints.between('xs', 'sm')]: {\r\n\t\t\tbackgroundColor: '#EFEBE9',\r\n\t\t\twidth: 330,\r\n\t\t\theight: 420,\r\n\t\t\tmarginLeft: 10,\r\n\t\t},\r\n\t\t[theme.breakpoints.between('sm', 'md')]: {\r\n\t\t\tbackgroundColor: '#EFEBE9',\r\n\t\t\twidth: 340,\r\n\t\t\theight: 440,\r\n\t\t\tmarginLeft: 10,\r\n\t\t},\r\n\t\t[theme.breakpoints.between('md', 'lg')]: {\r\n\t\t\tbackgroundColor: '#EFEBE9',\r\n\t\t\twidth: 350,\r\n\t\t\theight: 465,\r\n\t\t\tmarginLeft: 10,\r\n\t\t},\r\n\t\t[theme.breakpoints.between('lg', 'xl')]: {\r\n\t\t\tbackgroundColor: '#EFEBE9',\r\n\t\t\twidth: 350,\r\n\t\t\tmarginLeft: 10,\r\n\t\t},\r\n\t\t[theme.breakpoints.up('xl')]: {\r\n\t\t\tbackgroundColor: '#EFEBE9',\r\n\t\t\twidth: 350,\r\n\t\t\tmarginLeft: 10,\r\n\t\t},\r\n\t},\r\n\timageStyle: {\r\n\t\tobjectFit: 'contain',\r\n\t\t[theme.breakpoints.between('xs', 'sm')]: {\r\n\t\t\twidth: 280,\r\n\t\t\theight: 365,\r\n\t\t\tmarginTop: 20,\r\n\t\t\tmarginBottom: 50,\r\n\t\t},\r\n\t\t[theme.breakpoints.between('sm', 'md')]: {\r\n\t\t\twidth: 290,\r\n\t\t\theight: 385,\r\n\t\t\tmarginTop: 20,\r\n\t\t\tmarginBottom: 50,\r\n\t\t},\r\n\t\t[theme.breakpoints.between('md', 'lg')]: {\r\n\t\t\twidth: 300,\r\n\t\t\theight: 420,\r\n\t\t\tmarginTop: 20,\r\n\t\t\tmarginBottom: 50,\r\n\t\t},\r\n\t\t[theme.breakpoints.between('lg', 'xl')]: {\r\n\t\t\twidth: 300,\r\n\t\t\tmarginTop: 20,\r\n\t\t\tmarginBottom: 50,\r\n\t\t},\r\n\t\t[theme.breakpoints.up('xl')]: {\r\n\t\t\twidth: 300,\r\n\t\t\tmarginTop: 20,\r\n\t\t\tmarginBottom: 50,\r\n\t\t},\r\n\t},\r\n\tcontent2: {\r\n\t\tfontFamily: 'Teko',\r\n\t\t[theme.breakpoints.between('xs', 'sm')]: {\r\n\t\t\tmarginLeft: 10,\r\n\t\t\tmaxWidth: 500,\r\n\t\t},\r\n\t\t[theme.breakpoints.between('sm', 'md')]: {\r\n\t\t\tmarginLeft: 90,\r\n\t\t\tmaxWidth: 500,\r\n\t\t},\r\n\t\t[theme.breakpoints.between('md', 'lg')]: {\r\n\t\t\tmarginLeft: 80,\r\n\t\t\tmaxWidth: 500,\r\n\t\t},\r\n\t\t[theme.breakpoints.between('lg', 'xl')]: {\r\n\t\t\tmarginLeft: 50,\r\n\t\t\tmaxWidth: 500,\r\n\t\t},\r\n\t\t[theme.breakpoints.up('xl')]: {\r\n\t\t\tmarginLeft: 60,\r\n\t\t\tmaxWidth: 500,\r\n\t\t},\r\n\t},\r\n\ttitle: {\r\n\t\tfontFamily: 'Teko',\r\n\t\t[theme.breakpoints.between('xs', 'sm')]: {\r\n\t\t\tfontSize: 48,\r\n\t\t},\r\n\t\t[theme.breakpoints.between('sm', 'md')]: {\r\n\t\t\tfontSize: 60,\r\n\t\t},\r\n\t\t[theme.breakpoints.between('md', 'lg')]: {\r\n\t\t\tfontSize: 70,\r\n\t\t},\r\n\t\t[theme.breakpoints.between('lg', 'xl')]: {\r\n\t\t\tfontSize: 75,\r\n\t\t},\r\n\t\t[theme.breakpoints.up('xl')]: {\r\n\t\t\tfontSize: 80,\r\n\t\t},\r\n\t},\r\n})\r\nclass NFTSpark extends Component {\r\n\tstate = {\r\n\t\tName: '',\r\n\t\tDescription: '',\r\n\t\tBonusFee: 0,\r\n\t\tCover: '',\r\n\t\tprice: '',\r\n\t\tpriceString: '',\r\n\t\tonLoading: false,\r\n\t\tloadItem: true,\r\n\t\topen: false,\r\n\t\tapproved: false,\r\n\t\ttokenAddr: '',\r\n\t\ttokenSymbol: '',\r\n\t\tisEncrypt: true,\r\n\t\tpercentage: 0,\r\n\t\tshowProgress: false,\r\n\t\tfileType: '',\r\n\t\tremainShillTimes: 0,\r\n\t\tmaxShillTimes: 0,\r\n\t}\r\n\r\n\tasync componentDidMount() {\r\n\t\t//?RPC\r\n\t\tconst chainId = await window.ethereum.request({ method: 'eth_chainId' })\r\n\t\tif (chainId !== '0x89') {\r\n\t\t\talert('Polygon ')\r\n\t\t\tawait window.ethereum.request({\r\n\t\t\t\tmethod: 'wallet_switchEthereumChain',\r\n\t\t\t\tparams: [\r\n\t\t\t\t\t{\r\n\t\t\t\t\t\tchainId: '0x89',\r\n\t\t\t\t\t},\r\n\t\t\t\t],\r\n\t\t\t})\r\n\t\t}\r\n\r\n\t\t// let account\r\n\t\t// const lastConnect = localStorage.getItem(LASTCONNECT)\r\n\t\t// if (lastConnect === METAMASK) {\r\n\t\t// \tconst accounts = await window.ethereum.request({\r\n\t\t// \t\tmethod: 'eth_requestAccounts',\r\n\t\t// \t})\r\n\t\t// \taccount = accounts[0]\r\n\t\t// } else if (lastConnect === TOKENPOCKET) {\r\n\t\t// \tawait tp.getWallet({ walletTypes: ['matic'], switch: false }).then((value) => {\r\n\t\t// \t\taccount = value.data.address\r\n\t\t// \t})\r\n\t\t// }\r\n\t\tvar account = null;\r\n\t\tvar value, accounts;\r\n\t\tconst lastConnect = localStorage.getItem(LASTCONNECT)\r\n\t\tswitch (lastConnect) {\r\n\t\tcase TOKENPOCKET:\r\n\t\t\tvalue = await tp.getCurrentWallet()\r\n\t\t\taccount = value.data.address;\r\n\t\t\tbreak;\r\n\t\tcase MATHWALLET:\r\n\t\t\tvalue = await mathwallet.getCurrentWallet()\r\n\t\t\taccount = value.address;\r\n\t\t\tbreak;\r\n\t\tcase METAMASK:\r\n\t\t\taccounts = await window.ethereum.request({ method: 'eth_requestAccounts' })\r\n\t\t\taccount = accounts[0];\r\n\t\t\tbreak;\r\n\t\tdefault:\r\n\t\t\t// accounts = await window.ethereum.request({ method: 'eth_requestAccounts' })\r\n\t\t\t// account = accounts[0];\r\n\t\t\tbreak;\r\n\t\t}\r\n\r\n\t\tif (account === null) {\r\n\t\t\talert('');\r\n\t\t\twindow.location.href = '/#/';\r\n\t\t\treturn;\r\n\t\t}\r\n\r\n\r\n\t\t// const accounts = await window.ethereum.request({ method: 'eth_requestAccounts' })\r\n\t\t// const account = accounts[0]\r\n\r\n\t\tconst meta = await contract.methods.tokenURI(this.props.match.params.id).call()\r\n\t\tlet hash = meta.split('/')\r\n\t\tthis.setState({ hash: hash[hash.length - 1] })\r\n\t\tlet isEncrypt\r\n\t\ttry {\r\n\t\t\tlet url = gateway + this.state.hash\r\n\t\t\tconst res = await axios.get(url)\r\n\t\t\tlet data = res.data\r\n\t\t\tlet bouns = data.attributes[0].value\r\n\t\t\tlet fileAddr = data.attributes[1].value\r\n\t\t\tlet fileType = data.attributes[2].value\r\n\t\t\tif (data.attributes[3].value === 'FALSE') {\r\n\t\t\t\tisEncrypt = false\r\n\t\t\t} else {\r\n\t\t\t\tisEncrypt = true\r\n\t\t\t}\r\n\t\t\tthis.setState({\r\n\t\t\t\tName: data.name,\r\n\t\t\t\tDescription: data.description,\r\n\t\t\t\tBonusFee: bouns,\r\n\t\t\t\tCover: data.image,\r\n\t\t\t\tfileType: fileType,\r\n\t\t\t\tdataUrl: fileAddr,\r\n\t\t\t\tisEncrypt: isEncrypt,\r\n\t\t\t})\r\n\t\t} catch (error) {\r\n\t\t\tmessage.error({\r\n\t\t\t\tcontent: `Error: ${error}`,\r\n\t\t\t\tclassName: 'custom-class',\r\n\t\t\t\tstyle: {\r\n\t\t\t\t\tmarginTop: '10vh',\r\n\t\t\t\t},\r\n\t\t\t})\r\n\t\t}\r\n\r\n\t\tconst price = await contract.methods.getShillPriceByNFTId(this.props.match.params.id).call()\r\n\t\tconst token_addr = await contract.methods.getTokenAddrByNFTId(this.props.match.params.id).call()\r\n\r\n\t\tthis.setState({\r\n\t\t\tprice: price,\r\n\t\t\ttokenAddr: token_addr,\r\n\t\t})\r\n\r\n\t\tif (token_addr == '0x0000000000000000000000000000000000000000') {\r\n\t\t\tlet price_with_decimal = price / 10 ** 18\r\n\t\t\tprice_with_decimal = price_with_decimal + ' MATIC'\r\n\t\t\tthis.setState({\r\n\t\t\t\tpriceString: price_with_decimal,\r\n\t\t\t\tapproved: true,\r\n\t\t\t})\r\n\t\t} else {\r\n\t\t\ttry {\r\n\t\t\t\tconst token_contract = new web3.eth.Contract(abi, token_addr)\r\n\t\t\t\tconst decimals = await token_contract.methods.decimals().call()\r\n\t\t\t\tconst token_symbol = await token_contract.methods.symbol().call()\r\n\t\t\t\tlet price_with_decimal = price / 10 ** decimals\r\n\t\t\t\tprice_with_decimal = price_with_decimal + ' ' + token_symbol\r\n\t\t\t\tthis.setState({ priceString: price_with_decimal })\r\n\t\t\t\tconst approved_amount = await token_contract.methods.allowance(account, sparkAddr).call()\r\n\t\t\t\tif (approved_amount >= price) {\r\n\t\t\t\t\tthis.setState({\r\n\t\t\t\t\t\tapproved: true,\r\n\t\t\t\t\t})\r\n\t\t\t\t} else {\r\n\t\t\t\t\tthis.setState({\r\n\t\t\t\t\t\tapproved: false,\r\n\t\t\t\t\t})\r\n\t\t\t\t}\r\n\t\t\t} catch (error) {\r\n\t\t\t\tmessage.error({\r\n\t\t\t\t\tcontent: `Error: ${error}`,\r\n\t\t\t\t\tclassName: 'custom-class',\r\n\t\t\t\t\tstyle: {\r\n\t\t\t\t\t\tmarginTop: '10vh',\r\n\t\t\t\t\t},\r\n\t\t\t\t})\r\n\t\t\t}\r\n\t\t}\r\n\r\n\t\tconst leafUrl = backend + '/api/v1/nft/info?nft_id=' + this.props.match.params.id\r\n\t\ttry {\r\n\t\t\tconst res = await axios.get(leafUrl)\r\n\t\t\tlet children_num = res.data.children_count\r\n\t\t\tlet remain_shill_times = res.data.max_shill_times - res.data.shill_times\r\n\t\t\tlet max_shill_times = res.data.max_shill_times\r\n\t\t\tthis.setState({\r\n\t\t\t\tremainShillTimes: remain_shill_times,\r\n\t\t\t\tmaxShillTimes: max_shill_times,\r\n\t\t\t})\r\n\t\t\tif (res.data.suggest_next_nft === this.props.match.params.id) {\r\n\t\t\t\tthis.setState({\r\n\t\t\t\t\tchildrenNum: children_num,\r\n\t\t\t\t\trecommendNFT: res.data.suggest_next_nft,\r\n\t\t\t\t\tshowRecommend: false,\r\n\t\t\t\t})\r\n\t\t\t} else if (res.data.suggest_next_nft === '0') {\r\n\t\t\t\tthis.setState({\r\n\t\t\t\t\tchildrenNum: children_num,\r\n\t\t\t\t\trecommendNFT: res.data.suggest_next_nft,\r\n\t\t\t\t\tshowRecommend: false,\r\n\t\t\t\t})\r\n\t\t\t} else {\r\n\t\t\t\tthis.setState({\r\n\t\t\t\t\tchildrenNum: children_num,\r\n\t\t\t\t\trecommendNFT: res.data.suggest_next_nft,\r\n\t\t\t\t\tshowRecommend: true,\r\n\t\t\t\t})\r\n\t\t\t}\r\n\t\t} catch (error) {\r\n\t\t\tif (error.response === undefined) {\r\n\t\t\t\tmessage.error({\r\n\t\t\t\t\tcontent: '',\r\n\t\t\t\t\tclassName: 'custom-class',\r\n\t\t\t\t\tstyle: {\r\n\t\t\t\t\t\tmarginTop: '10vh',\r\n\t\t\t\t\t},\r\n\t\t\t\t})\r\n\t\t\t\treturn\r\n\t\t\t}\r\n\t\t\tif (error.response.status === 400 && error.response.data.message.includes('children not found')) {\r\n\t\t\t\tconsole.debug('no children')\r\n\t\t\t} else {\r\n\t\t\t\tmessage.error({\r\n\t\t\t\t\tcontent: `nft ${error}`,\r\n\t\t\t\t\tclassName: 'custom-class',\r\n\t\t\t\t\tstyle: {\r\n\t\t\t\t\t\tmarginTop: '10vh',\r\n\t\t\t\t\t},\r\n\t\t\t\t})\r\n\t\t\t}\r\n\t\t} finally {\r\n\t\t\tthis.setState({\r\n\t\t\t\tloadItem: false,\r\n\t\t\t})\r\n\t\t}\r\n\t}\r\n\r\n\thandleClickLink = () => {\r\n\t\tlet new_url = '/#/NFT/Spark/' + this.state.recommendNFT\r\n\t\twindow.open(new_url)\r\n\t}\r\n\r\n\tdownloadIPFS = async () => {\r\n\t\tlet obj = this\r\n\t\tlet dataSplits = this.state.dataUrl.split('/')\r\n\t\tlet dataHash = dataSplits[dataSplits.length - 1]\r\n\t\tlet dataUrl = gateway + dataHash\r\n\t\tthis.setState({\r\n\t\t\tshowProgress: true,\r\n\t\t})\r\n\t\tlet open_config = {\r\n\t\t\turl: dataUrl, //your url\r\n\t\t\tmethod: 'GET',\r\n\t\t\tresponseType: 'blob', // important\r\n\t\t\tonDownloadProgress(progress) {\r\n\t\t\t\tlet percentage = Math.round((progress.loaded / progress.total) * 100)\r\n\t\t\t\tobj.setState({\r\n\t\t\t\t\tpercentage: percentage,\r\n\t\t\t\t})\r\n\t\t\t},\r\n\t\t}\r\n\r\n\t\ttry {\r\n\t\t\tconst response = await axios(open_config)\r\n\t\t\tconst url = window.URL.createObjectURL(new Blob([response.data]))\r\n\t\t\tconst link = document.createElement('a')\r\n\t\t\tlink.href = url\r\n\t\t\tlink.style.display = 'none'\r\n\t\t\tlet suffix = '.' + this.state.fileType\r\n\t\t\tlet fileName = this.state.Name + suffix\r\n\t\t\tlink.download = fileName\r\n\t\t\tdocument.body.appendChild(link)\r\n\t\t\tlink.click()\r\n\t\t\tdocument.body.removeChild(link)\r\n\t\t\tURL.revokeObjectURL(url)\r\n\t\t} catch (error) {\r\n\t\t\tmessage.error({\r\n\t\t\t\tcontent: `Error: ${error}`,\r\n\t\t\t\tclassName: 'custom-class',\r\n\t\t\t\tstyle: {\r\n\t\t\t\t\tmarginTop: '10vh',\r\n\t\t\t\t},\r\n\t\t\t})\r\n\t\t} finally {\r\n\t\t\tthis.setState({ showProgress: false })\r\n\t\t}\r\n\t}\r\n\r\n\tapprove = async () => {\r\n\t\tconst accounts = await window.ethereum.request({\r\n\t\t\tmethod: 'eth_requestAccounts',\r\n\t\t})\r\n\t\tconst account = accounts[0]\r\n\t\tthis.setState({ onLoading: true })\r\n\r\n\t\tlet obj = this\r\n\t\ttry {\r\n\t\t\tconst price = this.state.price.toString()\r\n\t\t\tconst token_contract = new web3.eth.Contract(abi, this.state.tokenAddr)\r\n\t\t\tlet gasPrice = await web3.eth.getGasPrice()\r\n\t\t\tlet new_gas_price = Math.floor(parseInt(gasPrice) * 1.5).toString()\r\n\t\t\ttoken_contract.methods\r\n\t\t\t\t.approve(sparkAddr, price)\r\n\t\t\t\t.send({\r\n\t\t\t\t\tfrom: account,\r\n\t\t\t\t\tgasPrice: new_gas_price,\r\n\t\t\t\t})\r\n\t\t\t\t.on('receipt', function () {\r\n\t\t\t\t\tmessage.success({\r\n\t\t\t\t\t\tcontent: '',\r\n\t\t\t\t\t\tclassName: 'custom-class',\r\n\t\t\t\t\t\tstyle: {\r\n\t\t\t\t\t\t\tmarginTop: '10vh',\r\n\t\t\t\t\t\t},\r\n\t\t\t\t\t})\r\n\t\t\t\t\tobj.setState({\r\n\t\t\t\t\t\tonLoading: false,\r\n\t\t\t\t\t\tapproved: true,\r\n\t\t\t\t\t})\r\n\t\t\t\t})\r\n\t\t\t\t.on('error', function (error) {\r\n\t\t\t\t\tobj.setState({\r\n\t\t\t\t\t\tonLoading: false,\r\n\t\t\t\t\t})\r\n\t\t\t\t\tmessage.error({\r\n\t\t\t\t\t\tcontent: `Error: ${error.message}`,\r\n\t\t\t\t\t\tclassName: 'custom-class',\r\n\t\t\t\t\t\tstyle: {\r\n\t\t\t\t\t\t\tmarginTop: '10vh',\r\n\t\t\t\t\t\t},\r\n\t\t\t\t\t})\r\n\t\t\t\t})\r\n\t\t} catch (error) {\r\n\t\t\tmessage.error({\r\n\t\t\t\tcontent: `Error: ${error}`,\r\n\t\t\t\tclassName: 'custom-class',\r\n\t\t\t\tstyle: {\r\n\t\t\t\t\tmarginTop: '10vh',\r\n\t\t\t\t},\r\n\t\t\t})\r\n\t\t}\r\n\t}\r\n\r\n\tshill = async () => {\r\n\t\t// const accounts = await window.ethereum.request({ method: 'eth_requestAccounts' })\r\n\t\t// const account = accounts[0]\r\n\t\tlet account\r\n\t\tconst lastConnect = localStorage.getItem(LASTCONNECT)\r\n\t\tif (lastConnect === METAMASK) {\r\n\t\t\tconst accounts = await window.ethereum.request({\r\n\t\t\t\tmethod: 'eth_requestAccounts',\r\n\t\t\t})\r\n\t\t\taccount = accounts[0]\r\n\t\t} else if (lastConnect === TOKENPOCKET) {\r\n\t\t\tawait tp.getWallet({ walletTypes: ['matic'], switch: false }).then((value) => {\r\n\t\t\t\taccount = value.data.address\r\n\t\t\t})\r\n\t\t}\r\n\t\tlet gasPrice = await web3.eth.getGasPrice()\r\n\t\tlet new_gas_price = Math.floor(parseInt(gasPrice) * 1.5).toString()\r\n\t\tlet obj = this\r\n\r\n\t\tthis.setState({ onLoading: true })\r\n\t\tif (this.state.tokenAddr == '0x0000000000000000000000000000000000000000') {\r\n\t\t\tcontract.methods\r\n\t\t\t\t.acceptShill(this.props.match.params.id)\r\n\t\t\t\t.send({\r\n\t\t\t\t\tfrom: account,\r\n\t\t\t\t\tvalue: this.state.price,\r\n\t\t\t\t\tgasPrice: new_gas_price,\r\n\t\t\t\t})\r\n\t\t\t\t.on('receipt', function () {\r\n\t\t\t\t\tmessage.success({\r\n\t\t\t\t\t\tcontent: '',\r\n\t\t\t\t\t\tclassName: 'custom-class',\r\n\t\t\t\t\t\tstyle: {\r\n\t\t\t\t\t\t\tmarginTop: '10vh',\r\n\t\t\t\t\t\t},\r\n\t\t\t\t\t})\r\n\t\t\t\t\tobj.setState({\r\n\t\t\t\t\t\tonLoading: false,\r\n\t\t\t\t\t\tonSale: true,\r\n\t\t\t\t\t})\r\n\t\t\t\t})\r\n\t\t\t\t.on('error', function (error) {\r\n\t\t\t\t\tobj.setState({\r\n\t\t\t\t\t\tonLoading: false,\r\n\t\t\t\t\t})\r\n\t\t\t\t\tmessage.error({\r\n\t\t\t\t\t\tcontent: `Error: ${error.message}`,\r\n\t\t\t\t\t\tclassName: 'custom-class',\r\n\t\t\t\t\t\tstyle: {\r\n\t\t\t\t\t\t\tmarginTop: '10vh',\r\n\t\t\t\t\t\t},\r\n\t\t\t\t\t})\r\n\t\t\t\t})\r\n\t\t} else {\r\n\t\t\tcontract.methods\r\n\t\t\t\t.acceptShill(this.props.match.params.id)\r\n\t\t\t\t.send({\r\n\t\t\t\t\tfrom: account,\r\n\t\t\t\t\tgasPrice: new_gas_price,\r\n\t\t\t\t})\r\n\t\t\t\t.on('receipt', function () {\r\n\t\t\t\t\tmessage.success({\r\n\t\t\t\t\t\tcontent: '',\r\n\t\t\t\t\t\tclassName: 'custom-class',\r\n\t\t\t\t\t\tstyle: {\r\n\t\t\t\t\t\t\tmarginTop: '10vh',\r\n\t\t\t\t\t\t},\r\n\t\t\t\t\t})\r\n\t\t\t\t\tobj.setState({\r\n\t\t\t\t\t\tonLoading: false,\r\n\t\t\t\t\t\tonSale: true,\r\n\t\t\t\t\t})\r\n\t\t\t\t})\r\n\t\t\t\t.on('error', function (error) {\r\n\t\t\t\t\tobj.setState({\r\n\t\t\t\t\t\tonLoading: false,\r\n\t\t\t\t\t})\r\n\t\t\t\t\tmessage.error({\r\n\t\t\t\t\t\tcontent: `Error: ${error.message}`,\r\n\t\t\t\t\t\tclassName: 'custom-class',\r\n\t\t\t\t\t\tstyle: {\r\n\t\t\t\t\t\t\tmarginTop: '10vh',\r\n\t\t\t\t\t\t},\r\n\t\t\t\t\t})\r\n\t\t\t\t})\r\n\t\t}\r\n\t}\r\n\r\n\trender() {\r\n\t\tconst { classes } = this.props\r\n\t\tconst showBtn = () => {\r\n\t\t\tif (this.state.showRecommend) {\r\n\t\t\t\treturn (\r\n\t\t\t\t\t<div>\r\n\t\t\t\t\t\t{this.state.isEncrypt ? (\r\n\t\t\t\t\t\t\t<Grid container justifyContent=\"space-around\">\r\n\t\t\t\t\t\t\t\t<Button\r\n\t\t\t\t\t\t\t\t\tsize=\"large\"\r\n\t\t\t\t\t\t\t\t\tstyle={{ fontSize: '3rem' }}\r\n\t\t\t\t\t\t\t\t\tvariant=\"contained\"\r\n\t\t\t\t\t\t\t\t\tclassName={classes.btnMain}\r\n\t\t\t\t\t\t\t\t\tdisabled\r\n\t\t\t\t\t\t\t\t>\r\n\t\t\t\t\t\t\t\t\t<Typography variant=\"button\" component=\"h2\" gutterBottom style={{ color: '#FFFFFF' }}>\r\n\t\t\t\t\t\t\t\t\t\t<font size=\"4\">   </font>\r\n\t\t\t\t\t\t\t\t\t</Typography>\r\n\t\t\t\t\t\t\t\t</Button>\r\n\t\t\t\t\t\t\t\t<Grid item>\r\n\t\t\t\t\t\t\t\t\t<Button\r\n\t\t\t\t\t\t\t\t\t\tsize=\"large\"\r\n\t\t\t\t\t\t\t\t\t\tstyle={{ fontSize: '2rem' }}\r\n\t\t\t\t\t\t\t\t\t\tvariant=\"outlined\"\r\n\t\t\t\t\t\t\t\t\t\tcolor=\"secondary\"\r\n\t\t\t\t\t\t\t\t\t\ttarget=\"_blank\"\r\n\t\t\t\t\t\t\t\t\t\tclassName={classes.btnSecond}\r\n\t\t\t\t\t\t\t\t\t\tstartIcon={<FireOutlined />}\r\n\t\t\t\t\t\t\t\t\t\tdisabled\r\n\t\t\t\t\t\t\t\t\t>\r\n\t\t\t\t\t\t\t\t\t\t<Typography variant=\"button\" component=\"h2\" gutterBottom>\r\n\t\t\t\t\t\t\t\t\t\t\t<font size=\"4\">  </font>\r\n\t\t\t\t\t\t\t\t\t\t</Typography>\r\n\t\t\t\t\t\t\t\t\t</Button>\r\n\t\t\t\t\t\t\t\t</Grid>\r\n\t\t\t\t\t\t\t</Grid>\r\n\t\t\t\t\t\t) : (\r\n\t\t\t\t\t\t\t<Grid container direction=\"row\" justifyContent=\"space-around\">\r\n\t\t\t\t\t\t\t\t<Grid item>\r\n\t\t\t\t\t\t\t\t\t<Button\r\n\t\t\t\t\t\t\t\t\t\tsize=\"large\"\r\n\t\t\t\t\t\t\t\t\t\tstyle={{ fontSize: '3rem' }}\r\n\t\t\t\t\t\t\t\t\t\tvariant=\"contained\"\r\n\t\t\t\t\t\t\t\t\t\tclassName={classes.btnMain}\r\n\t\t\t\t\t\t\t\t\t\tonClick={this.downloadIPFS}\r\n\t\t\t\t\t\t\t\t\t>\r\n\t\t\t\t\t\t\t\t\t\t<Typography variant=\"button\" component=\"h2\" gutterBottom style={{ color: '#FFFFFF' }}>\r\n\t\t\t\t\t\t\t\t\t\t\t<font size=\"4\">   </font>\r\n\t\t\t\t\t\t\t\t\t\t</Typography>\r\n\t\t\t\t\t\t\t\t\t</Button>\r\n\t\t\t\t\t\t\t\t</Grid>\r\n\t\t\t\t\t\t\t\t<Grid item>\r\n\t\t\t\t\t\t\t\t\t<Button\r\n\t\t\t\t\t\t\t\t\t\tsize=\"large\"\r\n\t\t\t\t\t\t\t\t\t\tstyle={{ fontSize: '2rem' }}\r\n\t\t\t\t\t\t\t\t\t\tvariant=\"outlined\"\r\n\t\t\t\t\t\t\t\t\t\tcolor=\"secondary\"\r\n\t\t\t\t\t\t\t\t\t\ttarget=\"_blank\"\r\n\t\t\t\t\t\t\t\t\t\tclassName={classes.btnSecond}\r\n\t\t\t\t\t\t\t\t\t\tstartIcon={<FireOutlined />}\r\n\t\t\t\t\t\t\t\t\t\tdisabled\r\n\t\t\t\t\t\t\t\t\t>\r\n\t\t\t\t\t\t\t\t\t\t<Typography variant=\"button\" component=\"h2\" gutterBottom>\r\n\t\t\t\t\t\t\t\t\t\t\t<font size=\"4\">  </font>\r\n\t\t\t\t\t\t\t\t\t\t</Typography>\r\n\t\t\t\t\t\t\t\t\t</Button>\r\n\t\t\t\t\t\t\t\t</Grid>\r\n\t\t\t\t\t\t\t</Grid>\r\n\t\t\t\t\t\t)}\r\n\t\t\t\t\t</div>\r\n\t\t\t\t)\r\n\t\t\t} else if (!this.state.approved) {\r\n\t\t\t\treturn (\r\n\t\t\t\t\t<div>\r\n\t\t\t\t\t\t{this.state.isEncrypt ? (\r\n\t\t\t\t\t\t\t<Grid container justifyContent=\"space-around\">\r\n\t\t\t\t\t\t\t\t<Button\r\n\t\t\t\t\t\t\t\t\tsize=\"large\"\r\n\t\t\t\t\t\t\t\t\tstyle={{ fontSize: '3rem' }}\r\n\t\t\t\t\t\t\t\t\tvariant=\"contained\"\r\n\t\t\t\t\t\t\t\t\tcolor=\"primary\"\r\n\t\t\t\t\t\t\t\t\tclassName={classes.btnMain}\r\n\t\t\t\t\t\t\t\t\tdisabled\r\n\t\t\t\t\t\t\t\t>\r\n\t\t\t\t\t\t\t\t\t<Typography variant=\"button\" component=\"h2\" gutterBottom style={{ color: '#FFFFFF' }}>\r\n\t\t\t\t\t\t\t\t\t\t<font size=\"4\">   </font>\r\n\t\t\t\t\t\t\t\t\t</Typography>\r\n\t\t\t\t\t\t\t\t</Button>\r\n\t\t\t\t\t\t\t\t<Grid item>\r\n\t\t\t\t\t\t\t\t\t<Button\r\n\t\t\t\t\t\t\t\t\t\tsize=\"large\"\r\n\t\t\t\t\t\t\t\t\t\tstyle={{ fontSize: '3rem' }}\r\n\t\t\t\t\t\t\t\t\t\tvariant=\"outlined\"\r\n\t\t\t\t\t\t\t\t\t\tcolor=\"secondary\"\r\n\t\t\t\t\t\t\t\t\t\ttarget=\"_blank\"\r\n\t\t\t\t\t\t\t\t\t\tclassName={classes.btnSecond}\r\n\t\t\t\t\t\t\t\t\t\tonClick={this.approve}\r\n\t\t\t\t\t\t\t\t\t>\r\n\t\t\t\t\t\t\t\t\t\t<Typography variant=\"button\" component=\"h2\" gutterBottom>\r\n\t\t\t\t\t\t\t\t\t\t\t<font size=\"4\">  </font>\r\n\t\t\t\t\t\t\t\t\t\t</Typography>\r\n\t\t\t\t\t\t\t\t\t</Button>\r\n\t\t\t\t\t\t\t\t</Grid>\r\n\t\t\t\t\t\t\t</Grid>\r\n\t\t\t\t\t\t) : (\r\n\t\t\t\t\t\t\t<Grid container direction=\"row\" justifyContent=\"space-around\">\r\n\t\t\t\t\t\t\t\t<Grid item>\r\n\t\t\t\t\t\t\t\t\t<Button\r\n\t\t\t\t\t\t\t\t\t\tsize=\"large\"\r\n\t\t\t\t\t\t\t\t\t\tstyle={{ fontSize: '3rem' }}\r\n\t\t\t\t\t\t\t\t\t\tvariant=\"contained\"\r\n\t\t\t\t\t\t\t\t\t\tcolor=\"primary\"\r\n\t\t\t\t\t\t\t\t\t\tclassName={classes.btnMain}\r\n\t\t\t\t\t\t\t\t\t\tonClick={this.downloadIPFS}\r\n\t\t\t\t\t\t\t\t\t>\r\n\t\t\t\t\t\t\t\t\t\t<Typography variant=\"button\" component=\"h2\" gutterBottom style={{ color: '#FFFFFF' }}>\r\n\t\t\t\t\t\t\t\t\t\t\t<font size=\"4\">  </font>\r\n\t\t\t\t\t\t\t\t\t\t</Typography>\r\n\t\t\t\t\t\t\t\t\t</Button>\r\n\t\t\t\t\t\t\t\t</Grid>\r\n\t\t\t\t\t\t\t\t<Grid item>\r\n\t\t\t\t\t\t\t\t\t<Button\r\n\t\t\t\t\t\t\t\t\t\tsize=\"large\"\r\n\t\t\t\t\t\t\t\t\t\tstyle={{ fontSize: '3rem' }}\r\n\t\t\t\t\t\t\t\t\t\tvariant=\"outlined\"\r\n\t\t\t\t\t\t\t\t\t\tcolor=\"secondary\"\r\n\t\t\t\t\t\t\t\t\t\ttarget=\"_blank\"\r\n\t\t\t\t\t\t\t\t\t\tclassName={classes.btnSecond}\r\n\t\t\t\t\t\t\t\t\t\tonClick={this.approve}\r\n\t\t\t\t\t\t\t\t\t>\r\n\t\t\t\t\t\t\t\t\t\t<Typography variant=\"button\" component=\"h2\" gutterBottom>\r\n\t\t\t\t\t\t\t\t\t\t\t<font size=\"4\">  </font>\r\n\t\t\t\t\t\t\t\t\t\t</Typography>\r\n\t\t\t\t\t\t\t\t\t</Button>\r\n\t\t\t\t\t\t\t\t</Grid>\r\n\t\t\t\t\t\t\t</Grid>\r\n\t\t\t\t\t\t)}\r\n\t\t\t\t\t</div>\r\n\t\t\t\t)\r\n\t\t\t} else {\r\n\t\t\t\treturn (\r\n\t\t\t\t\t<div>\r\n\t\t\t\t\t\t{this.state.isEncrypt ? (\r\n\t\t\t\t\t\t\t<Grid container justifyContent=\"space-around\">\r\n\t\t\t\t\t\t\t\t<Button\r\n\t\t\t\t\t\t\t\t\tsize=\"large\"\r\n\t\t\t\t\t\t\t\t\tstyle={{ fontSize: '3rem' }}\r\n\t\t\t\t\t\t\t\t\tvariant=\"contained\"\r\n\t\t\t\t\t\t\t\t\tcolor=\"primary\"\r\n\t\t\t\t\t\t\t\t\tclassName={classes.btnMain}\r\n\t\t\t\t\t\t\t\t\tdisabled\r\n\t\t\t\t\t\t\t\t>\r\n\t\t\t\t\t\t\t\t\t<Typography variant=\"button\" component=\"h2\" gutterBottom style={{ color: '#FFFFFF' }}>\r\n\t\t\t\t\t\t\t\t\t\t<font size=\"4\">   </font>\r\n\t\t\t\t\t\t\t\t\t</Typography>\r\n\t\t\t\t\t\t\t\t</Button>\r\n\t\t\t\t\t\t\t\t<Grid item>\r\n\t\t\t\t\t\t\t\t\t<Button\r\n\t\t\t\t\t\t\t\t\t\tsize=\"large\"\r\n\t\t\t\t\t\t\t\t\t\tstyle={{ fontSize: '3rem' }}\r\n\t\t\t\t\t\t\t\t\t\tvariant=\"outlined\"\r\n\t\t\t\t\t\t\t\t\t\tcolor=\"secondary\"\r\n\t\t\t\t\t\t\t\t\t\ttarget=\"_blank\"\r\n\t\t\t\t\t\t\t\t\t\tclassName={classes.btnSecond}\r\n\t\t\t\t\t\t\t\t\t\tstartIcon={<FireOutlined />}\r\n\t\t\t\t\t\t\t\t\t\tonClick={this.shill}\r\n\t\t\t\t\t\t\t\t\t>\r\n\t\t\t\t\t\t\t\t\t\t<Typography variant=\"button\" component=\"h2\" gutterBottom>\r\n\t\t\t\t\t\t\t\t\t\t\t<font size=\"4\">  </font>\r\n\t\t\t\t\t\t\t\t\t\t</Typography>\r\n\t\t\t\t\t\t\t\t\t</Button>\r\n\t\t\t\t\t\t\t\t</Grid>\r\n\t\t\t\t\t\t\t</Grid>\r\n\t\t\t\t\t\t) : (\r\n\t\t\t\t\t\t\t<Grid container direction=\"row\" justifyContent=\"space-around\">\r\n\t\t\t\t\t\t\t\t<Grid item>\r\n\t\t\t\t\t\t\t\t\t<Button\r\n\t\t\t\t\t\t\t\t\t\tsize=\"large\"\r\n\t\t\t\t\t\t\t\t\t\tstyle={{ fontSize: '3rem' }}\r\n\t\t\t\t\t\t\t\t\t\tvariant=\"contained\"\r\n\t\t\t\t\t\t\t\t\t\tcolor=\"primary\"\r\n\t\t\t\t\t\t\t\t\t\tclassName={classes.btnMain}\r\n\t\t\t\t\t\t\t\t\t\tonClick={this.downloadIPFS}\r\n\t\t\t\t\t\t\t\t\t>\r\n\t\t\t\t\t\t\t\t\t\t<Typography variant=\"button\" component=\"h2\" gutterBottom style={{ color: '#FFFFFF' }}>\r\n\t\t\t\t\t\t\t\t\t\t\t<font size=\"4\">   </font>\r\n\t\t\t\t\t\t\t\t\t\t</Typography>\r\n\t\t\t\t\t\t\t\t\t</Button>\r\n\t\t\t\t\t\t\t\t</Grid>\r\n\t\t\t\t\t\t\t\t<Grid item>\r\n\t\t\t\t\t\t\t\t\t<Button\r\n\t\t\t\t\t\t\t\t\t\tsize=\"large\"\r\n\t\t\t\t\t\t\t\t\t\tstyle={{ fontSize: '3rem' }}\r\n\t\t\t\t\t\t\t\t\t\tvariant=\"outlined\"\r\n\t\t\t\t\t\t\t\t\t\tcolor=\"secondary\"\r\n\t\t\t\t\t\t\t\t\t\ttarget=\"_blank\"\r\n\t\t\t\t\t\t\t\t\t\tclassName={classes.btnSecond}\r\n\t\t\t\t\t\t\t\t\t\tstartIcon={<FireOutlined />}\r\n\t\t\t\t\t\t\t\t\t\tonClick={this.shill}\r\n\t\t\t\t\t\t\t\t\t>\r\n\t\t\t\t\t\t\t\t\t\t<Typography variant=\"button\" component=\"h2\" gutterBottom>\r\n\t\t\t\t\t\t\t\t\t\t\t<font size=\"4\">  </font>\r\n\t\t\t\t\t\t\t\t\t\t</Typography>\r\n\t\t\t\t\t\t\t\t\t</Button>\r\n\t\t\t\t\t\t\t\t</Grid>\r\n\t\t\t\t\t\t\t</Grid>\r\n\t\t\t\t\t\t)}\r\n\t\t\t\t\t</div>\r\n\t\t\t\t)\r\n\t\t\t}\r\n\t\t}\r\n\r\n\t\tif (this.state.showProgress) {\r\n\t\t\treturn (\r\n\t\t\t\t<Spin spinning={this.state.onLoading} size=\"large\">\r\n\t\t\t\t\t<ThemeProvider theme={theme}>\r\n\t\t\t\t\t\t<TopBar />\r\n\t\t\t\t\t\t<div style={{ textAlign: 'center', marginTop: '2%', marginLeft: 40 }}>\r\n\t\t\t\t\t\t\t<Typography color=\"textPrimary\" gutterBottom style={{ marginRight: 50, marginTop: 20, fontSize: 24 }}>\r\n\t\t\t\t\t\t\t\t<b></b>\r\n\t\t\t\t\t\t\t</Typography>\r\n\t\t\t\t\t\t</div>\r\n\t\t\t\t\t\t<div style={{ textAlign: 'center', marginTop: '10%' }}>\r\n\t\t\t\t\t\t\t<Progress type=\"circle\" percent={this.state.percentage} width={200} />\r\n\t\t\t\t\t\t</div>\r\n\t\t\t\t\t</ThemeProvider>\r\n\t\t\t\t</Spin>\r\n\t\t\t)\r\n\t\t} else {\r\n\t\t\treturn (\r\n\t\t\t\t<Spin spinning={this.state.onLoading} size=\"large\">\r\n\t\t\t\t\t<ThemeProvider theme={theme}>\r\n\t\t\t\t\t\t<TopBar />\r\n\t\t\t\t\t\t<Container component=\"main\" className={classes.container}>\r\n\t\t\t\t\t\t\t<Button\r\n\t\t\t\t\t\t\t\tstartIcon={<ArrowLeftOutlined style={{ fontSize: '2rem' }} />}\r\n\t\t\t\t\t\t\t\thref=\"/#/collections\"\r\n\t\t\t\t\t\t\t\tstyle={{ marginTop: 20, marginBottom: 10, fontSize: '2rem' }}\r\n\t\t\t\t\t\t\t>\r\n\t\t\t\t\t\t\t\t\r\n\t\t\t\t\t\t\t</Button>\r\n\t\t\t\t\t\t\t<Grid container direction=\"row\" justifyContent=\"center\" alignItems=\"center\" xs={12}>\r\n\t\t\t\t\t\t\t\t<Typography color=\"inherit\" noWrap className={classes.title}>\r\n\t\t\t\t\t\t\t\t\t NFT \r\n\t\t\t\t\t\t\t\t</Typography>\r\n\t\t\t\t\t\t\t</Grid>\r\n\r\n\t\t\t\t\t\t\t<div className={classes.paper}>\r\n\t\t\t\t\t\t\t\t{this.state.loadItem ? (\r\n\t\t\t\t\t\t\t\t\t<Grid container spacing={5} className={classes.content}>\r\n\t\t\t\t\t\t\t\t\t\t<Grid item>\r\n\t\t\t\t\t\t\t\t\t\t\t<Skeleton\r\n\t\t\t\t\t\t\t\t\t\t\t\tvariant=\"rect\"\r\n\t\t\t\t\t\t\t\t\t\t\t\twidth={300}\r\n\t\t\t\t\t\t\t\t\t\t\t\theight={500}\r\n\t\t\t\t\t\t\t\t\t\t\t\tstyle={{ width: 370, marginLeft: 50, marginBottom: 50 }}\r\n\t\t\t\t\t\t\t\t\t\t\t/>\r\n\t\t\t\t\t\t\t\t\t\t</Grid>\r\n\t\t\t\t\t\t\t\t\t\t<Grid item style={{ marginLeft: '5%' }}>\r\n\t\t\t\t\t\t\t\t\t\t\t<Skeleton animation=\"wave\" variant=\"text\" width={200} height={30} />\r\n\t\t\t\t\t\t\t\t\t\t\t<Skeleton animation=\"wave\" variant=\"text\" width={400} height={70} />\r\n\t\t\t\t\t\t\t\t\t\t\t<Skeleton animation=\"wave\" variant=\"rect\" width={500} height={300} style={{ marginBottom: 50 }} />\r\n\t\t\t\t\t\t\t\t\t\t</Grid>\r\n\t\t\t\t\t\t\t\t\t</Grid>\r\n\t\t\t\t\t\t\t\t) : (\r\n\t\t\t\t\t\t\t\t\t<Grid container direction=\"row\" justifyContent=\"space-between\" className={classes.content}>\r\n\t\t\t\t\t\t\t\t\t\t<Grid item style={{ maxWidth: 200 }}>\r\n\t\t\t\t\t\t\t\t\t\t\t<Paper className={classes.imagePaper}>\r\n\t\t\t\t\t\t\t\t\t\t\t\t<img className={classes.imageStyle} src={this.state.Cover}></img>\r\n\t\t\t\t\t\t\t\t\t\t\t</Paper>\r\n\t\t\t\t\t\t\t\t\t\t</Grid>\r\n\r\n\t\t\t\t\t\t\t\t\t\t<Grid xs={2}></Grid>\r\n\r\n\t\t\t\t\t\t\t\t\t\t<Grid item xs className={classes.content2}>\r\n\t\t\t\t\t\t\t\t\t\t\t<Typography\r\n\t\t\t\t\t\t\t\t\t\t\t\tcolor=\"inherit\"\r\n\t\t\t\t\t\t\t\t\t\t\t\talign=\"left\"\r\n\t\t\t\t\t\t\t\t\t\t\t\t// eslint-disable-next-line react/jsx-no-duplicate-props\r\n\t\t\t\t\t\t\t\t\t\t\t\tcolor=\"textSecondary\"\r\n\t\t\t\t\t\t\t\t\t\t\t\tnoWrap\r\n\t\t\t\t\t\t\t\t\t\t\t\tstyle={{\r\n\t\t\t\t\t\t\t\t\t\t\t\t\tfontFamily: 'Teko',\r\n\t\t\t\t\t\t\t\t\t\t\t\t\tfontSize: 16,\r\n\t\t\t\t\t\t\t\t\t\t\t\t\tmarginTop: '2%',\r\n\t\t\t\t\t\t\t\t\t\t\t\t}}\r\n\t\t\t\t\t\t\t\t\t\t\t>\r\n\t\t\t\t\t\t\t\t\t\t\t\t#{this.props.match.params.id}\r\n\t\t\t\t\t\t\t\t\t\t\t</Typography>\r\n\t\t\t\t\t\t\t\t\t\t\t<Typography\r\n\t\t\t\t\t\t\t\t\t\t\t\tcolor=\"inherit\"\r\n\t\t\t\t\t\t\t\t\t\t\t\talign=\"left\"\r\n\t\t\t\t\t\t\t\t\t\t\t\tnoWrap\r\n\t\t\t\t\t\t\t\t\t\t\t\tstyle={{\r\n\t\t\t\t\t\t\t\t\t\t\t\t\tfontFamily: 'Teko',\r\n\t\t\t\t\t\t\t\t\t\t\t\t\tfontSize: 34,\r\n\t\t\t\t\t\t\t\t\t\t\t\t\tmarginTop: '2%',\r\n\t\t\t\t\t\t\t\t\t\t\t\t}}\r\n\t\t\t\t\t\t\t\t\t\t\t>\r\n\t\t\t\t\t\t\t\t\t\t\t\t<b>{this.state.Name}</b>\r\n\t\t\t\t\t\t\t\t\t\t\t</Typography>\r\n\t\t\t\t\t\t\t\t\t\t\t<Typography\r\n\t\t\t\t\t\t\t\t\t\t\t\talign=\"justify\"\r\n\t\t\t\t\t\t\t\t\t\t\t\tcolor=\"textSecondary\"\r\n\t\t\t\t\t\t\t\t\t\t\t\tparagraph\r\n\t\t\t\t\t\t\t\t\t\t\t\tstyle={{\r\n\t\t\t\t\t\t\t\t\t\t\t\t\tmarginTop: '2%',\r\n\t\t\t\t\t\t\t\t\t\t\t\t\tmaxWidth: '100%',\r\n\t\t\t\t\t\t\t\t\t\t\t\t\tfontSize: 16,\r\n\t\t\t\t\t\t\t\t\t\t\t\t}}\r\n\t\t\t\t\t\t\t\t\t\t\t>\r\n\t\t\t\t\t\t\t\t\t\t\t\t{this.state.Description}\r\n\t\t\t\t\t\t\t\t\t\t\t</Typography>\r\n\t\t\t\t\t\t\t\t\t\t\t<Typography\r\n\t\t\t\t\t\t\t\t\t\t\t\talign=\"left\"\r\n\t\t\t\t\t\t\t\t\t\t\t\tcolor=\"textPrimary\"\r\n\t\t\t\t\t\t\t\t\t\t\t\tparagraph\r\n\t\t\t\t\t\t\t\t\t\t\t\tstyle={{\r\n\t\t\t\t\t\t\t\t\t\t\t\t\tmarginTop: '6%',\r\n\t\t\t\t\t\t\t\t\t\t\t\t\tmaxWidth: '100%',\r\n\t\t\t\t\t\t\t\t\t\t\t\t\tfontSize: 24,\r\n\t\t\t\t\t\t\t\t\t\t\t\t}}\r\n\t\t\t\t\t\t\t\t\t\t\t>\r\n\t\t\t\t\t\t\t\t\t\t\t\t: {this.state.priceString}\r\n\t\t\t\t\t\t\t\t\t\t\t</Typography>\r\n\t\t\t\t\t\t\t\t\t\t\t<Typography align=\"left\" color=\"textPrimary\" paragraph style={{ maxWidth: '100%', fontSize: 18 }}>\r\n\t\t\t\t\t\t\t\t\t\t\t\t: {this.state.maxShillTimes} \r\n\t\t\t\t\t\t\t\t\t\t\t</Typography>\r\n\t\t\t\t\t\t\t\t\t\t\t<Typography align=\"left\" color=\"textPrimary\" paragraph style={{ maxWidth: '100%', fontSize: 18 }}>\r\n\t\t\t\t\t\t\t\t\t\t\t\t: {this.state.remainShillTimes} \r\n\t\t\t\t\t\t\t\t\t\t\t</Typography>\r\n\t\t\t\t\t\t\t\t\t\t\t{this.state.isEncrypt ? (\r\n\t\t\t\t\t\t\t\t\t\t\t\t<Typography\r\n\t\t\t\t\t\t\t\t\t\t\t\t\talign=\"left\"\r\n\t\t\t\t\t\t\t\t\t\t\t\t\tcolor=\"textPrimary\"\r\n\t\t\t\t\t\t\t\t\t\t\t\t\tparagraph\r\n\t\t\t\t\t\t\t\t\t\t\t\t\tstyle={{ maxWidth: '100%', fontSize: 16 }}\r\n\t\t\t\t\t\t\t\t\t\t\t\t>\r\n\t\t\t\t\t\t\t\t\t\t\t\t\t\r\n\t\t\t\t\t\t\t\t\t\t\t\t</Typography>\r\n\t\t\t\t\t\t\t\t\t\t\t) : (\r\n\t\t\t\t\t\t\t\t\t\t\t\t<Typography\r\n\t\t\t\t\t\t\t\t\t\t\t\t\talign=\"left\"\r\n\t\t\t\t\t\t\t\t\t\t\t\t\tcolor=\"textPrimary\"\r\n\t\t\t\t\t\t\t\t\t\t\t\t\tparagraph\r\n\t\t\t\t\t\t\t\t\t\t\t\t\tstyle={{ maxWidth: '100%', fontSize: 16 }}\r\n\t\t\t\t\t\t\t\t\t\t\t\t>\r\n\t\t\t\t\t\t\t\t\t\t\t\t\t\r\n\t\t\t\t\t\t\t\t\t\t\t\t</Typography>\r\n\t\t\t\t\t\t\t\t\t\t\t)}\r\n\t\t\t\t\t\t\t\t\t\t\t{showBtn()}\r\n\t\t\t\t\t\t\t\t\t\t</Grid>\r\n\t\t\t\t\t\t\t\t\t</Grid>\r\n\t\t\t\t\t\t\t\t)}\r\n\r\n\t\t\t\t\t\t\t\t{this.state.showRecommend ? (\r\n\t\t\t\t\t\t\t\t\t<Grid style={{ marginTop: 50 }}>\r\n\t\t\t\t\t\t\t\t\t\t<Typography variant=\"h4\" gutterBottom>\r\n\t\t\t\t\t\t\t\t\t\t\tNFT\r\n\t\t\t\t\t\t\t\t\t\t</Typography>\r\n\t\t\t\t\t\t\t\t\t\t<Link onClick={this.handleClickLink} style={{ fontSize: 20, textDecoration: 'underline' }}>\r\n\t\t\t\t\t\t\t\t\t\t\t{window.location.host + '/#/NFT/Spark/' + this.state.recommendNFT}\r\n\t\t\t\t\t\t\t\t\t\t</Link>\r\n\t\t\t\t\t\t\t\t\t</Grid>\r\n\t\t\t\t\t\t\t\t) : (\r\n\t\t\t\t\t\t\t\t\t<div></div>\r\n\t\t\t\t\t\t\t\t)}\r\n\t\t\t\t\t\t\t</div>\r\n\t\t\t\t\t\t</Container>\r\n\t\t\t\t\t</ThemeProvider>\r\n\t\t\t\t</Spin>\r\n\t\t\t)\r\n\t\t}\r\n\t}\r\n}\r\n\r\nexport default withStyles(styles, { withTheme: true })(NFTSpark)\r\n//todo \r\n//account\r\n","import '../App.css'\r\nimport React, { Component } from 'react'\r\nimport Button from '@material-ui/core/Button'\r\nimport Grid from '@material-ui/core/Grid'\r\nimport { createTheme, ThemeProvider, withStyles } from '@material-ui/core/styles'\r\nimport Typography from '@material-ui/core/Typography'\r\nimport Container from '@material-ui/core/Container'\r\nimport TopBar from '../components/TopBar'\r\nimport { withTranslation } from 'react-i18next'\r\n\r\nconst styles = (theme) => ({\r\n\ticon: {\r\n\t\tmarginRight: theme.spacing(2),\r\n\t},\r\n\ttitleFont: {\r\n\t\tfontFamily: 'Teko',\r\n\t},\r\n\tbtn: {\r\n\t\tcolor: '#424949',\r\n\t\tborderWidth: 2,\r\n\t\tborderColor: '#e3f2fd',\r\n\t\tfontSize: 16,\r\n\t},\r\n\tbtnMain: {\r\n\t\tcolor: '#FFFFFF',\r\n\t\tborderColor: '#e3f2fd',\r\n\t\tborderWidth: 2,\r\n\t\tborderRadius: 25,\r\n\t\t'&:hover': {\r\n\t\t\tcolor: '#FFFFFF',\r\n\t\t},\r\n\t\t[theme.breakpoints.between('xs', 'sm')]: {\r\n\t\t\tfontSize: 5,\r\n\t\t},\r\n\t\t[theme.breakpoints.between('sm', 'md')]: {\r\n\t\t\tfontSize: 10,\r\n\t\t},\r\n\t\t[theme.breakpoints.between('md', 'lg')]: {\r\n\t\t\tfontSize: 16,\r\n\t\t},\r\n\t\t[theme.breakpoints.between('lg', 'xl')]: {\r\n\t\t\tfontSize: 16,\r\n\t\t\twidth: 150,\r\n\t\t},\r\n\t\t[theme.breakpoints.up('xl')]: {\r\n\t\t\tfontSize: 30,\r\n\t\t\twidth: 300,\r\n\t\t\theight: 70,\r\n\t\t},\r\n\t},\r\n\tbtnSecond: {\r\n\t\t// marginTop: theme.spacing(3),\r\n\t\tcolor: '#FFFFFF',\r\n\t\tborderColor: '#e3f2fd',\r\n\t\tborderWidth: 2,\r\n\t\tborderRadius: 25,\r\n\t\t'&:hover': {\r\n\t\t\tcolor: '#FFFFFF',\r\n\t\t},\r\n\t\t[theme.breakpoints.between('xs', 'sm')]: {\r\n\t\t\tfontSize: 5,\r\n\t\t\twidth: 95,\r\n\t\t},\r\n\t\t[theme.breakpoints.between('sm', 'md')]: {\r\n\t\t\tfontSize: 10,\r\n\t\t},\r\n\t\t[theme.breakpoints.between('md', 'lg')]: {\r\n\t\t\tfontSize: 16,\r\n\t\t},\r\n\t\t[theme.breakpoints.between('lg', 'xl')]: {\r\n\t\t\tfontSize: 16,\r\n\t\t\twidth: 150,\r\n\t\t},\r\n\t\t[theme.breakpoints.up('xl')]: {\r\n\t\t\tfontSize: 30,\r\n\t\t\twidth: 300,\r\n\t\t\theight: 70,\r\n\t\t},\r\n\t},\r\n\tpaper: {\r\n\t\tmarginTop: theme.spacing(7),\r\n\t\tmaxWidth: '150%',\r\n\t},\r\n\r\n\tcontent: {\r\n\t\tfontFamily: 'Teko',\r\n\t\tmarginTop: 20,\r\n\t\tlineHeight: 1.5,\r\n\t\t[theme.breakpoints.between('xs', 'sm')]: {\r\n\t\t\tfontSize: 16,\r\n\t\t},\r\n\t\t[theme.breakpoints.between('sm', 'md')]: {\r\n\t\t\tfontSize: 20,\r\n\t\t},\r\n\t\t[theme.breakpoints.between('md', 'lg')]: {\r\n\t\t\tfontSize: 20,\r\n\t\t},\r\n\t\t[theme.breakpoints.between('lg', 'xl')]: {\r\n\t\t\tfontSize: 20,\r\n\t\t},\r\n\t\t[theme.breakpoints.up('xl')]: {\r\n\t\t\tfontSize: 30,\r\n\t\t},\r\n\t},\r\n\r\n\tshouldKnow: {\r\n\t\tfontFamily: 'Teko',\r\n\t\ttextAlign: 'center',\r\n\t\t[theme.breakpoints.between('xs', 'sm')]: {\r\n\t\t\tfontSize: 16,\r\n\t\t},\r\n\t\t[theme.breakpoints.between('sm', 'md')]: {\r\n\t\t\tfontSize: 20,\r\n\t\t},\r\n\t\t[theme.breakpoints.between('md', 'lg')]: {\r\n\t\t\tfontSize: 40,\r\n\t\t},\r\n\t\t[theme.breakpoints.between('lg', 'xl')]: {\r\n\t\t\tfontSize: 40,\r\n\t\t},\r\n\t\t[theme.breakpoints.up('xl')]: {\r\n\t\t\tfontSize: 60,\r\n\t\t},\r\n\t},\r\n})\r\n\r\nconst theme = createTheme({\r\n\tpalette: {\r\n\t\tprimary: {\r\n\t\t\tmain: '#FDFEFE',\r\n\t\t},\r\n\t\tsecondary: {\r\n\t\t\tmain: '#2196f3',\r\n\t\t},\r\n\t},\r\n})\r\n\r\nclass IntroPublish extends Component {\r\n\trender() {\r\n\t\tconst { t, classes } = this.props\r\n\t\treturn (\r\n\t\t\t<div>\r\n\t\t\t\t<ThemeProvider theme={theme}>\r\n\t\t\t\t\t<TopBar />\r\n\t\t\t\t\t<Container component=\"main\" className={classes.container}>\r\n\t\t\t\t\t\t<div className={classes.paper}>\r\n\t\t\t\t\t\t\t<Typography color=\"inherit\" noWrap className={classes.shouldKnow}>\r\n\t\t\t\t\t\t\t\t<b></b>\r\n\t\t\t\t\t\t\t</Typography>\r\n\t\t\t\t\t\t\t<Typography variant=\"h4\" paragraph className={classes.content}>\r\n\t\t\t\t\t\t\t\t\r\n\t\t\t\t\t\t\t</Typography>\r\n\t\t\t\t\t\t\t<Typography color=\"textSecondary\" paragraph className={classes.content}>\r\n\t\t\t\t\t\t\t\t<b>1.</b> IPFSInterPlanetary File\r\n\t\t\t\t\t\t\t\tSystemNFT\r\n\t\t\t\t\t\t\t</Typography>\r\n\t\t\t\t\t\t\t<Typography color=\"textSecondary\" paragraph className={classes.content}>\r\n\t\t\t\t\t\t\t\t<b>2.</b>{' '}\r\n\t\t\t\t\t\t\t\tIPFSIPFSNFT{' '}\r\n\t\t\t\t\t\t\t\t<br />\r\n\t\t\t\t\t\t\t</Typography>\r\n\t\t\t\t\t\t\t<Typography color=\"textSecondary\" paragraph className={classes.content}>\r\n\t\t\t\t\t\t\t\t<b>3.</b>{' '}\r\n\t\t\t\t\t\t\t\tIPFS{' '}\r\n\t\t\t\t\t\t\t\t<br />\r\n\t\t\t\t\t\t\t</Typography>\r\n\t\t\t\t\t\t\t<Typography color=\"textSecondary\" paragraph className={classes.content}>\r\n\t\t\t\t\t\t\t\t<b>4.</b>{' '}\r\n\t\t\t\t\t\t\t\tNFT{' '}\r\n\t\t\t\t\t\t\t\t<br />\r\n\t\t\t\t\t\t\t</Typography>\r\n\t\t\t\t\t\t\t<Grid container justifyContent=\"center\" style={{ fontFamily: 'Teko', marginTop: 70 }}>\r\n\t\t\t\t\t\t\t\t<Grid item xs={4}>\r\n\t\t\t\t\t\t\t\t\t<Button\r\n\t\t\t\t\t\t\t\t\t\tsize=\"large\"\r\n\t\t\t\t\t\t\t\t\t\tvariant=\"contained\"\r\n\t\t\t\t\t\t\t\t\t\tcolor=\"secondary\"\r\n\t\t\t\t\t\t\t\t\t\tclassName={classes.btnMain}\r\n\t\t\t\t\t\t\t\t\t\thref=\"/#/encryptedPublish\"\r\n\t\t\t\t\t\t\t\t\t>\r\n\t\t\t\t\t\t\t\t\t\t<b>{t('publish_encry')}</b>\r\n\t\t\t\t\t\t\t\t\t</Button>\r\n\t\t\t\t\t\t\t\t</Grid>\r\n\t\t\t\t\t\t\t\t<Grid item xs={3}>\r\n\t\t\t\t\t\t\t\t\t<Button\r\n\t\t\t\t\t\t\t\t\t\tsize=\"large\"\r\n\t\t\t\t\t\t\t\t\t\tvariant=\"contained\"\r\n\t\t\t\t\t\t\t\t\t\tcolor=\"secondary\"\r\n\t\t\t\t\t\t\t\t\t\tclassName={classes.btnSecond}\r\n\t\t\t\t\t\t\t\t\t\thref=\"/#/publish\"\r\n\t\t\t\t\t\t\t\t\t>\r\n\t\t\t\t\t\t\t\t\t\t<b>{t('publish_open')}</b>\r\n\t\t\t\t\t\t\t\t\t</Button>\r\n\t\t\t\t\t\t\t\t</Grid>\r\n\t\t\t\t\t\t\t</Grid>\r\n\t\t\t\t\t\t</div>\r\n\t\t\t\t\t</Container>\r\n\t\t\t\t</ThemeProvider>\r\n\t\t\t</div>\r\n\t\t)\r\n\t}\r\n}\r\n\r\nexport default withTranslation()(withStyles(styles, { withTheme: true })(IntroPublish))\r\n","import React, { Component } from 'react'\r\nimport '../App.css'\r\nimport Button from '@material-ui/core/Button'\r\nimport { createTheme, ThemeProvider, withStyles } from '@material-ui/core/styles'\r\nimport { blue } from '@material-ui/core/colors'\r\nimport Typography from '@material-ui/core/Typography'\r\nimport Container from '@material-ui/core/Container'\r\nimport Grid from '@material-ui/core/Grid'\r\nimport { message } from 'antd'\r\nimport { InboxOutlined } from '@ant-design/icons'\r\nimport Dragger from 'antd/lib/upload/Dragger'\r\nimport { CloudUploadOutlined } from '@ant-design/icons'\r\nimport { Input, InputNumber, Select, Spin } from 'antd'\r\nimport 'antd/dist/antd.css'\r\nimport TopBar from '../components/TopBar'\r\nimport axios from 'axios'\r\nimport contract from '../utils/contract'\r\nimport web3 from '../utils/web3'\r\nimport Paper from '@material-ui/core/Paper'\r\nimport { Dialog, DialogActions, DialogContent, DialogContentText, DialogTitle, Link } from '@material-ui/core'\r\nimport * as tokens from '../global/tokens_list.json'\r\nimport { withTranslation } from 'react-i18next'\r\nimport config from '../global/config'\r\nconst { backend } = config\r\nconst { pinata_api_key, pinata_secret_api_key } = require('../project.secret.js')\r\nconst FormData = require('form-data')\r\nconst bs58 = require('bs58')\r\nlet CryptoJS = require('crypto-js')\r\nconst { Option } = Select\r\nconst abi = require('erc-20-abi')\r\n\r\nconst theme = createTheme({\r\n\tpalette: {\r\n\t\tprimary: {\r\n\t\t\tmain: '#2196f3',\r\n\t\t},\r\n\t\tsecondary: {\r\n\t\t\tmain: '#FDFEFE',\r\n\t\t},\r\n\t},\r\n})\r\n\r\nconst styles = (theme) => ({\r\n\tmain: {\r\n\t\t[theme.breakpoints.between('xs', 'sm')]: {\r\n\t\t\twidth: '60%',\r\n\t\t},\r\n\t\t[theme.breakpoints.up('sm')]: {\r\n\t\t\twidth: 500,\r\n\t\t},\r\n\t},\r\n\ttitleCon: {\r\n\t\tmarginTop: 50,\r\n\t\tfontFamily: 'Ubuntu',\r\n\t\t[theme.breakpoints.between('xs', 'sm')]: {\r\n\t\t\tfontSize: 30,\r\n\t\t},\r\n\t\t[theme.breakpoints.up('sm')]: {\r\n\t\t\tfontSize: 40,\r\n\t\t},\r\n\t},\r\n\ttitlePub: {\r\n\t\tmarginTop: '3%',\r\n\t\tfontFamily: 'Ubuntu',\r\n\t\t[theme.breakpoints.between('xs', 'sm')]: {\r\n\t\t\tfontSize: 30,\r\n\t\t},\r\n\t\t[theme.breakpoints.up('sm')]: {\r\n\t\t\tfontSize: 40,\r\n\t\t},\r\n\t},\r\n\tpaperImg: {\r\n\t\tbackgroundColor: '#EFEBE9',\r\n\t\twidth: 330,\r\n\t\t[theme.breakpoints.between('xs', 'sm')]: {\r\n\t\t\tmarginLeft: '5%',\r\n\t\t\tmarginTop: 30,\r\n\t\t},\r\n\t\t[theme.breakpoints.between('sm', 'md')]: {\r\n\t\t\tmarginLeft: '30%',\r\n\t\t\tmarginTop: 30,\r\n\t\t},\r\n\t\t[theme.breakpoints.between('md', 'lg')]: {\r\n\t\t\tmarginLeft: '30%',\r\n\t\t\tmarginTop: 30,\r\n\t\t},\r\n\t\t[theme.breakpoints.between('lg', 'xl')]: {\r\n\t\t\tmarginLeft: '40%',\r\n\t\t\tmarginTop: 30,\r\n\t\t},\r\n\t\t[theme.breakpoints.up('xl')]: {\r\n\t\t\tmarginLeft: '45%',\r\n\t\t\tmarginTop: 30,\r\n\t\t},\r\n\t},\r\n\tbtnPub: {\r\n\t\tmargin: theme.spacing(1),\r\n\t\tborderRadius: 25,\r\n\t\tcolor: '#FFFFFF',\r\n\t\tbackgroundColor: '#2196f3',\r\n\t\tmarginBottom: 20,\r\n\t\tmarginTop: 40,\r\n\t\theight: 45,\r\n\t\tminWidth: 200,\r\n\t\t[theme.breakpoints.between('xs', 'sm')]: {\r\n\t\t\twidth: '50%',\r\n\t\t},\r\n\t\t[theme.breakpoints.between('sm', 'md')]: {\r\n\t\t\tfontSize: 16,\r\n\t\t\twidth: '30%',\r\n\t\t},\r\n\t\t[theme.breakpoints.up('md')]: {\r\n\t\t\tfontSize: 16,\r\n\t\t\twidth: '30%',\r\n\t\t},\r\n\t},\r\n\tbtn: {\r\n\t\tcolor: '#424949',\r\n\t\tborderWidth: 2,\r\n\t\tborderColor: '#e3f2fd',\r\n\t\tfontSize: 16,\r\n\t},\r\n\tpaper: {\r\n\t\tmarginTop: theme.spacing(8),\r\n\t\tdisplay: 'flex',\r\n\t\tflexDirection: 'column',\r\n\t\talignItems: 'center',\r\n\t},\r\n\tavatar: {\r\n\t\tmargin: theme.spacing(1),\r\n\t\tbackgroundColor: blue[500],\r\n\t\twidth: 60,\r\n\t\theight: 60,\r\n\t},\r\n\tform: {\r\n\t\twidth: '150%',\r\n\t\tmarginTop: theme.spacing(7),\r\n\t},\r\n\tsubmit: {\r\n\t\tmargin: theme.spacing(3, 0, 2),\r\n\t},\r\n\tfileBtn: {\r\n\t\tpadding: '10px 30px 10px 30px',\r\n\t\tbackground: '#66C1E4',\r\n\t\tborder: 'none',\r\n\t\tcolor: '#FFF',\r\n\t\tboxShadow: '1px 1px 1px #4C6E91',\r\n\t},\r\n\tbutton: {\r\n\t\tmargin: theme.spacing(1),\r\n\t\tfontSize: 20,\r\n\t\tborderRadius: 25,\r\n\t\tcolor: '#FFFFFF',\r\n\t\tbackgroundColor: '#2196f3',\r\n\t},\r\n\tinput: {\r\n\t\theight: 40,\r\n\t\tborderRadius: 5,\r\n\t},\r\n\tinputNum: {\r\n\t\theight: 40,\r\n\t\tborderRadius: 5,\r\n\t\twidth: '100%',\r\n\t\tfontSize: 20,\r\n\t},\r\n})\r\nclass EncryptedPublish extends Component {\r\n\tstate = {\r\n\t\tname: '',\r\n\t\tbonusFee: 0,\r\n\t\tprice: 0,\r\n\t\tbuffer: null,\r\n\t\tfile: null,\r\n\t\tipfsHashCover: '',\r\n\t\tipfsMeta: '',\r\n\t\tfileType: '',\r\n\t\tfileIpfs: '',\r\n\t\tdescription: '',\r\n\t\tshareTimes: 0,\r\n\t\tonLoading: false,\r\n\t\trootNFTId: '',\r\n\t\tissueId: '',\r\n\t\tallowSubmitPDF: false,\r\n\t\tusedAcc: '',\r\n\t\tsig: '',\r\n\t\tfinished: false,\r\n\t\topen: false,\r\n\t\tcoverURL: '',\r\n\t\tjumped: false,\r\n\t\tdata: [],\r\n\t\ttoken_addr: null,\r\n\t\ttoken_symbol: 'MATIC',\r\n\t\tdecimal: 0,\r\n\t}\r\n\r\n\tasync componentDidMount() {\r\n\t\tconst { t } = this.props\r\n\t\tif (!window.ethereum) {\r\n\t\t\talert(t('please_install_metamask'))\r\n\t\t\twindow.location.href = '/#/introPublish'\r\n\t\t\treturn\r\n\t\t}\r\n\r\n\t\tconst chainId = await window.ethereum.request({ method: 'eth_chainId' })\r\n\t\tif (chainId !== '0x89') {\r\n\t\t\talert(t('please_set_polygon'))\r\n\t\t\tawait window.ethereum.request({\r\n\t\t\t\tmethod: 'wallet_switchEthereumChain',\r\n\t\t\t\tparams: [\r\n\t\t\t\t\t{\r\n\t\t\t\t\t\tchainId: '0x89',\r\n\t\t\t\t\t},\r\n\t\t\t\t],\r\n\t\t\t})\r\n\t\t}\r\n\t}\r\n\r\n\thandleGetPubName = (event) => {\r\n\t\tthis.setState({\r\n\t\t\tname: event.target.value,\r\n\t\t})\r\n\t}\r\n\r\n\thandleGetBonusFee = (value) => {\r\n\t\tthis.setState({\r\n\t\t\tbonusFee: value,\r\n\t\t})\r\n\t}\r\n\r\n\thandleGetPrice = (value) => {\r\n\t\tthis.setState({\r\n\t\t\tprice: value,\r\n\t\t})\r\n\t}\r\n\r\n\thandleGetShareTimes = (value) => {\r\n\t\tthis.setState({\r\n\t\t\tshareTimes: value,\r\n\t\t})\r\n\t}\r\n\r\n\thandleGetDescription = (e) => {\r\n\t\tthis.setState({\r\n\t\t\tdescription: e.target.value,\r\n\t\t})\r\n\t}\r\n\r\n\thandleGetNFTId = (value) => {\r\n\t\tthis.setState({\r\n\t\t\trootNFTId: String(value),\r\n\t\t})\r\n\t}\r\n\r\n\thandleClose = () => {\r\n\t\tthis.setState({\r\n\t\t\topen: false,\r\n\t\t})\r\n\t}\r\n\r\n\thandleClickOpen = () => {\r\n\t\tthis.setState({\r\n\t\t\topen: true,\r\n\t\t})\r\n\t}\r\n\r\n\thandleSearch = async (value) => {\r\n\t\tif (value) {\r\n\t\t\tvalue = value.toLowerCase()\r\n\t\t\tlet tokens_list = tokens.tokens\r\n\t\t\tlet matched_data = []\r\n\t\t\tlet reg = new RegExp(value)\r\n\t\t\tfor (let token of tokens_list) {\r\n\t\t\t\tlet symbol_lower_case = token.symbol.toLowerCase()\r\n\t\t\t\t// eslint-disable-next-line no-useless-escape\r\n\t\t\t\tlet showed_text = `\\\"${token.symbol}\\\"` + '   ' + token.address\r\n\t\t\t\tlet info = {\r\n\t\t\t\t\tvalue: token.address,\r\n\t\t\t\t\ttext: showed_text,\r\n\t\t\t\t}\r\n\t\t\t\tif (reg.test(symbol_lower_case) && !matched_data.includes(info)) {\r\n\t\t\t\t\tmatched_data.push(info)\r\n\t\t\t\t}\r\n\t\t\t}\r\n\t\t\tif (value.includes('0x') && value.length == 42) {\r\n\t\t\t\tlet info = {\r\n\t\t\t\t\tvalue: value,\r\n\t\t\t\t\ttext: value,\r\n\t\t\t\t}\r\n\t\t\t\tmatched_data = [info]\r\n\t\t\t}\r\n\t\t\tthis.setState({\r\n\t\t\t\tdata: matched_data,\r\n\t\t\t})\r\n\t\t} else {\r\n\t\t\tthis.setState({ data: [] })\r\n\t\t}\r\n\t}\r\n\r\n\thandleSelectChange = async (value) => {\r\n\t\tconst { t } = this.props\r\n\t\tlet tokens_list = tokens.tokens\r\n\t\tlet address\r\n\t\tlet token_symbol\r\n\t\tlet token_decimal\r\n\t\tfor (let token of tokens_list) {\r\n\t\t\tif (value === token.address) {\r\n\t\t\t\taddress = value\r\n\t\t\t\ttoken_symbol = token.symbol\r\n\t\t\t\ttoken_decimal = token.decimals\r\n\t\t\t}\r\n\t\t}\r\n\t\tif (token_symbol == undefined) {\r\n\t\t\ttry {\r\n\t\t\t\tconst token_contract = new web3.eth.Contract(abi, value)\r\n\t\t\t\ttoken_symbol = await token_contract.methods.symbol().call()\r\n\t\t\t\ttoken_decimal = await token_contract.methods.decimals().call()\r\n\t\t\t\taddress = value\r\n\t\t\t} catch (error) {\r\n\t\t\t\tmessage.error(t('error_no_erc20'))\r\n\t\t\t}\r\n\t\t}\r\n\t\t// console.debug(token_symbol)\r\n\t\tthis.setState({\r\n\t\t\ttoken_addr: address,\r\n\t\t\ttoken_symbol: token_symbol,\r\n\t\t\tdecimal: token_decimal,\r\n\t\t})\r\n\t}\r\n\r\n\tjump = async () => {\r\n\t\tconst { t } = this.props\r\n\t\tconst accounts = await window.ethereum.request({\r\n\t\t\tmethod: 'eth_requestAccounts',\r\n\t\t})\r\n\t\tconst account = accounts[0]\r\n\t\tthis.setState({\r\n\t\t\tusedAcc: account,\r\n\t\t})\r\n\r\n\t\tconst owner = await contract.methods.ownerOf(this.state.rootNFTId).call()\r\n\t\tlet issueId = await contract.methods.getIssueIdByNFTId(this.state.rootNFTId).call()\r\n\r\n\t\tlet bonus = await contract.methods.getRoyaltyFeeByIssueId(issueId).call()\r\n\r\n\t\tif (account == owner.toLowerCase()) {\r\n\t\t\tthis.setState({\r\n\t\t\t\tonLoading: false,\r\n\t\t\t\tallowSubmitPDF: true,\r\n\t\t\t\tjumped: true,\r\n\t\t\t\tbonusFee: bonus,\r\n\t\t\t})\r\n\t\t} else {\r\n\t\t\tmessage.warning({\r\n\t\t\t\tcontent: t('no_NFT_owner'),\r\n\t\t\t\tclassName: 'custom-class',\r\n\t\t\t\tstyle: {\r\n\t\t\t\t\tmarginTop: '10vh',\r\n\t\t\t\t},\r\n\t\t\t})\r\n\t\t}\r\n\t}\r\n\r\n\tsubmit = async () => {\r\n\t\t/*TODO: call smart contract publish() and wait for publish success event\r\n\t\t * then call backend to get a secret key. Then encrypt the pdf file and upload it to IPFS\r\n\t\t * Finally, form a new metadata json file and send its ipfs hash to backend and publish it\r\n\t\t */\r\n\t\tconst accounts = await window.ethereum.request({\r\n\t\t\tmethod: 'eth_requestAccounts',\r\n\t\t})\r\n\t\tconst account = accounts[0]\r\n\t\tthis.setState({\r\n\t\t\tusedAcc: account,\r\n\t\t})\r\n\t\tlet obj = this\r\n\t\tif (\r\n\t\t\tthis.state.price === 0 ||\r\n\t\t\tthis.state.bonusFee === 0 ||\r\n\t\t\tthis.state.shareTimes === 0 ||\r\n\t\t\tthis.state.token_addr === null\r\n\t\t) {\r\n\t\t\tmessage.error({\r\n\t\t\t\tcontent: '',\r\n\t\t\t\tclassName: 'custom-class',\r\n\t\t\t\tstyle: {\r\n\t\t\t\t\tmarginTop: '10vh',\r\n\t\t\t\t},\r\n\t\t\t})\r\n\t\t} else {\r\n\t\t\tthis.setState({\r\n\t\t\t\tonLoading: true,\r\n\t\t\t})\r\n\t\t\tlet price_with_decimal = this.state.price * 10 ** this.state.decimal\r\n\t\t\tprice_with_decimal = price_with_decimal.toString()\r\n\t\t\tlet ipfsToContract = '0x0000000000000000000000000000000000000000000000000000000000000000'\r\n\t\t\tconsole.debug('price_with_decimal: ', price_with_decimal)\r\n\t\t\tlet gasPrice = await web3.eth.getGasPrice()\r\n\t\t\tlet new_gas_price = Math.floor(parseInt(gasPrice) * 1.5).toString()\r\n\t\t\tcontract.methods\r\n\t\t\t\t.publish(price_with_decimal, this.state.bonusFee, this.state.shareTimes, ipfsToContract, this.state.token_addr)\r\n\t\t\t\t.send({\r\n\t\t\t\t\tfrom: this.state.usedAcc,\r\n\t\t\t\t\tgasPrice: new_gas_price,\r\n\t\t\t\t})\r\n\t\t\t\t.on('receipt', function (receipt) {\r\n\t\t\t\t\tconsole.log(receipt)\r\n\t\t\t\t\tlet publish_event = receipt.events.Publish\r\n\t\t\t\t\tlet returned_values = publish_event.returnValues\r\n\t\t\t\t\tlet root_nft_id = String(returned_values.rootNFTId)\r\n\t\t\t\t\tconsole.debug(typeof root_nft_id)\r\n\t\t\t\t\tlet issue_id = returned_values.issue_id\r\n\t\t\t\t\tobj.setState({\r\n\t\t\t\t\t\tonLoading: false,\r\n\t\t\t\t\t\trootNFTId: root_nft_id,\r\n\t\t\t\t\t\tissueId: issue_id,\r\n\t\t\t\t\t\tallowSubmitPDF: true,\r\n\t\t\t\t\t})\r\n\t\t\t\t\tmessage.success({\r\n\t\t\t\t\t\tcontent: '',\r\n\t\t\t\t\t\tclassName: 'custom-class',\r\n\t\t\t\t\t\tstyle: {\r\n\t\t\t\t\t\t\tmarginTop: '10vh',\r\n\t\t\t\t\t\t},\r\n\t\t\t\t\t})\r\n\t\t\t\t})\r\n\t\t\t\t.on('error', function (error) {\r\n\t\t\t\t\tobj.setState({\r\n\t\t\t\t\t\tonLoading: false,\r\n\t\t\t\t\t})\r\n\t\t\t\t\tif (error.message.includes('not mined')) {\r\n\t\t\t\t\t\tmessage.warning({\r\n\t\t\t\t\t\t\tcontent: '',\r\n\t\t\t\t\t\t\tclassName: 'custom-class',\r\n\t\t\t\t\t\t\tstyle: {\r\n\t\t\t\t\t\t\t\tmarginTop: '10vh',\r\n\t\t\t\t\t\t\t},\r\n\t\t\t\t\t\t})\r\n\t\t\t\t\t} else {\r\n\t\t\t\t\t\tconsole.debug(error.message)\r\n\t\t\t\t\t\tmessage.error({\r\n\t\t\t\t\t\t\tcontent: `Error: ${error.message}`,\r\n\t\t\t\t\t\t\tclassName: 'custom-class',\r\n\t\t\t\t\t\t\tstyle: {\r\n\t\t\t\t\t\t\t\tmarginTop: '10vh',\r\n\t\t\t\t\t\t\t},\r\n\t\t\t\t\t\t})\r\n\t\t\t\t\t}\r\n\t\t\t\t})\r\n\t\t}\r\n\t}\r\n\r\n\tcheckDetail = async () => {\r\n\t\tlet new_url = '/#/NFT/' + this.state.rootNFTId\r\n\t\twindow.open(new_url, '_self')\r\n\t}\r\n\r\n\tsubmitWork = async () => {\r\n\t\tif (this.state.ipfsHashCover === '' || this.state.fileIpfs === '') {\r\n\t\t\tmessage.error({\r\n\t\t\t\tcontent: '',\r\n\t\t\t\tclassName: 'custom-class',\r\n\t\t\t\tstyle: {\r\n\t\t\t\t\tmarginTop: '10vh',\r\n\t\t\t\t},\r\n\t\t\t})\r\n\t\t} else {\r\n\t\t\tlet img_url = 'https://coldcdn.com/api/cdn/v5ynur/ipfs/' + this.state.ipfsHashCover\r\n\t\t\tthis.setState({\r\n\t\t\t\tcoverURL: img_url,\r\n\t\t\t})\r\n\t\t\tconsole.debug('coverURL: ', this.state.coverURL)\r\n\t\t\tlet trimmed_des = this.state.description.replace(/(\\r\\n\\t|\\n|\\r\\t)/gm, ' ')\r\n\t\t\tconst accounts = await window.ethereum.request({\r\n\t\t\t\tmethod: 'eth_requestAccounts',\r\n\t\t\t})\r\n\t\t\tconst account = accounts[0]\r\n\t\t\tif (account !== this.state.usedAcc) {\r\n\t\t\t\tmessage.warning({\r\n\t\t\t\t\tcontent: '',\r\n\t\t\t\t\tclassName: 'custom-class',\r\n\t\t\t\t\tstyle: {\r\n\t\t\t\t\t\tmarginTop: '10vh',\r\n\t\t\t\t\t},\r\n\t\t\t\t})\r\n\t\t\t\treturn\r\n\t\t\t}\r\n\t\t\tlet file_url = 'https://coldcdn.com/api/cdn/v5ynur/ipfs/' + this.state.fileIpfs\r\n\t\t\tlet JSONBody = {\r\n\t\t\t\tname: this.state.name,\r\n\t\t\t\tdescription: trimmed_des,\r\n\t\t\t\timage: this.state.coverURL,\r\n\t\t\t\tattributes: [\r\n\t\t\t\t\t{\r\n\t\t\t\t\t\tdisplay_type: 'boost_percentage',\r\n\t\t\t\t\t\ttrait_type: 'Bonuse Percentage',\r\n\t\t\t\t\t\tvalue: this.state.bonusFee,\r\n\t\t\t\t\t},\r\n\t\t\t\t\t{\r\n\t\t\t\t\t\ttrait_type: 'File Address',\r\n\t\t\t\t\t\tvalue: file_url,\r\n\t\t\t\t\t},\r\n\t\t\t\t\t{\r\n\t\t\t\t\t\tvalue: this.state.fileType,\r\n\t\t\t\t\t},\r\n\t\t\t\t\t{\r\n\t\t\t\t\t\ttrait_type: 'Encrypted',\r\n\t\t\t\t\t\tvalue: 'TRUE',\r\n\t\t\t\t\t},\r\n\t\t\t\t],\r\n\t\t\t}\r\n\t\t\tconsole.debug(JSONBody)\r\n\t\t\tconst url = 'https://api.pinata.cloud/pinning/pinJSONToIPFS'\r\n\t\t\tlet obj = this\r\n\t\t\tthis.setState({\r\n\t\t\t\tonLoading: true,\r\n\t\t\t})\r\n\r\n\t\t\ttry {\r\n\t\t\t\tconst response = await axios.post(url, JSONBody, {\r\n\t\t\t\t\theaders: {\r\n\t\t\t\t\t\tpinata_api_key: pinata_api_key,\r\n\t\t\t\t\t\tpinata_secret_api_key: pinata_secret_api_key,\r\n\t\t\t\t\t},\r\n\t\t\t\t})\r\n\t\t\t\tconsole.debug('metadata: ', response.data.IpfsHash)\r\n\t\t\t\tconst bytes = bs58.decode(response.data.IpfsHash)\r\n\t\t\t\tconst bytesToContract = bytes.toString('hex').substring(4)\r\n\t\t\t\tconsole.log(bytesToContract)\r\n\t\t\t\tconsole.log(response.data.IpfsHash)\r\n\t\t\t\tthis.setState({\r\n\t\t\t\t\tipfsMeta: bytesToContract,\r\n\t\t\t\t})\r\n\r\n\t\t\t\tlet ipfsToContract = '0x' + bytesToContract\r\n\r\n\t\t\t\tlet gasPrice = await web3.eth.getGasPrice()\r\n\t\t\t\tlet new_gas_price = Math.floor(parseInt(gasPrice) * 1.5).toString()\r\n\r\n\t\t\t\tcontract.methods\r\n\t\t\t\t\t.setURI(obj.state.rootNFTId, ipfsToContract)\r\n\t\t\t\t\t.send({\r\n\t\t\t\t\t\tfrom: obj.state.usedAcc,\r\n\t\t\t\t\t\tgasPrice: new_gas_price,\r\n\t\t\t\t\t})\r\n\t\t\t\t\t.on('receipt', function (receipt) {\r\n\t\t\t\t\t\tconsole.debug(receipt.events.SetURI)\r\n\t\t\t\t\t\tmessage.success({\r\n\t\t\t\t\t\t\tcontent: '',\r\n\t\t\t\t\t\t\tclassName: 'custom-class',\r\n\t\t\t\t\t\t\tstyle: {\r\n\t\t\t\t\t\t\t\tmarginTop: '10vh',\r\n\t\t\t\t\t\t\t},\r\n\t\t\t\t\t\t})\r\n\t\t\t\t\t\tobj.setState({\r\n\t\t\t\t\t\t\tallowSubmitPDF: false,\r\n\t\t\t\t\t\t\tfinished: true,\r\n\t\t\t\t\t\t\tonLoading: false,\r\n\t\t\t\t\t\t})\r\n\t\t\t\t\t})\r\n\t\t\t\t\t.on('error', function (error) {\r\n\t\t\t\t\t\tobj.setState({\r\n\t\t\t\t\t\t\tonLoading: false,\r\n\t\t\t\t\t\t})\r\n\t\t\t\t\t\tmessage.error({\r\n\t\t\t\t\t\t\tcontent: `Error: ${error.message}`,\r\n\t\t\t\t\t\t\tclassName: 'custom-class',\r\n\t\t\t\t\t\t\tstyle: {\r\n\t\t\t\t\t\t\t\tmarginTop: '10vh',\r\n\t\t\t\t\t\t\t},\r\n\t\t\t\t\t\t})\r\n\t\t\t\t\t})\r\n\t\t\t} catch (error) {\r\n\t\t\t\tmessage.error({\r\n\t\t\t\t\tcontent: `Error: ${error.message}`,\r\n\t\t\t\t\tclassName: 'custom-class',\r\n\t\t\t\t\tstyle: {\r\n\t\t\t\t\t\tmarginTop: '10vh',\r\n\t\t\t\t\t},\r\n\t\t\t\t})\r\n\t\t\t}\r\n\t\t}\r\n\t}\r\n\r\n\trender() {\r\n\t\tconst { t } = this.props\r\n\t\tconst { classes } = this.props\r\n\t\tconsole.log(t, classes)\r\n\t\tlet obj = this\r\n\t\tconst { TextArea } = Input\r\n\t\tconst options = this.state.data.map((d) => <Option key={d.value}>{d.text}</Option>)\r\n\t\tconst prop = {\r\n\t\t\tname: 'file',\r\n\t\t\taction: 'https://api.pinata.cloud/pinning/pinFileToIPFS',\r\n\t\t\theaders: {\r\n\t\t\t\tpinata_api_key: pinata_api_key,\r\n\t\t\t\tpinata_secret_api_key: pinata_secret_api_key,\r\n\t\t\t},\r\n\t\t\tdata: this.state.buffer,\r\n\t\t\tbeforeUpload: (file) => {\r\n\t\t\t\treturn new Promise((resolve, reject) => {\r\n\t\t\t\t\ttry {\r\n\t\t\t\t\t\tconst reader = new FileReader()\r\n\t\t\t\t\t\treader.readAsArrayBuffer(file)\r\n\t\t\t\t\t\treader.onload = (e) => {\r\n\t\t\t\t\t\t\tlet b = e.target.result\r\n\t\t\t\t\t\t\tlet params = new FormData()\r\n\t\t\t\t\t\t\tparams.append('file', b)\r\n\t\t\t\t\t\t\tthis.setState({\r\n\t\t\t\t\t\t\t\tbuffer: params,\r\n\t\t\t\t\t\t\t})\r\n\t\t\t\t\t\t}\r\n\t\t\t\t\t\tresolve()\r\n\t\t\t\t\t} catch (e) {\r\n\t\t\t\t\t\tmessage.error('Read file error')\r\n\t\t\t\t\t\treject()\r\n\t\t\t\t\t}\r\n\t\t\t\t})\r\n\t\t\t},\r\n\t\t\tasync onChange(info) {\r\n\t\t\t\tconst { status } = info.file\r\n\t\t\t\t// text/plain image/jpeg application/pdf\r\n\t\t\t\tif (status === 'done') {\r\n\t\t\t\t\tmessage.success(`${info.file.name} file uploaded successfully.`)\r\n\t\t\t\t\tobj.setState({\r\n\t\t\t\t\t\tipfsHashCover: info.file.response.IpfsHash,\r\n\t\t\t\t\t})\r\n\t\t\t\t} else if (status === 'error') {\r\n\t\t\t\t\tmessage.error(`${info.file.name} file upload failed.`)\r\n\t\t\t\t}\r\n\t\t\t},\r\n\t\t\tonDrop(e) {\r\n\t\t\t\tmessage.error('Only image file supported')\r\n\t\t\t\tconsole.log('Dropped files', e.dataTransfer.files)\r\n\t\t\t},\r\n\t\t}\r\n\r\n\t\tconst propFile = {\r\n\t\t\tname: 'file',\r\n\t\t\taction: 'https://api.pinata.cloud/pinning/pinFileToIPFS',\r\n\t\t\theaders: {\r\n\t\t\t\tpinata_api_key: pinata_api_key,\r\n\t\t\t\tpinata_secret_api_key: pinata_secret_api_key,\r\n\t\t\t},\r\n\t\t\tbeforeUpload: (file) => {\r\n\t\t\t\t// eslint-disable-next-line no-async-promise-executor\r\n\t\t\t\treturn new Promise(async (resolve, reject) => {\r\n\t\t\t\t\ttry {\r\n\t\t\t\t\t\tconst accounts = await window.ethereum.request({\r\n\t\t\t\t\t\t\tmethod: 'eth_requestAccounts',\r\n\t\t\t\t\t\t})\r\n\t\t\t\t\t\tconst signer = accounts[0]\r\n\t\t\t\t\t\tlet message = {\r\n\t\t\t\t\t\t\taccount: signer,\r\n\t\t\t\t\t\t\tnft_id: obj.state.rootNFTId,\r\n\t\t\t\t\t\t}\r\n\t\t\t\t\t\tconst sig = await web3.eth.personal.sign(JSON.stringify(message), signer)\r\n\t\t\t\t\t\tconsole.debug(sig)\r\n\t\t\t\t\t\tlet payload = {\r\n\t\t\t\t\t\t\tnft_id: obj.state.rootNFTId,\r\n\t\t\t\t\t\t\taccount: signer,\r\n\t\t\t\t\t\t\tsignature: sig,\r\n\t\t\t\t\t\t}\r\n\t\t\t\t\t\tlet payload_str = JSON.stringify(payload)\r\n\t\t\t\t\t\tconsole.log(payload_str)\r\n\t\t\t\t\t\tlet req_key_url = backend + '/api/v1/key/claim'\r\n\t\t\t\t\t\ttry {\r\n\t\t\t\t\t\t\tconst res = await axios.post(req_key_url, payload_str, {\r\n\t\t\t\t\t\t\t\theaders: {\r\n\t\t\t\t\t\t\t\t\t'Content-Type': 'application/json',\r\n\t\t\t\t\t\t\t\t},\r\n\t\t\t\t\t\t\t})\r\n\t\t\t\t\t\t\tlet secret_key = res.data.key //res.data.key\r\n\t\t\t\t\t\t\tconsole.debug(secret_key)\r\n\t\t\t\t\t\t\t// if (file.type === 'text/plain') {\r\n\t\t\t\t\t\t\tconst reader = new FileReader()\r\n\t\t\t\t\t\t\treader.readAsArrayBuffer(file)\r\n\t\t\t\t\t\t\treader.onload = (e) => {\r\n\t\t\t\t\t\t\t\tlet b = e.target.result\r\n\t\t\t\t\t\t\t\tlet wordArray = CryptoJS.lib.WordArray.create(b)\r\n\t\t\t\t\t\t\t\tconst str = CryptoJS.enc.Hex.stringify(wordArray)\r\n\t\t\t\t\t\t\t\tlet cipher_text = CryptoJS.AES.encrypt(str, secret_key).toString()\r\n\t\t\t\t\t\t\t\tlet myblob = new Blob([cipher_text])\r\n\t\t\t\t\t\t\t\tresolve(myblob)\r\n\t\t\t\t\t\t\t}\r\n\t\t\t\t\t\t} catch (error) {\r\n\t\t\t\t\t\t\tif (error.response.status == 400) {\r\n\t\t\t\t\t\t\t\tif (error.response.data.message.includes('signature invalid')) {\r\n\t\t\t\t\t\t\t\t\tmessage.error({\r\n\t\t\t\t\t\t\t\t\t\tcontent: '',\r\n\t\t\t\t\t\t\t\t\t\tclassName: 'custom-class',\r\n\t\t\t\t\t\t\t\t\t\tstyle: {\r\n\t\t\t\t\t\t\t\t\t\t\tmarginTop: '10vh',\r\n\t\t\t\t\t\t\t\t\t\t},\r\n\t\t\t\t\t\t\t\t\t})\r\n\t\t\t\t\t\t\t\t} else if (error.response.data.message.includes('param invalid')) {\r\n\t\t\t\t\t\t\t\t\tmessage.error({\r\n\t\t\t\t\t\t\t\t\t\tcontent: '',\r\n\t\t\t\t\t\t\t\t\t\tclassName: 'custom-class',\r\n\t\t\t\t\t\t\t\t\t\tstyle: {\r\n\t\t\t\t\t\t\t\t\t\t\tmarginTop: '10vh',\r\n\t\t\t\t\t\t\t\t\t\t},\r\n\t\t\t\t\t\t\t\t\t})\r\n\t\t\t\t\t\t\t\t} else if (error.response.data.message.includes('not owned')) {\r\n\t\t\t\t\t\t\t\t\tmessage.error({\r\n\t\t\t\t\t\t\t\t\t\tcontent: 'nft',\r\n\t\t\t\t\t\t\t\t\t\tclassName: 'custom-class',\r\n\t\t\t\t\t\t\t\t\t\tstyle: {\r\n\t\t\t\t\t\t\t\t\t\t\tmarginTop: '10vh',\r\n\t\t\t\t\t\t\t\t\t\t},\r\n\t\t\t\t\t\t\t\t\t})\r\n\t\t\t\t\t\t\t\t} else if (error.response.data.message.includes('not found')) {\r\n\t\t\t\t\t\t\t\t\tmessage.error({\r\n\t\t\t\t\t\t\t\t\t\tcontent: 'nft',\r\n\t\t\t\t\t\t\t\t\t\tclassName: 'custom-class',\r\n\t\t\t\t\t\t\t\t\t\tstyle: {\r\n\t\t\t\t\t\t\t\t\t\t\tmarginTop: '10vh',\r\n\t\t\t\t\t\t\t\t\t\t},\r\n\t\t\t\t\t\t\t\t\t})\r\n\t\t\t\t\t\t\t\t}\r\n\t\t\t\t\t\t\t} else {\r\n\t\t\t\t\t\t\t\tmessage.error({\r\n\t\t\t\t\t\t\t\t\tcontent: '',\r\n\t\t\t\t\t\t\t\t\tclassName: 'custom-class',\r\n\t\t\t\t\t\t\t\t\tstyle: {\r\n\t\t\t\t\t\t\t\t\t\tmarginTop: '10vh',\r\n\t\t\t\t\t\t\t\t\t},\r\n\t\t\t\t\t\t\t\t})\r\n\t\t\t\t\t\t\t}\r\n\t\t\t\t\t\t}\r\n\t\t\t\t\t} catch (e) {\r\n\t\t\t\t\t\tmessage.error({\r\n\t\t\t\t\t\t\tcontent: 'Read file error',\r\n\t\t\t\t\t\t\tclassName: 'custom-class',\r\n\t\t\t\t\t\t\tstyle: {\r\n\t\t\t\t\t\t\t\tmarginTop: '10vh',\r\n\t\t\t\t\t\t\t},\r\n\t\t\t\t\t\t})\r\n\t\t\t\t\t\treject()\r\n\t\t\t\t\t}\r\n\t\t\t\t})\r\n\t\t\t},\r\n\t\t\tonChange(info) {\r\n\t\t\t\tconst { status } = info.file\r\n\t\t\t\tif (status === 'done') {\r\n\t\t\t\t\tlet file_type = info.file.name.split('.')\r\n\t\t\t\t\tlet file_suffix = file_type[file_type.length - 1]\r\n\t\t\t\t\tobj.setState({\r\n\t\t\t\t\t\tfileIpfs: info.file.response.IpfsHash,\r\n\t\t\t\t\t\tfileType: file_suffix,\r\n\t\t\t\t\t})\r\n\t\t\t\t\tconsole.debug('encrypted file hash: ', info.file.response.IpfsHash)\r\n\t\t\t\t\tmessage.success(`${info.file.name} file uploaded successfully.`)\r\n\t\t\t\t}\r\n\t\t\t},\r\n\t\t\tonDrop(e) {\r\n\t\t\t\tconsole.log('Dropped files', e.dataTransfer.files)\r\n\t\t\t},\r\n\t\t}\r\n\r\n\t\tif (this.state.allowSubmitPDF) {\r\n\t\t\treturn (\r\n\t\t\t\t<Spin spinning={this.state.onLoading} size=\"large\">\r\n\t\t\t\t\t<Container component=\"main\" maxWidth=\"xs\" className={classes.main}>\r\n\t\t\t\t\t\t<div className={classes.paper}>\r\n\t\t\t\t\t\t\t<Typography className={classes.titlePub}>\r\n\t\t\t\t\t\t\t\t<b>{t('up_file')}</b>\r\n\t\t\t\t\t\t\t</Typography>\r\n\t\t\t\t\t\t\t<form className={classes.form} noValidate>\r\n\t\t\t\t\t\t\t\t{this.state.jumped ? (\r\n\t\t\t\t\t\t\t\t\t<div>\r\n\t\t\t\t\t\t\t\t\t\t<Grid item style={{ width: '100%' }}>\r\n\t\t\t\t\t\t\t\t\t\t\t<label style={{ fontSize: 18, marginBottom: 10 }}>{t('art_name')} *</label>\r\n\t\t\t\t\t\t\t\t\t\t\t<Input\r\n\t\t\t\t\t\t\t\t\t\t\t\tplaceholder={t('art_name')}\r\n\t\t\t\t\t\t\t\t\t\t\t\tallowClear\r\n\t\t\t\t\t\t\t\t\t\t\t\tid=\"pubName\"\r\n\t\t\t\t\t\t\t\t\t\t\t\tonChange={this.handleGetPubName}\r\n\t\t\t\t\t\t\t\t\t\t\t\tvalue={this.state.name}\r\n\t\t\t\t\t\t\t\t\t\t\t\tclassName={classes.input}\r\n\t\t\t\t\t\t\t\t\t\t\t/>\r\n\t\t\t\t\t\t\t\t\t\t</Grid>\r\n\t\t\t\t\t\t\t\t\t\t<Grid item style={{ width: '100%' }}>\r\n\t\t\t\t\t\t\t\t\t\t\t<label style={{ fontSize: 18, marginTop: 20 }}>{t('art_desc')} *</label>\r\n\t\t\t\t\t\t\t\t\t\t\t<p style={{ fontSize: 14 }}>{t('art_desc_tip')}</p>\r\n\t\t\t\t\t\t\t\t\t\t\t<TextArea rows={4} id=\"Description\" onChange={this.handleGetDescription} />\r\n\t\t\t\t\t\t\t\t\t\t</Grid>\r\n\t\t\t\t\t\t\t\t\t</div>\r\n\t\t\t\t\t\t\t\t) : (\r\n\t\t\t\t\t\t\t\t\t<div></div>\r\n\t\t\t\t\t\t\t\t)}\r\n\t\t\t\t\t\t\t\t<label style={{ fontSize: 18, marginTop: 50 }}>{t('pic_cover')} *</label>\r\n\t\t\t\t\t\t\t\t<p style={{ fontSize: 12 }}>{t('pic_cover_tip')}</p>\r\n\t\t\t\t\t\t\t\t<Dragger {...prop} style={{ width: '100%', minHeight: 100 }} id=\"Uploader\" accept=\".png, .jpg, .jpeg\">\r\n\t\t\t\t\t\t\t\t\t<p className=\"ant-upload-drag-icon\">\r\n\t\t\t\t\t\t\t\t\t\t<InboxOutlined />\r\n\t\t\t\t\t\t\t\t\t</p>\r\n\t\t\t\t\t\t\t\t\t<p className=\"ant-upload-text\">{t('upload_file_tip1')}</p>\r\n\t\t\t\t\t\t\t\t\t<p className=\"ant-upload-hint\">{t('upload_file_tip2')}</p>\r\n\t\t\t\t\t\t\t\t</Dragger>\r\n\r\n\t\t\t\t\t\t\t\t<label style={{ fontSize: 18, marginTop: 50 }}>{t('art_file')} *</label>\r\n\t\t\t\t\t\t\t\t<p style={{ fontSize: 12 }}>{t('art_file_tip')} </p>\r\n\t\t\t\t\t\t\t\t<Dragger {...propFile} style={{ width: '100%', minHeight: 100 }} id=\"Uploader2\">\r\n\t\t\t\t\t\t\t\t\t<p className=\"ant-upload-drag-icon\">\r\n\t\t\t\t\t\t\t\t\t\t<InboxOutlined />\r\n\t\t\t\t\t\t\t\t\t</p>\r\n\t\t\t\t\t\t\t\t\t<p className=\"ant-upload-text\">{t('upload_file_tip1')}</p>\r\n\t\t\t\t\t\t\t\t\t<p className=\"ant-upload-hint\">{t('upload_file_tip2')}</p>\r\n\t\t\t\t\t\t\t\t</Dragger>\r\n\t\t\t\t\t\t\t\t<div style={{ textAlign: 'center' }}>\r\n\t\t\t\t\t\t\t\t\t<Button\r\n\t\t\t\t\t\t\t\t\t\tvariant=\"contained\"\r\n\t\t\t\t\t\t\t\t\t\tstartIcon={<CloudUploadOutlined />}\r\n\t\t\t\t\t\t\t\t\t\tclassName={classes.btnPub}\r\n\t\t\t\t\t\t\t\t\t\tonClick={this.submitWork}\r\n\t\t\t\t\t\t\t\t\t>\r\n\t\t\t\t\t\t\t\t\t\t\r\n\t\t\t\t\t\t\t\t\t</Button>\r\n\t\t\t\t\t\t\t\t</div>\r\n\t\t\t\t\t\t\t</form>\r\n\t\t\t\t\t\t</div>\r\n\t\t\t\t\t</Container>\r\n\t\t\t\t</Spin>\r\n\t\t\t)\r\n\t\t} else if (this.state.finished) {\r\n\t\t\treturn (\r\n\t\t\t\t<Spin spinning={this.state.onLoading} size=\"large\">\r\n\t\t\t\t\t<ThemeProvider theme={theme}>\r\n\t\t\t\t\t\t<TopBar />\r\n\t\t\t\t\t\t<div style={{ textAlign: 'center' }}>\r\n\t\t\t\t\t\t\t<Typography className={classes.titleCon}>\r\n\t\t\t\t\t\t\t\t<b> {t('pulish_success')}</b>\r\n\t\t\t\t\t\t\t</Typography>\r\n\r\n\t\t\t\t\t\t\t<Paper className={classes.paperImg}>\r\n\t\t\t\t\t\t\t\t<img style={{ width: 300, marginTop: 20, marginBottom: 50 }} src={this.state.coverURL}></img>\r\n\t\t\t\t\t\t\t</Paper>\r\n\t\t\t\t\t\t\t<Typography variant=\"h4\" style={{ marginTop: 20, fontFamily: 'Ubuntu' }}>\r\n\t\t\t\t\t\t\t\t<b>\r\n\t\t\t\t\t\t\t\t\t{t('you_gain_nft')} #{this.state.rootNFTId}\r\n\t\t\t\t\t\t\t\t</b>\r\n\t\t\t\t\t\t\t</Typography>\r\n\r\n\t\t\t\t\t\t\t<Button\r\n\t\t\t\t\t\t\t\tvariant=\"contained\"\r\n\t\t\t\t\t\t\t\tclassName={classes.button}\r\n\t\t\t\t\t\t\t\tstyle={{\r\n\t\t\t\t\t\t\t\t\tmarginTop: 50,\r\n\t\t\t\t\t\t\t\t\twidth: 200,\r\n\t\t\t\t\t\t\t\t\theight: 50,\r\n\t\t\t\t\t\t\t\t\tmarginBottom: 50,\r\n\t\t\t\t\t\t\t\t}}\r\n\t\t\t\t\t\t\t\tonClick={this.checkDetail}\r\n\t\t\t\t\t\t\t>\r\n\t\t\t\t\t\t\t\t{t('show_detail')}\r\n\t\t\t\t\t\t\t</Button>\r\n\t\t\t\t\t\t</div>\r\n\t\t\t\t\t</ThemeProvider>\r\n\t\t\t\t</Spin>\r\n\t\t\t)\r\n\t\t} else {\r\n\t\t\treturn (\r\n\t\t\t\t<Spin spinning={this.state.onLoading} size=\"large\">\r\n\t\t\t\t\t<ThemeProvider theme={theme}>\r\n\t\t\t\t\t\t<TopBar />\r\n\t\t\t\t\t\t<Container component=\"main\" maxWidth=\"xs\" className={classes.main}>\r\n\t\t\t\t\t\t\t<div className={classes.paper}>\r\n\t\t\t\t\t\t\t\t<Typography className={classes.titlePub}>\r\n\t\t\t\t\t\t\t\t\t<b>{t('art_info')}</b>\r\n\t\t\t\t\t\t\t\t</Typography>\r\n\t\t\t\t\t\t\t\t<form className={classes.form} noValidate>\r\n\t\t\t\t\t\t\t\t\t<Grid container spacing={2}>\r\n\t\t\t\t\t\t\t\t\t\t<Grid item style={{ width: '100%' }}>\r\n\t\t\t\t\t\t\t\t\t\t\t<label style={{ fontSize: 18, marginBottom: 10 }}>{t('art_name')} *</label>\r\n\t\t\t\t\t\t\t\t\t\t\t<Input\r\n\t\t\t\t\t\t\t\t\t\t\t\tplaceholder={t('art_name')}\r\n\t\t\t\t\t\t\t\t\t\t\t\tallowClear\r\n\t\t\t\t\t\t\t\t\t\t\t\tid=\"pubName\"\r\n\t\t\t\t\t\t\t\t\t\t\t\tonChange={this.handleGetPubName}\r\n\t\t\t\t\t\t\t\t\t\t\t\tvalue={this.state.name}\r\n\t\t\t\t\t\t\t\t\t\t\t\tclassName={classes.input}\r\n\t\t\t\t\t\t\t\t\t\t\t/>\r\n\t\t\t\t\t\t\t\t\t\t</Grid>\r\n\t\t\t\t\t\t\t\t\t\t<Grid item style={{ width: '100%' }}>\r\n\t\t\t\t\t\t\t\t\t\t\t<label style={{ fontSize: 18, marginTop: 20 }}>{t('fit_rate')} *</label>\r\n\t\t\t\t\t\t\t\t\t\t\t<p style={{ fontSize: 14 }}>{t('fit_rate_tip')}</p>\r\n\t\t\t\t\t\t\t\t\t\t\t<InputNumber\r\n\t\t\t\t\t\t\t\t\t\t\t\tid=\"bonusFee\"\r\n\t\t\t\t\t\t\t\t\t\t\t\tdefaultValue={0}\r\n\t\t\t\t\t\t\t\t\t\t\t\tmin={0}\r\n\t\t\t\t\t\t\t\t\t\t\t\tmax={100}\r\n\t\t\t\t\t\t\t\t\t\t\t\tformatter={(value) => `${value}%`}\r\n\t\t\t\t\t\t\t\t\t\t\t\tparser={(value) => value.replace('%', '')}\r\n\t\t\t\t\t\t\t\t\t\t\t\tonChange={this.handleGetBonusFee}\r\n\t\t\t\t\t\t\t\t\t\t\t\tclassName={classes.inputNum}\r\n\t\t\t\t\t\t\t\t\t\t\t/>\r\n\t\t\t\t\t\t\t\t\t\t</Grid>\r\n\t\t\t\t\t\t\t\t\t\t<Grid item style={{ width: '100%' }}>\r\n\t\t\t\t\t\t\t\t\t\t\t<label style={{ fontSize: 18, marginTop: 20 }}>{t('access_coin')} *</label>\r\n\t\t\t\t\t\t\t\t\t\t\t<p style={{ fontSize: 14 }}>{t('access_coin_tip')}</p>\r\n\t\t\t\t\t\t\t\t\t\t\t<Select\r\n\t\t\t\t\t\t\t\t\t\t\t\tshowSearch\r\n\t\t\t\t\t\t\t\t\t\t\t\tvalue={this.state.token_addr}\r\n\t\t\t\t\t\t\t\t\t\t\t\tplaceholder={t('please_input_coin')}\r\n\t\t\t\t\t\t\t\t\t\t\t\t// className={classes.input}\r\n\t\t\t\t\t\t\t\t\t\t\t\tstyle={{ width: '100%' }}\r\n\t\t\t\t\t\t\t\t\t\t\t\tsize=\"large\"\r\n\t\t\t\t\t\t\t\t\t\t\t\tdefaultActiveFirstOption={false}\r\n\t\t\t\t\t\t\t\t\t\t\t\tshowArrow={false}\r\n\t\t\t\t\t\t\t\t\t\t\t\tfilterOption={false}\r\n\t\t\t\t\t\t\t\t\t\t\t\tonSearch={this.handleSearch}\r\n\t\t\t\t\t\t\t\t\t\t\t\tonChange={this.handleSelectChange}\r\n\t\t\t\t\t\t\t\t\t\t\t\tnotFoundContent={null}\r\n\t\t\t\t\t\t\t\t\t\t\t>\r\n\t\t\t\t\t\t\t\t\t\t\t\t{options}\r\n\t\t\t\t\t\t\t\t\t\t\t</Select>\r\n\t\t\t\t\t\t\t\t\t\t</Grid>\r\n\t\t\t\t\t\t\t\t\t\t<Grid item style={{ width: '100%' }}>\r\n\t\t\t\t\t\t\t\t\t\t\t<label style={{ fontSize: 18, marginTop: 20 }}>\r\n\t\t\t\t\t\t\t\t\t\t\t\t{t('price')} ({this.state.token_symbol})*\r\n\t\t\t\t\t\t\t\t\t\t\t</label>\r\n\t\t\t\t\t\t\t\t\t\t\t<InputNumber\r\n\t\t\t\t\t\t\t\t\t\t\t\tid=\"price\"\r\n\t\t\t\t\t\t\t\t\t\t\t\tdefaultValue={0}\r\n\t\t\t\t\t\t\t\t\t\t\t\tmin={0}\r\n\t\t\t\t\t\t\t\t\t\t\t\tonChange={this.handleGetPrice}\r\n\t\t\t\t\t\t\t\t\t\t\t\tclassName={classes.inputNum}\r\n\t\t\t\t\t\t\t\t\t\t\t/>\r\n\t\t\t\t\t\t\t\t\t\t</Grid>\r\n\t\t\t\t\t\t\t\t\t\t<Grid item style={{ width: '100%' }}>\r\n\t\t\t\t\t\t\t\t\t\t\t<label style={{ fontSize: 18, marginTop: 20 }}>{t('max_share')} (MAX 65535)*</label>\r\n\t\t\t\t\t\t\t\t\t\t\t<p style={{ fontSize: 14 }}>{t('max_share_tip')}</p>\r\n\t\t\t\t\t\t\t\t\t\t\t<InputNumber\r\n\t\t\t\t\t\t\t\t\t\t\t\tid=\"shareTimes\"\r\n\t\t\t\t\t\t\t\t\t\t\t\tdefaultValue={0}\r\n\t\t\t\t\t\t\t\t\t\t\t\tmin={0}\r\n\t\t\t\t\t\t\t\t\t\t\t\tmax={65535}\r\n\t\t\t\t\t\t\t\t\t\t\t\tonChange={this.handleGetShareTimes}\r\n\t\t\t\t\t\t\t\t\t\t\t\tclassName={classes.inputNum}\r\n\t\t\t\t\t\t\t\t\t\t\t/>\r\n\t\t\t\t\t\t\t\t\t\t</Grid>\r\n\t\t\t\t\t\t\t\t\t\t<Grid item style={{ width: '100%' }}>\r\n\t\t\t\t\t\t\t\t\t\t\t<label style={{ fontSize: 18, marginTop: 20 }}>{t('art_desc')} *</label>\r\n\t\t\t\t\t\t\t\t\t\t\t<p style={{ fontSize: 14 }}>{t('art_desc_tip')}</p>\r\n\t\t\t\t\t\t\t\t\t\t\t<TextArea rows={4} id=\"Description\" onChange={this.handleGetDescription} />\r\n\t\t\t\t\t\t\t\t\t\t</Grid>\r\n\t\t\t\t\t\t\t\t\t</Grid>\r\n\t\t\t\t\t\t\t\t</form>\r\n\t\t\t\t\t\t\t\t<Grid container alignItems=\"center\" spacing={4} style={{ marginTop: 20, marginBottom: 50 }}>\r\n\t\t\t\t\t\t\t\t\t<Grid item xs style={{ textAlign: 'center' }}>\r\n\t\t\t\t\t\t\t\t\t\t<Button\r\n\t\t\t\t\t\t\t\t\t\t\tvariant=\"contained\"\r\n\t\t\t\t\t\t\t\t\t\t\tclassName={classes.button}\r\n\t\t\t\t\t\t\t\t\t\t\tstartIcon={<CloudUploadOutlined />}\r\n\t\t\t\t\t\t\t\t\t\t\tstyle={{\r\n\t\t\t\t\t\t\t\t\t\t\t\twidth: 200,\r\n\t\t\t\t\t\t\t\t\t\t\t\theight: 50,\r\n\t\t\t\t\t\t\t\t\t\t\t\tmarginBottom: 20,\r\n\t\t\t\t\t\t\t\t\t\t\t\tmarginTop: 20,\r\n\t\t\t\t\t\t\t\t\t\t\t}}\r\n\t\t\t\t\t\t\t\t\t\t\tonClick={this.submit}\r\n\t\t\t\t\t\t\t\t\t\t>\r\n\t\t\t\t\t\t\t\t\t\t\t{t('submit')}\r\n\t\t\t\t\t\t\t\t\t\t</Button>\r\n\t\t\t\t\t\t\t\t\t</Grid>\r\n\t\t\t\t\t\t\t\t\t<Grid item xs style={{ textAlign: 'center' }}>\r\n\t\t\t\t\t\t\t\t\t\t<Link onClick={this.handleClickOpen} style={{ fontSize: 10, textDecoration: 'underline' }}>\r\n\t\t\t\t\t\t\t\t\t\t\t{t('have_submit')}\r\n\t\t\t\t\t\t\t\t\t\t</Link>\r\n\t\t\t\t\t\t\t\t\t</Grid>\r\n\t\t\t\t\t\t\t\t</Grid>\r\n\t\t\t\t\t\t\t\t<Dialog open={this.state.open} onClose={this.handleClose} aria-labelledby=\"form-dialog-title\">\r\n\t\t\t\t\t\t\t\t\t<DialogTitle id=\"form-dialog-title\">{t('inpt_NFT_ID')}</DialogTitle>\r\n\t\t\t\t\t\t\t\t\t<DialogContent>\r\n\t\t\t\t\t\t\t\t\t\t<DialogContentText>{t('inpt_NFT_ID_tip')}</DialogContentText>\r\n\t\t\t\t\t\t\t\t\t\t<label style={{ fontSize: 14, marginBottom: 10 }}>NFT ID *</label>\r\n\t\t\t\t\t\t\t\t\t\t<InputNumber defaultValue={0} min={0} onChange={this.handleGetNFTId} />\r\n\t\t\t\t\t\t\t\t\t</DialogContent>\r\n\t\t\t\t\t\t\t\t\t<DialogActions>\r\n\t\t\t\t\t\t\t\t\t\t<Button onClick={this.handleClose} color=\"primary\">\r\n\t\t\t\t\t\t\t\t\t\t\t{t('cancel')}\r\n\t\t\t\t\t\t\t\t\t\t</Button>\r\n\t\t\t\t\t\t\t\t\t\t<Button variant=\"contained\" onClick={this.jump} color=\"primary\">\r\n\t\t\t\t\t\t\t\t\t\t\t{t('go_upload')}\r\n\t\t\t\t\t\t\t\t\t\t</Button>\r\n\t\t\t\t\t\t\t\t\t</DialogActions>\r\n\t\t\t\t\t\t\t\t</Dialog>\r\n\t\t\t\t\t\t\t</div>\r\n\t\t\t\t\t\t</Container>\r\n\t\t\t\t\t</ThemeProvider>\r\n\t\t\t\t</Spin>\r\n\t\t\t)\r\n\t\t}\r\n\t}\r\n}\r\n\r\nexport default withTranslation()(withStyles(styles, { withTheme: true })(EncryptedPublish))\r\n//todo \r\n","import '../App.css'\r\nimport React, { Component } from 'react'\r\nimport { createTheme, ThemeProvider, withStyles } from '@material-ui/core/styles'\r\nimport Typography from '@material-ui/core/Typography'\r\nimport Container from '@material-ui/core/Container'\r\nimport TopBar from '../components/TopBar'\r\n\r\nconst styles = (theme) => ({\r\n\ticon: {\r\n\t\tmarginRight: theme.spacing(2),\r\n\t},\r\n\ttitleFont: {\r\n\t\tfontFamily: 'Teko',\r\n\t},\r\n\tbtn: {\r\n\t\tcolor: '#424949',\r\n\t\tborderWidth: 2,\r\n\t\tborderColor: '#e3f2fd',\r\n\t\tfontSize: 16,\r\n\t},\r\n\tbtnMain: {\r\n\t\tcolor: '#FFFFFF',\r\n\t\tborderColor: '#e3f2fd',\r\n\t\tborderWidth: 2,\r\n\t\tborderRadius: 25,\r\n\t\t[theme.breakpoints.between('xs', 'sm')]: {\r\n\t\t\tfontSize: 5,\r\n\t\t},\r\n\t\t[theme.breakpoints.between('sm', 'md')]: {\r\n\t\t\tfontSize: 10,\r\n\t\t},\r\n\t\t[theme.breakpoints.between('md', 'lg')]: {\r\n\t\t\tfontSize: 16,\r\n\t\t},\r\n\t\t[theme.breakpoints.between('lg', 'xl')]: {\r\n\t\t\tfontSize: 16,\r\n\t\t\twidth: 150,\r\n\t\t},\r\n\t\t[theme.breakpoints.up('xl')]: {\r\n\t\t\tfontSize: 30,\r\n\t\t\twidth: 300,\r\n\t\t\theight: 70,\r\n\t\t},\r\n\t},\r\n\tbtnSecond: {\r\n\t\t// marginTop: theme.spacing(3),\r\n\t\tcolor: '#03A9F4',\r\n\t\tborderColor: '#03A9F4',\r\n\t\tborderWidth: 2,\r\n\t\tborderRadius: 25,\r\n\t\t[theme.breakpoints.between('xs', 'sm')]: {\r\n\t\t\tfontSize: 5,\r\n\t\t\twidth: 95,\r\n\t\t},\r\n\t\t[theme.breakpoints.between('sm', 'md')]: {\r\n\t\t\tfontSize: 10,\r\n\t\t},\r\n\t\t[theme.breakpoints.between('md', 'lg')]: {\r\n\t\t\tfontSize: 16,\r\n\t\t},\r\n\t\t[theme.breakpoints.between('lg', 'xl')]: {\r\n\t\t\tfontSize: 16,\r\n\t\t\twidth: 150,\r\n\t\t},\r\n\t\t[theme.breakpoints.up('xl')]: {\r\n\t\t\tfontSize: 30,\r\n\t\t\twidth: 300,\r\n\t\t\theight: 70,\r\n\t\t},\r\n\t},\r\n\tpaper: {\r\n\t\tmarginTop: theme.spacing(7),\r\n\t\tmaxWidth: '150%',\r\n\t},\r\n\r\n\tcontent: {\r\n\t\tfontFamily: 'Teko',\r\n\t\tmarginTop: 20,\r\n\t\tlineHeight: 1.5,\r\n\t\t[theme.breakpoints.between('xs', 'sm')]: {\r\n\t\t\tfontSize: 16,\r\n\t\t},\r\n\t\t[theme.breakpoints.between('sm', 'md')]: {\r\n\t\t\tfontSize: 20,\r\n\t\t},\r\n\t\t[theme.breakpoints.between('md', 'lg')]: {\r\n\t\t\tfontSize: 20,\r\n\t\t},\r\n\t\t[theme.breakpoints.between('lg', 'xl')]: {\r\n\t\t\tfontSize: 20,\r\n\t\t},\r\n\t\t[theme.breakpoints.up('xl')]: {\r\n\t\t\tfontSize: 30,\r\n\t\t},\r\n\t},\r\n\r\n\tshouldKnow: {\r\n\t\tfontFamily: 'Teko',\r\n\t\ttextAlign: 'center',\r\n\t\t[theme.breakpoints.between('xs', 'sm')]: {\r\n\t\t\tfontSize: 16,\r\n\t\t},\r\n\t\t[theme.breakpoints.between('sm', 'md')]: {\r\n\t\t\tfontSize: 20,\r\n\t\t},\r\n\t\t[theme.breakpoints.between('md', 'lg')]: {\r\n\t\t\tfontSize: 40,\r\n\t\t},\r\n\t\t[theme.breakpoints.between('lg', 'xl')]: {\r\n\t\t\tfontSize: 40,\r\n\t\t},\r\n\t\t[theme.breakpoints.up('xl')]: {\r\n\t\t\tfontSize: 60,\r\n\t\t},\r\n\t},\r\n})\r\n\r\nconst theme = createTheme({\r\n\tpalette: {\r\n\t\tprimary: {\r\n\t\t\tmain: '#FDFEFE',\r\n\t\t},\r\n\t\tsecondary: {\r\n\t\t\tmain: '#2196f3',\r\n\t\t},\r\n\t},\r\n})\r\n\r\nclass Buy extends Component {\r\n\trender() {\r\n\t\tconst { classes } = this.props\r\n\t\treturn (\r\n\t\t\t<div>\r\n\t\t\t\t<ThemeProvider theme={theme}>\r\n\t\t\t\t\t<TopBar />\r\n\t\t\t\t\t<Container component=\"main\" className={classes.container}>\r\n\t\t\t\t\t\t<div className={classes.paper}>\r\n\t\t\t\t\t\t\t<Typography color=\"inherit\" noWrap className={classes.shouldKnow}>\r\n\t\t\t\t\t\t\t\t<b></b>\r\n\t\t\t\t\t\t\t</Typography>\r\n\t\t\t\t\t\t</div>\r\n\t\t\t\t\t</Container>\r\n\t\t\t\t</ThemeProvider>\r\n\t\t\t</div>\r\n\t\t)\r\n\t}\r\n}\r\n\r\nexport default withStyles(styles, { withTheme: true })(Buy)\r\n","import React from 'react';\r\nimport { HashRouter, Route, Switch } from 'react-router-dom';\r\n\r\nimport App from '../App';\r\nimport Publish from '../view/Publish';\r\nimport NFTInfo from '../view/NFTInfo';\r\nimport SellSingle from '../view/SellSingle';\r\nimport BuySingle from '../view/BuySingle';\r\nimport Collections from '../view/Collections';\r\nimport Spark from '../view/NFTSpark';\r\nimport IntroPublish from '../view/IntroPublish';\r\nimport EncryptedPublish from '../view/EncryptedPublish';\r\nimport Buy from '../view/Buy';\r\n\r\nconst BasicRoute = () => (\r\n\t<HashRouter>\r\n\t\t<Switch>\r\n\t\t\t<Route exact path=\"/\" component={App} />\r\n\t\t\t<Route exact path=\"/introPublish\" component={IntroPublish} />\r\n\t\t\t<Route exact path=\"/buy\" component={Buy} />\r\n\t\t\t<Route exact path=\"/publish\" component={Publish} />\r\n\t\t\t<Route exact path=\"/encryptedPublish\" component={EncryptedPublish} />\r\n\t\t\t<Route exact path=\"/sellSingle/:NFTId\" component={SellSingle} />\r\n\t\t\t<Route exact path=\"/buySingle/:NFTId\" component={BuySingle} />\r\n\t\t\t<Route exact path=\"/collections\" component={Collections} />\r\n\t\t\t<Route exact path=\"/NFT/:id\" component={NFTInfo} />\r\n\t\t\t<Route exact path=\"/NFT/spark/:id\" component={Spark} />\r\n\t\t</Switch>\r\n\t</HashRouter>\r\n);\r\n\r\nexport default BasicRoute;\r\n","import i18next from 'i18next'\r\nimport { initReactI18next } from 'react-i18next'\r\nimport XHR from 'i18next-xhr-backend'\r\nimport LanguageDetector from 'i18next-browser-languagedetector'\r\n\r\ni18next\r\n\t.use(XHR)\r\n\t.use(LanguageDetector)\r\n\t.use(initReactI18next)\r\n\t.init({\r\n\t\tbackend: {\r\n\t\t\tloadPath: './locales/{{lng}}.json',\r\n\t\t},\r\n\t\treact: {\r\n\t\t\tuseSuspense: false,\r\n\t\t},\r\n\t\tfallbackLng: 'en',\r\n\t\tpreload: ['en', 'zh', 'zh-cn'],\r\n\t\tkeySeparator: false,\r\n\t\tinterpolation: {\r\n\t\t\tescapeValue: false,\r\n\t\t},\r\n\t})\r\n\r\nexport default i18next\r\n","import React from 'react'\r\nimport ReactDOM from 'react-dom'\r\nimport './index.css'\r\nimport * as serviceWorker from './utils/serviceWorker'\r\nimport 'bootstrap/dist/css/bootstrap.css'\r\nimport 'bootstrap/dist/css/bootstrap-theme.css'\r\nimport Router from './router/Router'\r\nimport './utils/i18n'\r\n\r\nReactDOM.render(<Router />, document.getElementById('root'))\r\n\r\n// If you want your app to work offline and load faster, you can change\r\n// unregister() to register() below. Note this comes with some pitfalls.\r\n// Learn more about service workers: https://bit.ly/CRA-PWA\r\nserviceWorker.unregister()\r\n","module.exports.pinata_api_key = 'e991ae84dcfbb8989294'\r\nmodule.exports.pinata_secret_api_key = 'c0bacda4094b3e5edc720e15a07ffc7cb853c383cbff0fcc14eda8024e7223de'\r\n"],"sourceRoot":""}